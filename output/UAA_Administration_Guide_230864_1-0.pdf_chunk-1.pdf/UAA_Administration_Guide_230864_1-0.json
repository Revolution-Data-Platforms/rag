[{"header": "", "content": [{"text": "\uf05a ", "table_path": "", "page_number": 0, "type": "Figure", "header": ""}, {"text": "If multiple instances are found, then the tunneling should be done per instance with different local ports in different bash sessions. Nifi GUI will be accessed based on the port given for respective instance ", "table_path": "", "page_number": 0, "type": "P", "header": ""}, {"text": "3. ", "table_path": "", "page_number": 0, "type": "L/LI/Lbl", "header": ""}, {"text": "Access nifi ui using url ", "table_path": "", "page_number": 0, "type": "L/LI/LBody", "header": ""}, {"text": "", "table_path": "", "page_number": 0, "type": "L/LI", "header": ""}, {"text": "", "table_path": "", "page_number": 0, "type": "L", "header": ""}, {"text": "http://localhost:<local-port-to-access-ui>/nifi/ ", "table_path": "", "page_number": 0, "type": "Aside/P", "header": ""}, {"text": "Example: http://localhost:8080/nifi/ ", "table_path": "", "page_number": 0, "type": "Aside[2]/P", "header": ""}, {"text": "", "table_path": "", "page_number": 0, "type": "L[2]", "header": ""}, {"text": "", "table_path": "figures/fileoutpart3.png", "page_number": 1, "type": "Figure[2]", "header": ""}, {"text": "", "table_path": "figures/fileoutpart4.png", "page_number": 1, "type": "Figure[3]", "header": ""}, {"text": "Kafka Brokers : kafka.docker:9092 ", "table_path": "", "page_number": 1, "type": "Aside[3]/P", "header": ""}, {"text": "Topic Name : com.ciena.bp.uaa.pm.generic Group ID : EXTERNAL-KAFKA-PM ", "table_path": "", "page_number": 1, "type": "Aside[3]/P[2]", "header": ""}, {"text": "\uf05a ", "table_path": "", "page_number": 1, "type": "P[2]", "header": ""}, {"text": "Group ID should be common for consumer in all other UAA-Kafka-Bridge instances, if different duplicate entries may be found in external Kafka topics. ", "table_path": "", "page_number": 1, "type": "P[3]", "header": ""}, {"text": "", "table_path": "", "page_number": 2, "type": "L[3]", "header": ""}, {"text": "Kafka Brokers : 10.107.3.59:9092 ", "table_path": "", "page_number": 3, "type": "Aside[4]/P", "header": ""}, {"text": "Topic Name : external.uaa.pm.generic ", "table_path": "", "page_number": 3, "type": "Aside[4]/P[2]", "header": ""}, {"text": "Use Transactions : false ", "table_path": "", "page_number": 3, "type": "Aside[4]/P[3]", "header": ""}, {"text": "Max Request Size : 15MB ", "table_path": "", "page_number": 3, "type": "Aside[4]/P[4]", "header": ""}, {"text": "", "table_path": "", "page_number": 3, "type": "L[4]", "header": ""}, {"text": "Right click on Producer Processor and select \u201cConfigure\u201d. ", "table_path": "", "page_number": 3, "type": "P[4]", "header": ""}, {"text": "", "table_path": "figures/fileoutpart9.png", "page_number": 4, "type": "Figure[4]", "header": ""}, {"text": "Below will be the graph that will be seen on completing the above steps. ", "table_path": "", "page_number": 4, "type": "P[5]", "header": ""}, {"text": "", "table_path": "figures/fileoutpart10.png", "page_number": 4, "type": "Figure[5]", "header": ""}, {"text": "", "table_path": "figures/fileoutpart11.png", "page_number": 4, "type": "Figure[6]", "header": ""}, {"text": "\uf05a ", "table_path": "", "page_number": 4, "type": "Figure[6]", "header": ""}, {"text": "The external Kafka IP should be reachable from UAA-Kafka-Bridge container. Add host name mapping if required from the below procedure. ", "table_path": "", "page_number": 4, "type": "P[6]", "header": ""}]}, {"header": "", "content": [{"text": "", "table_path": "", "page_number": 5, "type": "L[5]", "header": ""}, {"text": "vi", "table_path": "", "page_number": 5, "type": "Aside[5]/L/LI/Lbl", "header": ""}, {"text": " /etc/hosts ", "table_path": "", "page_number": 5, "type": "Aside[5]/L/LI/LBody", "header": ""}, {"text": "", "table_path": "", "page_number": 5, "type": "Aside[5]/L/LI", "header": ""}, {"text": "", "table_path": "", "page_number": 5, "type": "Aside[5]/L", "header": ""}, {"text": "3. ", "table_path": "", "page_number": 5, "type": "L[6]/LI/Lbl", "header": ""}, {"text": "Provide IP of VM with host name of external kafka. ", "table_path": "", "page_number": 5, "type": "L[6]/LI/LBody", "header": ""}, {"text": "", "table_path": "", "page_number": 5, "type": "L[6]/LI", "header": ""}, {"text": "", "table_path": "", "page_number": 5, "type": "L[6]", "header": ""}, {"text": "<external kafka ip> <Host name of external kafka ip> ", "table_path": "", "page_number": 5, "type": "Aside[6]/P", "header": ""}, {"text": "Example: 10.107.3.59 ip-10-107-3-59.ap-south-1.compute.internal ", "table_path": "", "page_number": 5, "type": "Aside[7]/P", "header": ""}, {"text": "\uf05a ", "table_path": "", "page_number": 5, "type": "L[7]/LI/Lbl", "header": ""}, {"text": "Repeat the complete configuration for all the instances of UAA-Kafka-Bridge. ", "table_path": "", "page_number": 5, "type": "L[7]/LI/LBody", "header": ""}, {"text": "", "table_path": "", "page_number": 5, "type": "L[7]/LI", "header": ""}, {"text": "", "table_path": "", "page_number": 5, "type": "L[7]", "header": ""}]}, {"header": "Working with Logs ", "content": [{"text": "UAA creates logs at each level of installation/use of the software for ease of troubleshooting by the system admins and support team. ", "table_path": "", "page_number": 6, "type": "P[7]", "header": "Working with Logs "}, {"text": "Following table lists the container where the users can find the logs which can be used troubleshoot issues -", "table_path": "", "page_number": 6, "type": "P[8]", "header": "Working with Logs "}, {"text": "Log location ", "table_path": "", "page_number": 6, "type": "P[9]", "header": "Working with Logs "}, {"text": "", "table_path": "tables/fileoutpart12.xlsx", "page_number": 6, "type": "Table", "header": "Working with Logs "}]}, {"header": "", "content": []}, {"header": "CLUSTER/CONTAINER NAME ", "content": []}, {"header": "", "content": []}, {"header": "LOG LOCATION ", "content": []}, {"header": "", "content": []}, {"header": "LOG CONFIG LOCATION ", "content": [{"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[2]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-core ", "table_path": "", "page_number": 6, "type": "Table/TR[2]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[2]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[2]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[2]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "/bp2/data/conf/log4j/log4j2.xml ", "table_path": "", "page_number": 6, "type": "Table/TR[2]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[3]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-fme ", "table_path": "", "page_number": 6, "type": "Table/TR[3]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[3]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[3]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[3]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "/bp2/conf/log4j2.xml ", "table_path": "", "page_number": 6, "type": "Table/TR[3]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[4]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-med-core ", "table_path": "", "page_number": 6, "type": "Table/TR[4]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[4]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[4]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[4]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "/bp2/conf/log4j2.xml ", "table_path": "", "page_number": 6, "type": "Table/TR[4]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[5]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-med-fme ", "table_path": "", "page_number": 6, "type": "Table/TR[5]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[5]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[5]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[5]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "/bp2/conf/log4j2.xml ", "table_path": "", "page_number": 6, "type": "Table/TR[5]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[6]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-med-pme ", "table_path": "", "page_number": 6, "type": "Table/TR[6]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[6]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[6]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[6]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "/bp2/conf/log4j2.xml ", "table_path": "", "page_number": 6, "type": "Table/TR[6]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[7]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-med-sae ", "table_path": "", "page_number": 6, "type": "Table/TR[7]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[7]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[7]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[7]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "/bp2/conf/log4j.properties ", "table_path": "", "page_number": 6, "type": "Table/TR[7]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[8]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-sbc ", "table_path": "", "page_number": 6, "type": "Table/TR[8]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[8]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[8]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[8]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[8]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[9]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-logstash ", "table_path": "", "page_number": 6, "type": "Table/TR[9]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[9]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[9]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[9]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "NA ", "table_path": "", "page_number": 6, "type": "Table/TR[9]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[10]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-ui ", "table_path": "", "page_number": 6, "type": "Table/TR[10]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[10]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[10]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[10]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "/bp2/src/conf/server.properties ", "table_path": "", "page_number": 6, "type": "Table/TR[10]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[11]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-tmf-api ", "table_path": "", "page_number": 6, "type": "Table/TR[11]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[11]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[11]/TD[2]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 6, "type": "Table/TR[11]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "/bp2/conf/log4j2.xml ", "table_path": "", "page_number": 6, "type": "Table/TR[11]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "tables/fileoutpart14.xlsx", "page_number": 7, "type": "Table[2]", "header": "LOG CONFIG LOCATION "}]}, {"header": "", "content": []}, {"header": "CLUSTER/CONTAINER NAME ", "content": []}, {"header": "", "content": []}, {"header": "", "content": []}, {"header": "LOG LOCATION ", "content": []}, {"header": "", "content": []}, {"header": "LOG CONFIG LOCATION ", "content": [{"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[2]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-pm-db ", "table_path": "", "page_number": 7, "type": "Table[2]/TR[2]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[2]/TR[2]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[2]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[2]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[2]/TD[4]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[2]/TD[4]/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[3]/TD", "header": "LOG CONFIG LOCATION "}, {"text": "uaa-graph-db ", "table_path": "", "page_number": 7, "type": "Table[2]/TR[3]/TD/P", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[3]/TD/P[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[2]/TR[3]/TD[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[3]/TD[3]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[3]/TD[3]/P", "header": "LOG CONFIG LOCATION "}, {"text": "For remaining containers, logs can be found at /var/log/ciena/blueplanet.log The log config location is present inside the container. ", "table_path": "", "page_number": 7, "type": "Table[2]/TR[3]/TD[3]/P[2]", "header": "LOG CONFIG LOCATION "}, {"text": "", "table_path": "", "page_number": 7, "type": "Table[2]/TR[3]/TD[4]", "header": "LOG CONFIG LOCATION "}, {"text": "/var/lib/neo4j/conf/neo4j.conf ", "table_path": "", "page_number": 7, "type": "Table[2]/TR[3]/TD[4]/P", "header": "LOG CONFIG LOCATION "}]}, {"header": "Adding and replacing BPUAA hosts ", "content": [{"text": "Complete this procedure to add or replace BPUAA hosts. ", "table_path": "", "page_number": 8, "type": "P[10]", "header": "Adding and replacing BPUAA hosts "}, {"text": "", "table_path": "", "page_number": 8, "type": "L[8]", "header": "Adding and replacing BPUAA hosts "}, {"text": "", "table_path": "figures/fileoutpart16.png", "page_number": 8, "type": "Figure[7]", "header": "Adding and replacing BPUAA hosts "}, {"text": "\uf05a ", "table_path": "", "page_number": 8, "type": "Figure[7]", "header": "Adding and replacing BPUAA hosts "}, {"text": "", "table_path": "", "page_number": 8, "type": "P[11]", "header": "Adding and replacing BPUAA hosts "}]}, {"header": "Adding and replacing hosts in non-geored ", "content": [{"text": "Complete this procedure to add or replace BPUAA hosts in a non-geored HA installation. ", "table_path": "", "page_number": 8, "type": "P[12]", "header": "Adding and replacing hosts in non-geored "}, {"text": "Adding and replacing BPUAA hosts using the Blue Planet installer (bpi) is accomplished in five general steps: ", "table_path": "", "page_number": 8, "type": "P[13]", "header": "Adding and replacing hosts in non-geored "}, {"text": "", "table_path": "", "page_number": 8, "type": "L[9]", "header": "Adding and replacing hosts in non-geored "}, {"text": "", "table_path": "figures/fileoutpart17.png", "page_number": 8, "type": "Figure[8]", "header": "Adding and replacing hosts in non-geored "}, {"text": "\uf05a ", "table_path": "", "page_number": 8, "type": "Figure[8]", "header": "Adding and replacing hosts in non-geored "}, {"text": "", "table_path": "", "page_number": 8, "type": "P[14]", "header": "Adding and replacing hosts in non-geored "}]}, {"header": "Adding a Host ", "content": [{"text": "", "table_path": "", "page_number": 8, "type": "L[10]", "header": "Adding a Host "}, {"text": "Before: ", "table_path": "", "page_number": 9, "type": "Aside[8]/P", "header": "Adding a Host "}, {"text": "[cluster] ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[2]", "header": "Adding a Host "}, {"text": "host0 ansible_host=10.123.0.1 controller=True ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[3]", "header": "Adding a Host "}, {"text": "host1 ansible_host=10.123.0.2 controller=False ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[4]", "header": "Adding a Host "}, {"text": "host2 ansible_host=10.123.0.3 controller=False ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[5]", "header": "Adding a Host "}, {"text": "#host3 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[6]", "header": "Adding a Host "}, {"text": "#host4 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[7]", "header": "Adding a Host "}, {"text": "After: ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[8]", "header": "Adding a Host "}, {"text": "[cluster] ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[9]", "header": "Adding a Host "}, {"text": "host0 ansible_host=10.123.0.1 controller=True ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[10]", "header": "Adding a Host "}, {"text": "host1 ansible_host=10.123.0.2 controller=True ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[11]", "header": "Adding a Host "}, {"text": "host2 ansible_host=10.123.0.3 controller=True ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[12]", "header": "Adding a Host "}, {"text": "host3 ansible_host=10.123.0.4 controller=False ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[13]", "header": "Adding a Host "}, {"text": "#host4 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 9, "type": "Aside[8]/P[14]", "header": "Adding a Host "}, {"text": "3. Save the hosts file and exit the text editor. ", "table_path": "", "page_number": 9, "type": "P[15]", "header": "Adding a Host "}, {"text": "4. Start the setup users script to manage users and keys. ", "table_path": "", "page_number": 9, "type": "P[16]", "header": "Adding a Host "}, {"text": "./bpi --setup-users ", "table_path": "", "page_number": 9, "type": "Aside[9]/P", "header": "Adding a Host "}, {"text": "This command: ", "table_path": "", "page_number": 9, "type": "P[17]", "header": "Adding a Host "}, {"text": "", "table_path": "", "page_number": 9, "type": "L[11]", "header": "Adding a Host "}, {"text": "5. Validate the system (optional). ", "table_path": "", "page_number": 9, "type": "P[18]", "header": "Adding a Host "}, {"text": "The validation displays a series of checks, the status of each check, Passed or Failed, then details about the check. If checks fail, details about the failure are provided. ", "table_path": "", "page_number": 9, "type": "P[19]", "header": "Adding a Host "}, {"text": "./bpi --validate <profile> ", "table_path": "", "page_number": 9, "type": "Aside[10]/P", "header": "Adding a Host "}, {"text": "Where<profile> is the validation profile. ", "table_path": "", "page_number": 9, "type": "Aside[10]/P[2]", "header": "Adding a Host "}, {"text": "Possible values are: orch-dev (lab environment) or orch-prod (production environment). ", "table_path": "", "page_number": 9, "type": "Aside[10]/P[3]", "header": "Adding a Host "}, {"text": "6. ", "table_path": "", "page_number": 10, "type": "L[12]/LI/Lbl", "header": "Adding a Host "}, {"text": "Configure the site. ", "table_path": "", "page_number": 10, "type": "L[12]/LI/LBody", "header": "Adding a Host "}, {"text": "", "table_path": "", "page_number": 10, "type": "L[12]/LI", "header": "Adding a Host "}, {"text": "", "table_path": "", "page_number": 10, "type": "L[12]", "header": "Adding a Host "}, {"text": "./bpi --site <lineup file> ", "table_path": "", "page_number": 10, "type": "Aside[11]/P", "header": "Adding a Host "}, {"text": "", "table_path": "figures/fileoutpart18.png", "page_number": 10, "type": "Figure[9]", "header": "Adding a Host "}, {"text": "<lineup.yml> is the location of this file. For example, /opt/ciena/lineup-multirhel.yml. ", "table_path": "", "page_number": 10, "type": "Figure[9]", "header": "Adding a Host "}, {"text": "7. ", "table_path": "", "page_number": 10, "type": "L[13]/LI/Lbl", "header": "Adding a Host "}, {"text": "When the site script is complete, start the installation script: ", "table_path": "", "page_number": 10, "type": "L[13]/LI/LBody", "header": "Adding a Host "}, {"text": "", "table_path": "", "page_number": 10, "type": "L[13]/LI", "header": "Adding a Host "}, {"text": "", "table_path": "", "page_number": 10, "type": "L[13]", "header": "Adding a Host "}, {"text": "./bpi --install <lineup file> ", "table_path": "", "page_number": 10, "type": "Aside[12]/P", "header": "Adding a Host "}, {"text": "", "table_path": "", "page_number": 10, "type": "L[14]", "header": "Adding a Host "}, {"text": "", "table_path": "figures/fileoutpart20.png", "page_number": 10, "type": "Figure[10]", "header": "Adding a Host "}, {"text": "solutions=`sudo solman sps | grep ^artifactory.ciena.com` ; for s in $solutions ; do sudo solman \"solution_stop $s\" ; done ; solutions=`sudo solman sps | grep ^artifactory.ciena.com` ; for s in $solutions ; do sudo solman \"solution_start $s\" ; done ; ", "table_path": "", "page_number": 10, "type": "Figure[10]", "header": "Adding a Host "}]}, {"header": "Replacing Host 0 (where bpi is installed) ", "content": [{"text": "", "table_path": "", "page_number": 10, "type": "L[15]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "wget --user <Ciena user name> --ask-pass https://artifactory.ciena.com/list/blueplanet-dist/bpi/bpi-<release number>-<load number>.sh ", "table_path": "", "page_number": 11, "type": "Aside[13]/P", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "c. ", "table_path": "", "page_number": 11, "type": "L[16]/LI/Lbl", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "Extract the bp-installer package in /home/bpadmin directory. ", "table_path": "", "page_number": 11, "type": "L[16]/LI/LBody", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 11, "type": "L[16]/LI", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 11, "type": "L[16]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "bash bpi-<release number>-<load number>.sh ", "table_path": "", "page_number": 11, "type": "Aside[14]/P", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 11, "type": "L[17]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "Before: ", "table_path": "", "page_number": 11, "type": "Aside[15]/P", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "[cluster] ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[2]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "host0 ansible_host=10.123.0.1 controller=True ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[3]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "host1 ansible_host=10.123.0.2 controller=True ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[4]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "host2 ansible_host=10.123.0.3 controller=True ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[5]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "#host3 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[6]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "#host4 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[7]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "After: ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[8]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "[cluster] ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[9]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "host0 ansible_host=10.123.0.1 controller=True ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[10]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "host1 ansible_host=10.123.0.2 controller=True host2 ansible_host=10.123.0.3 controller=True #host3 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[11]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "#host4 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 11, "type": "Aside[15]/P[12]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 11, "type": "L[18]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "./bpi --setup-users ", "table_path": "", "page_number": 12, "type": "Aside[16]/L/LI/LBody", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 12, "type": "Aside[16]/L/LI", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 12, "type": "Aside[16]/L", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "9. ", "table_path": "", "page_number": 12, "type": "L[19]/LI/Lbl", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "Validate the system (optional) ", "table_path": "", "page_number": 12, "type": "L[19]/LI/LBody/ParagraphSpan", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "The validation displays a series of checks, the status of each check, Passed or Failed, then details about the check. If checks fail, details about the failure are provided. ", "table_path": "", "page_number": 12, "type": "L[19]/LI/LBody/P", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 12, "type": "L[19]/LI/LBody", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 12, "type": "L[19]/LI", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 12, "type": "L[19]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "./bpi --validate <profile> ", "table_path": "", "page_number": 12, "type": "Aside[17]/P", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "Where<profile> is the validation profile. ", "table_path": "", "page_number": 12, "type": "Aside[17]/P[2]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "figures/fileoutpart22.png", "page_number": 12, "type": "Figure[11]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "Possible values are: orch-dev (lab environment) or orch-prod (production environment). ", "table_path": "", "page_number": 12, "type": "Figure[11]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "10. Configure the site: ", "table_path": "", "page_number": 12, "type": "P[20]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "./bpi --site <lineup file> ", "table_path": "", "page_number": 12, "type": "Aside[18]/P", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "<lineup.yml> is the location of this file. For example, /opt/ciena/lineup-multirhel.yml. ", "table_path": "", "page_number": 12, "type": "Aside[18]/P[2]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "11. When the site script is complete, start the installation script: ", "table_path": "", "page_number": 12, "type": "P[21]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "./bpi --install <lineup file> ", "table_path": "", "page_number": 12, "type": "Aside[19]/P", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "12. Restart all uaa application using below command. ", "table_path": "", "page_number": 12, "type": "P[22]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 12, "type": "L[20]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "Detected an issue with kafka broker(s) [1002], run a partition re-assignment to fix ", "table_path": "", "page_number": 13, "type": "Aside[20]/P", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "Execute below steps: ", "table_path": "", "page_number": 13, "type": "Aside[20]/P[2]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "", "page_number": 13, "type": "Aside[20]/L", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "", "table_path": "figures/fileoutpart24.png", "page_number": 13, "type": "Figure[12]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "\uf05a ", "table_path": "", "page_number": 13, "type": "Figure[12]", "header": "Replacing Host 0 (where bpi is installed) "}, {"text": "Do not change the scale parameter for PM-DB solution to True. It should be false. ", "table_path": "", "page_number": 13, "type": "P[23]", "header": "Replacing Host 0 (where bpi is installed) "}]}, {"header": "Replacing Host N(other than host 0) ", "content": [{"text": "", "table_path": "", "page_number": 13, "type": "L[21]", "header": "Replacing Host N(other than host 0) "}, {"text": "Before: ", "table_path": "", "page_number": 13, "type": "Aside[21]/P", "header": "Replacing Host N(other than host 0) "}, {"text": "[cluster] ", "table_path": "", "page_number": 13, "type": "Aside[21]/P[2]", "header": "Replacing Host N(other than host 0) "}, {"text": "host0 ansible_host=10.123.0.1 controller=True host1 ansible_host=10.123.0.2 controller=True host2 ansible_host=10.123.0.3 controller=True #host3 ansible_host=a.b.c.d controller=False #host4 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 13, "type": "Aside[21]/P[3]", "header": "Replacing Host N(other than host 0) "}, {"text": "After: ", "table_path": "", "page_number": 13, "type": "Aside[21]/P[4]", "header": "Replacing Host N(other than host 0) "}, {"text": "[cluster] ", "table_path": "", "page_number": 13, "type": "Aside[21]/P[5]", "header": "Replacing Host N(other than host 0) "}, {"text": "host0 ansible_host=10.123.0.1 controller=True host1 ansible_host=10.123.0.6 controller=True host2 ansible_host=10.123.0.3 controller=True #host3 ansible_host=a.b.c.d controller=False #host4 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 13, "type": "Aside[21]/P[6]", "header": "Replacing Host N(other than host 0) "}, {"text": "3. ", "table_path": "", "page_number": 13, "type": "L[22]/LI/Lbl", "header": "Replacing Host N(other than host 0) "}, {"text": "Follow all steps from 3-11 similar to the steps followed in ", "table_path": "", "page_number": 13, "type": "L[22]/LI/LBody", "header": "Replacing Host N(other than host 0) "}, {"text": "Adding and replacing hosts in non-geored", "table_path": "", "page_number": 13, "type": "L[22]/LI/LBody/Reference", "header": "Replacing Host N(other than host 0) "}, {"text": ". ", "table_path": "", "page_number": 13, "type": "L[22]/LI/LBody", "header": "Replacing Host N(other than host 0) "}, {"text": "", "table_path": "", "page_number": 13, "type": "L[22]/LI/LBody", "header": "Replacing Host N(other than host 0) "}, {"text": "", "table_path": "", "page_number": 13, "type": "L[22]/LI", "header": "Replacing Host N(other than host 0) "}, {"text": "", "table_path": "", "page_number": 13, "type": "L[22]", "header": "Replacing Host N(other than host 0) "}]}, {"header": "Adding and replacing BPUAA geored hosts ", "content": [{"text": "This section describes how to add or replace BPUAA hosts for either single-node geored installations or when replacing host 0 of either the Active or Standby configuration of a GR HA cluster. ", "table_path": "", "page_number": 14, "type": "P[24]", "header": "Adding and replacing BPUAA geored hosts "}, {"text": "This procedure allows you to replace your existing Active site if it fails, or take down the Active site for server maintenance. ", "table_path": "", "page_number": 14, "type": "P[25]", "header": "Adding and replacing BPUAA geored hosts "}, {"text": "Adding and replacing BPUAA hosts using the Blue Planet installer (bpi) is accomplished in five general steps: ", "table_path": "", "page_number": 14, "type": "P[26]", "header": "Adding and replacing BPUAA geored hosts "}, {"text": "", "table_path": "", "page_number": 14, "type": "L[23]", "header": "Adding and replacing BPUAA geored hosts "}, {"text": "For georedundant sites, you must check or update the following in the hosts file: ", "table_path": "", "page_number": 14, "type": "P[27]", "header": "Adding and replacing BPUAA geored hosts "}, {"text": "", "table_path": "", "page_number": 14, "type": "L[24]", "header": "Adding and replacing BPUAA geored hosts "}, {"text": "", "table_path": "", "page_number": 14, "type": "P[28]", "header": "Adding and replacing BPUAA geored hosts "}]}, {"header": "To add or replace hosts ", "content": [{"text": "1. ", "table_path": "", "page_number": 14, "type": "L[25]/LI/Lbl", "header": "To add or replace hosts "}, {"text": "Set up the hosts file: ", "table_path": "", "page_number": 14, "type": "L[25]/LI/LBody/ParagraphSpan", "header": "To add or replace hosts "}, {"text": "a. ", "table_path": "", "page_number": 14, "type": "L[25]/LI/LBody/L/LI/Lbl", "header": "To add or replace hosts "}, {"text": "Log in to host 0 as bpadmin and navigate to the /home/bpadmin/bpi directory. ", "table_path": "", "page_number": 14, "type": "L[25]/LI/LBody/L/LI/LBody", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 14, "type": "L[25]/LI/LBody/L/LI", "header": "To add or replace hosts "}, {"text": "b. ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/Lbl", "header": "To add or replace hosts "}, {"text": "Use a text editor, such as vi, to open the hosts file. ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/ParagraphSpan", "header": "To add or replace hosts "}, {"text": "\u25aa ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI/Lbl", "header": "To add or replace hosts "}, {"text": "To add a host(s), uncomment and set a host entry to the required IP address for that host. Make sure to use the IP address (IPv4, not IPv6), not the hostname. ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI/LBody/ParagraphSpan", "header": "To add or replace hosts "}, {"text": "Before: ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI/LBody/P", "header": "To add or replace hosts "}, {"text": "", "table_path": "figures/fileoutpart25.png", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI/LBody/Figure", "header": "To add or replace hosts "}, {"text": "[cluster] host0 ansible_host=10.186.0.1 controller=True #host1 ansible_host=10.186.0.2 controller=False #host2 ansible_host=10.186.0.3 controller=False #host3 ansible_host=a.b.c.d controller=False #host4 ansible_host=a.b.c.d controller=False ##site_ip=a.b.c.d/42 + After: + [cluster] host0 ansible_host=10.186.0.1 controller=True host1 ansible_host=10.186.0.2 controller=True host2 ansible_host=10.186.0.3 controller=True #host3 ansible_host=10.186.0.4 controller=False #host4 ansible_host=a.b.c.d controller=False site_ip=10.186.0.1/22 ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI/LBody/Figure", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI/LBody", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI", "header": "To add or replace hosts "}, {"text": "\u25aa ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI[2]/Lbl", "header": "To add or replace hosts "}, {"text": "To replace a host, replace the host entry/entries in the hosts file. In the following example, host2 10.186.0.3 is replaced with 10.186.0.9. ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI[2]/LBody/ParagraphSpan", "header": "To add or replace hosts "}, {"text": "Before: ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI[2]/LBody/P", "header": "To add or replace hosts "}, {"text": "", "table_path": "figures/fileoutpart26.png", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI[2]/LBody/Figure", "header": "To add or replace hosts "}, {"text": "[cluster] host0 ansible_host=10.186.0.1 controller=True host1 ansible_host=10.186.0.2 controller=True host2 ansible_host=10.186.0.3 controller=True #host3 ansible_host=a.b.c.d controller=False #host4 ansible_host=a.b.c.d controller=False #site_ip=a.b.c.d/42 #geored_site_id=<site name> # Valid options for #geored_site_state are ACTIVE or STANDBY. #geored_site_state=<choose state> ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI[2]/LBody/Figure", "header": "To add or replace hosts "}, {"text": "After: ", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI[2]/LBody/P[2]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI[2]/LBody", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L/LI[2]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody/L", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]/LBody", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 15, "type": "L[25]/LI/LBody/L/LI[2]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 14, "type": "L[25]/LI/LBody/L", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 14, "type": "L[25]/LI/LBody", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 14, "type": "L[25]/LI", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 14, "type": "L[25]", "header": "To add or replace hosts "}, {"text": "[cluster] host0 ansible_host=10.186.0.1 controller=True host1 ansible_host=10.186.0.2 controller=True host2 ansible_host=10.186.0.9 controller=True #host3 ansible_host=a.b.c.d controller=False #host4 ansible_host=a.b.c.d controller=False site_ip=10.186.0.1/22 geored_site_id=SiteA # Valid options for geored_site_state are ACTIVE or STANDBY. ", "table_path": "", "page_number": 16, "type": "Aside[22]/P", "header": "To add or replace hosts "}, {"text": "geored_site_state=ACTIVE ", "table_path": "", "page_number": 16, "type": "Aside[22]/P[2]", "header": "To add or replace hosts "}, {"text": "After the hosts file is updated and accurately reflects the current system inventory, proceed to the next step. ", "table_path": "", "page_number": 16, "type": "P[29]", "header": "To add or replace hosts "}, {"text": "2. ", "table_path": "", "page_number": 16, "type": "L[26]/LI/Lbl", "header": "To add or replace hosts "}, {"text": "Validate the system: ", "table_path": "", "page_number": 16, "type": "L[26]/LI/LBody", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "L[26]/LI", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "L[26]", "header": "To add or replace hosts "}, {"text": "./bpi --validate <profile name> ", "table_path": "", "page_number": 16, "type": "Aside[23]/P", "header": "To add or replace hosts "}, {"text": "", "table_path": "tables/fileoutpart27.xlsx", "page_number": 16, "type": "Table[3]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "Table[3]/TR/TD", "header": "To add or replace hosts "}, {"text": "where ", "table_path": "", "page_number": 16, "type": "Table[3]/TR/TD/P", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "Table[3]/TR[2]/TD", "header": "To add or replace hosts "}, {"text": "<profile> ", "table_path": "", "page_number": 16, "type": "Table[3]/TR[2]/TD/P", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "Table[3]/TR[2]/TD[2]", "header": "To add or replace hosts "}, {"text": "is the validation profile. ", "table_path": "", "page_number": 16, "type": "Table[3]/TR[2]/TD[2]/P", "header": "To add or replace hosts "}, {"text": "The validation displays a series of checks, the status of each check, Passed or Failed, then details about the check. If checks fail, details about the failure are provided. ", "table_path": "", "page_number": 16, "type": "P[30]", "header": "To add or replace hosts "}, {"text": "3. ", "table_path": "", "page_number": 16, "type": "L[27]/LI/Lbl", "header": "To add or replace hosts "}, {"text": "When the system validation script is complete, start the setup users script to manage users and keys: ", "table_path": "", "page_number": 16, "type": "L[27]/LI/LBody", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "L[27]/LI", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "L[27]", "header": "To add or replace hosts "}, {"text": "./bpi --setup-users ", "table_path": "", "page_number": 16, "type": "Aside[24]/L/LI/LBody", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "Aside[24]/L/LI", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "Aside[24]/L", "header": "To add or replace hosts "}, {"text": "This command: ", "table_path": "", "page_number": 16, "type": "P[31]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "L[28]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 16, "type": "L[29]", "header": "To add or replace hosts "}, {"text": "./bpi --site /opt/ciena/loads/xx.xx/lineup.yml ", "table_path": "", "page_number": 16, "type": "Aside[25]/Footnote", "header": "To add or replace hosts "}, {"text": "This command: ", "table_path": "", "page_number": 17, "type": "P[32]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 17, "type": "L[30]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 17, "type": "L[31]", "header": "To add or replace hosts "}, {"text": "", "table_path": "figures/fileoutpart33.png", "page_number": 17, "type": "Figure[13]", "header": "To add or replace hosts "}, {"text": "\uf05a ", "table_path": "", "page_number": 17, "type": "Figure[13]", "header": "To add or replace hosts "}, {"text": "", "table_path": "", "page_number": 17, "type": "P[33]", "header": "To add or replace hosts "}]}, {"header": "Troubleshooting ", "content": []}, {"header": "Checking Kafka topics ", "content": [{"text": "If you recieve Nagios alerts for Kafka indicating an issue with a Kafka broker (the one that is lost during the host replacement) and ractrl and trapf alerts indicating under-replicated partitions for their respective topics in Kafka, run the following procedures. ", "table_path": "", "page_number": 18, "type": "P[34]", "header": "Checking Kafka topics "}, {"text": "To check whether the Kafka topics require replication to the replacement host ", "table_path": "", "page_number": 18, "type": "P[35]", "header": "Checking Kafka topics "}, {"text": "1. ", "table_path": "", "page_number": 18, "type": "L[32]/LI/Lbl", "header": "Checking Kafka topics "}, {"text": "On ", "table_path": "", "page_number": 18, "type": "L[32]/LI/LBody/Span", "header": "Checking Kafka topics "}, {"text": "Host 0 (if replacing Host 1 or Host 2)", "table_path": "", "page_number": 18, "type": "L[32]/LI/LBody", "header": "Checking Kafka topics "}, {"text": " or ", "table_path": "", "page_number": 18, "type": "L[32]/LI/LBody/Span[2]", "header": "Checking Kafka topics "}, {"text": "Host 1 or Host 2 (if replacing Host 0)", "table_path": "", "page_number": 18, "type": "L[32]/LI/LBody", "header": "Checking Kafka topics "}, {"text": ", access the Solution Manager (solman) as ", "table_path": "", "page_number": 18, "type": "L[32]/LI/LBody/Span[3]", "header": "Checking Kafka topics "}, {"text": "bpadmin", "table_path": "", "page_number": 18, "type": "L[32]/LI/LBody/Span[4]", "header": "Checking Kafka topics "}, {"text": " by entering: ", "table_path": "", "page_number": 18, "type": "L[32]/LI/LBody/Span[5]", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 18, "type": "L[32]/LI/LBody", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 18, "type": "L[32]/LI", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 18, "type": "L[32]", "header": "Checking Kafka topics "}, {"text": "sudo solman ", "table_path": "", "page_number": 18, "type": "Aside[26]/P", "header": "Checking Kafka topics "}, {"text": "2. ", "table_path": "", "page_number": 18, "type": "L[33]/LI/Lbl", "header": "Checking Kafka topics "}, {"text": "Determine the version of the kafka container and instance by entering: ", "table_path": "", "page_number": 18, "type": "L[33]/LI/LBody", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 18, "type": "L[33]/LI", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 18, "type": "L[33]", "header": "Checking Kafka topics "}, {"text": "sps | grep kafka ", "table_path": "", "page_number": 18, "type": "Aside[27]/P", "header": "Checking Kafka topics "}, {"text": "Example of system output ", "table_path": "", "page_number": 18, "type": "P[36]", "header": "Checking Kafka topics "}, {"text": "", "table_path": "figures/fileoutpart34.png", "page_number": 18, "type": "Figure[14]", "header": "Checking Kafka topics "}, {"text": "artifactory.ciena.com/blueplanet/kafka:3.1.6-k1.1.9 kafka_3.1.6-k1.1.9-1_0 Started 172.16.2.18 11 days, 19:24:35.913239 kafka artifactory.ciena.com/blueplanet/kafka:3.1.6-k1.1.9 kafka_3.1.6-k1.1.9-1_1 Started 172.16.0.18 11 days, 19:47:14.090817 kafka artifactory.ciena.com/blueplanet/kafka:3.1.6-k1.1.9 kafka_3.1.6-k1.1.9-1_2 Started 172.16.1.10 11 days, 19:47:13.673350 kafka artifactory.ciena.com/blueplanet/kafkacomet:1.0.20  kafkacomet_1.0.20 Started 172.16.0.13 11 days, 19:47:15.741129 kafkacomet artifactory.ciena.com/blueplanet/kafkacomet:1.0.20  kafkacomet_1.0.20_1 Started 172.16.1.27 11 days, 19:47:08.363930 kafkacomet ", "table_path": "", "page_number": 18, "type": "Figure[14]", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 18, "type": "L[34]", "header": "Checking Kafka topics "}, {"text": "enter_container kafka_<kafka_instance> ", "table_path": "", "page_number": 18, "type": "Aside[28]/P", "header": "Checking Kafka topics "}, {"text": "", "table_path": "tables/fileoutpart35.xlsx", "page_number": 19, "type": "Table[4]", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 19, "type": "Table[4]/TR/TD", "header": "Checking Kafka topics "}, {"text": "WHERE ", "table_path": "", "page_number": 19, "type": "Table[4]/TR/TD/P", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 19, "type": "Table[4]/TR[2]/TD", "header": "Checking Kafka topics "}, {"text": "<kafka_instan ce> ", "table_path": "", "page_number": 19, "type": "Table[4]/TR[2]/TD/P", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 19, "type": "Table[4]/TR[2]/TD[2]", "header": "Checking Kafka topics "}, {"text": "is the kafka instance on Host 0 (if replacing Host 1 or Host 2) or Host 1 or Host 2 (if replacing Host 0). ", "table_path": "", "page_number": 19, "type": "Table[4]/TR[2]/TD[2]/P", "header": "Checking Kafka topics "}, {"text": "Example: 3.2.2-k1.1.9-1_0 ", "table_path": "", "page_number": 19, "type": "Table[4]/TR[2]/TD[2]/P[2]", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 19, "type": "L[35]", "header": "Checking Kafka topics "}, {"text": "./replica-health-check.sh ", "table_path": "", "page_number": 19, "type": "Aside[29]/P", "header": "Checking Kafka topics "}, {"text": "Example of system output ", "table_path": "", "page_number": 19, "type": "P[37]", "header": "Checking Kafka topics "}, {"text": "Collectiong ZooKeeper information... ", "table_path": "", "page_number": 19, "type": "Aside[30]/P", "header": "Checking Kafka topics "}, {"text": "zookeeper host 172.16.0.30:2181 is ok ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[2]", "header": "Checking Kafka topics "}, {"text": "zookeeper host 172.16.1.44:2181 is ok ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[3]", "header": "Checking Kafka topics "}, {"text": "Using zk host 172.16.1.44:2181 ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[4]", "header": "Checking Kafka topics "}, {"text": "Collecting broker info from ZooKeeper ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[5]", "header": "Checking Kafka topics "}, {"text": "Active broker ids: 1001,1002,1004 ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[6]", "header": "Checking Kafka topics "}, {"text": "Checking for under-replicated-partitions... ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[7]", "header": "Checking Kafka topics "}, {"text": "found 1586 under-replicated partitions ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[8]", "header": "Checking Kafka topics "}, {"text": "calculating outstanding replicas... ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[9]", "header": "Checking Kafka topics "}, {"text": "Outstanding replicas: 1001 1002 1003 ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[10]", "header": "Checking Kafka topics "}, {"text": "Replica 1001 present ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[11]", "header": "Checking Kafka topics "}, {"text": "Replica 1002 present ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[12]", "header": "Checking Kafka topics "}, {"text": "Replica 1003 MISSING ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[13]", "header": "Checking Kafka topics "}, {"text": "Preparing to rebalance partitions to brokers: 1001 1002 1004 ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[14]", "header": "Checking Kafka topics "}, {"text": "Dumping list of topics to /bp2/tmp/topicsToMove.json... ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[15]", "header": "Checking Kafka topics "}, {"text": "Creating partition reassignment plan in /bp2/tmp/plan.json ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[16]", "header": "Checking Kafka topics "}, {"text": "About to execute partition reassignment to brokers: 1001 1002 1004 ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[17]", "header": "Checking Kafka topics "}, {"text": "Press Enter to continue, Ctrl-C to cancel: ", "table_path": "", "page_number": 19, "type": "Aside[30]/P[18]", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 19, "type": "L[36]", "header": "Checking Kafka topics "}, {"text": "Save this to use as the --reassignment-json-file option during rollback Successfully started reassignment of partitions. ", "table_path": "", "page_number": 20, "type": "Aside[31]/P", "header": "Checking Kafka topics "}, {"text": "The above rollback plan was saved in /bp2/tmp/rollback.json To rollback, execute the following: kafka-reassign-partitions.sh --bootstrap-server localhost:9092 --zookeeper 172.16.1.44:2181/kafka --reassignment-json-file /bp2/tmp/rollback.json --execute ", "table_path": "", "page_number": 20, "type": "Aside[31]/P[2]", "header": "Checking Kafka topics "}, {"text": "10. Exit the kafka container by entering: ", "table_path": "", "page_number": 20, "type": "P[38]", "header": "Checking Kafka topics "}, {"text": "exit ", "table_path": "", "page_number": 20, "type": "Aside[32]/P", "header": "Checking Kafka topics "}, {"text": "To restart the ractrl and trapf services: ", "table_path": "", "page_number": 20, "type": "P[39]", "header": "Checking Kafka topics "}, {"text": "1. Enter ", "table_path": "", "page_number": 20, "type": "P[40]", "header": "Checking Kafka topics "}, {"text": "solution_app_restart <orchestrate_version> ractrl,trapf ", "table_path": "", "page_number": 20, "type": "Aside[33]/P", "header": "Checking Kafka topics "}, {"text": "", "table_path": "tables/fileoutpart39.xlsx", "page_number": 20, "type": "Table[5]", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 20, "type": "Table[5]/TR/TD", "header": "Checking Kafka topics "}, {"text": "WHERE ", "table_path": "", "page_number": 20, "type": "Table[5]/TR/TD/P", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 20, "type": "Table[5]/TR[2]/TD", "header": "Checking Kafka topics "}, {"text": "<orchestrate_version> ", "table_path": "", "page_number": 20, "type": "Table[5]/TR[2]/TD/P", "header": "Checking Kafka topics "}, {"text": "", "table_path": "", "page_number": 20, "type": "Table[5]/TR[2]/TD[2]", "header": "Checking Kafka topics "}, {"text": "is the version of the orchestrate solution. Example: 20.06.2-47 ", "table_path": "", "page_number": 20, "type": "Table[5]/TR[2]/TD[2]/P", "header": "Checking Kafka topics "}]}, {"header": "Clearing GlusterFS alerts ", "content": [{"text": "The GlusterFS alerts should clear on their own. If you want to clear them immediately, use this procedure. ", "table_path": "", "page_number": 20, "type": "P[41]", "header": "Clearing GlusterFS alerts "}, {"text": "To clear GlusterFS alerts: ", "table_path": "", "page_number": 20, "type": "P[42]", "header": "Clearing GlusterFS alerts "}, {"text": "1. ", "table_path": "", "page_number": 20, "type": "L[37]/LI/Lbl", "header": "Clearing GlusterFS alerts "}, {"text": "Enter the glusterfs container by entering: ", "table_path": "", "page_number": 20, "type": "L[37]/LI/LBody", "header": "Clearing GlusterFS alerts "}, {"text": "", "table_path": "", "page_number": 20, "type": "L[37]/LI", "header": "Clearing GlusterFS alerts "}, {"text": "", "table_path": "", "page_number": 20, "type": "L[37]", "header": "Clearing GlusterFS alerts "}, {"text": "enter_container glusterfs_<version>_<instance> ", "table_path": "", "page_number": 20, "type": "Aside[34]/P", "header": "Clearing GlusterFS alerts "}, {"text": "2. ", "table_path": "", "page_number": 20, "type": "L[38]/LI/Lbl", "header": "Clearing GlusterFS alerts "}, {"text": "Launch file system replication: ", "table_path": "", "page_number": 20, "type": "L[38]/LI/LBody", "header": "Clearing GlusterFS alerts "}, {"text": "", "table_path": "", "page_number": 20, "type": "L[38]/LI", "header": "Clearing GlusterFS alerts "}, {"text": "", "table_path": "", "page_number": 20, "type": "L[38]", "header": "Clearing GlusterFS alerts "}, {"text": "gluster volume heal gfsvol full ", "table_path": "", "page_number": 20, "type": "Aside[35]/P", "header": "Clearing GlusterFS alerts "}, {"text": "3. ", "table_path": "", "page_number": 21, "type": "L[39]/LI/Lbl", "header": "Clearing GlusterFS alerts "}, {"text": "Monitor progress with the following command: ", "table_path": "", "page_number": 21, "type": "L[39]/LI/LBody", "header": "Clearing GlusterFS alerts "}, {"text": "", "table_path": "", "page_number": 21, "type": "L[39]/LI", "header": "Clearing GlusterFS alerts "}, {"text": "", "table_path": "", "page_number": 21, "type": "L[39]", "header": "Clearing GlusterFS alerts "}, {"text": "gluster volume heal gfsvol info ", "table_path": "", "page_number": 21, "type": "Aside[36]/P", "header": "Clearing GlusterFS alerts "}, {"text": "Replication is complete once output shows \"Number of entries: 0\" on all 3 bricks. ", "table_path": "", "page_number": 21, "type": "P[43]", "header": "Clearing GlusterFS alerts "}, {"text": "4. ", "table_path": "", "page_number": 21, "type": "L[40]/LI/Lbl", "header": "Clearing GlusterFS alerts "}, {"text": "Exit the glusterfs container by entering: ", "table_path": "", "page_number": 21, "type": "L[40]/LI/LBody", "header": "Clearing GlusterFS alerts "}, {"text": "", "table_path": "", "page_number": 21, "type": "L[40]/LI", "header": "Clearing GlusterFS alerts "}, {"text": "", "table_path": "", "page_number": 21, "type": "L[40]", "header": "Clearing GlusterFS alerts "}, {"text": "exit ", "table_path": "", "page_number": 21, "type": "Aside[37]/P", "header": "Clearing GlusterFS alerts "}]}, {"header": "Proxy Setup to access Bphub ", "content": [{"text": "", "table_path": "", "page_number": 22, "type": "L[41]", "header": "Proxy Setup to access Bphub "}, {"text": "sudo solman ", "table_path": "", "page_number": 22, "type": "Aside[38]/P", "header": "Proxy Setup to access Bphub "}, {"text": "enter_container uaa-core_23.08.38_0 ", "table_path": "", "page_number": 22, "type": "Aside[38]/P[2]", "header": "Proxy Setup to access Bphub "}, {"text": "root@uaa-core:/bp2/app# ", "table_path": "", "page_number": 22, "type": "Aside[38]/P[3]", "header": "Proxy Setup to access Bphub "}, {"text": "3. ", "table_path": "", "page_number": 22, "type": "L[42]/LI/Lbl", "header": "Proxy Setup to access Bphub "}, {"text": "Now, set up the http proxy for yum: ", "table_path": "", "page_number": 22, "type": "L[42]/LI/LBody", "header": "Proxy Setup to access Bphub "}, {"text": "", "table_path": "", "page_number": 22, "type": "L[42]/LI", "header": "Proxy Setup to access Bphub "}, {"text": "", "table_path": "", "page_number": 22, "type": "L[42]", "header": "Proxy Setup to access Bphub "}, {"text": "vi /etc/yum.conf ", "table_path": "", "page_number": 22, "type": "Aside[39]/P", "header": "Proxy Setup to access Bphub "}, {"text": "+++ ", "table_path": "", "page_number": 22, "type": "Aside[39]/P[2]", "header": "Proxy Setup to access Bphub "}, {"text": "proxy=http://updateproxy.swisscom.com:8080 ", "table_path": "", "page_number": 22, "type": "Aside[39]/P[3]", "header": "Proxy Setup to access Bphub "}, {"text": "+++ ", "table_path": "", "page_number": 22, "type": "Aside[39]/P[4]", "header": "Proxy Setup to access Bphub "}, {"text": "", "table_path": "", "page_number": 22, "type": "L[43]", "header": "Proxy Setup to access Bphub "}, {"text": "solution_app_restart artifactory.ciena.com.blueplanet.uaa_core:ha-23.08.xx uaa-core ", "table_path": "", "page_number": 22, "type": "Aside[40]/P", "header": "Proxy Setup to access Bphub "}]}, {"header": "Platform Administration ", "content": [{"text": "The Blue Planet platform acts as an application management system that provides building blocks that include micro services architecture, model-driven templates, and multi-domain design scope. ", "table_path": "", "page_number": 23, "type": "P[44]", "header": "Platform Administration "}, {"text": "Platform Administration consists of: ", "table_path": "", "page_number": 23, "type": "P[45]", "header": "Platform Administration "}, {"text": "", "table_path": "", "page_number": 23, "type": "L[44]", "header": "Platform Administration "}]}, {"header": "Application Configuration ", "content": []}, {"header": "Customizing asset-manager configuration settings for clusters ", "content": [{"text": "This procedure describes how to change Asset Manager configuration settings in a single file on one host and share them across all nodes in a cluster. ", "table_path": "", "page_number": 24, "type": "P[46]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "figures/fileoutpart41.png", "page_number": 24, "type": "Figure[15]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "\uf05a ", "table_path": "", "page_number": 24, "type": "Figure[15]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "Use this procedure after discussion with Ciena Customer Support. Change Asset Manager configuration settings are at your own risk. This might result in incompatibilities with other containers or releases. ", "table_path": "", "page_number": 24, "type": "P[47]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 24, "type": "P[48]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 24, "type": "L[45]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 24, "type": "P[49]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "1. ", "table_path": "", "page_number": 24, "type": "L[46]/LI/Lbl", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "For a single host, create and edit a file named ", "table_path": "", "page_number": 24, "type": "L[46]/LI/LBody/ParagraphSpan", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "/etc/bp2/asset-manager/override.conf", "table_path": "", "page_number": 24, "type": "L[46]/LI/LBody/ParagraphSpan/Span", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": " to contain a configuration setting that you wish to override. Find HOCON (Human-Optimizede Config Object Notation) configuration language syntax at ", "table_path": "", "page_number": 24, "type": "L[46]/LI/LBody/ParagraphSpan", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "https://github.com/lightbend/config", "table_path": "", "page_number": 24, "type": "L[46]/LI/LBody/ParagraphSpan/Reference", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": ". ", "table_path": "", "page_number": 24, "type": "L[46]/LI/LBody/ParagraphSpan", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "For example, to increase the bpcore REST API request deadline from the default of 15s to 30s, include the following line: ", "table_path": "", "page_number": 24, "type": "L[46]/LI/LBody/P", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 24, "type": "L[46]/LI/LBody", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 24, "type": "L[46]/LI", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 24, "type": "L[46]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "com.cyaninc.<solution name>.restserver.restserver.settings.timeout=30s ", "table_path": "", "page_number": 24, "type": "Aside[41]/P", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 24, "type": "L[47]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "$ sudo solman \"solution_app_restart <solution> asset-manager\" ", "table_path": "", "page_number": 24, "type": "Aside[42]/P", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 24, "type": "P[50]", "header": "Customizing asset-manager configuration settings for clusters "}, {"text": "", "table_path": "", "page_number": 25, "type": "P[51]", "header": "Customizing asset-manager configuration settings for clusters "}]}, {"header": "Using a global configuration service ", "content": [{"text": "The Global Configuration Service is a microservice for storing, editing, and accessing runtime and bootstrap configurations. ", "table_path": "", "page_number": 25, "type": "P[52]", "header": "Using a global configuration service "}, {"text": "Configurations are intended to be overrides. That is, an application should not store its fallback values in the Global Configuration Service for any reason other than exposing them in the UI. The application should hold sensible default values and use the Global Configuration Service to query or be notified of overrides to these values. ", "table_path": "", "page_number": 25, "type": "P[53]", "header": "Using a global configuration service "}, {"text": "This section covers: ", "table_path": "", "page_number": 25, "type": "P[54]", "header": "Using a global configuration service "}, {"text": "", "table_path": "", "page_number": 25, "type": "L[48]", "header": "Using a global configuration service "}]}, {"header": "Viewing a configuration setting ", "content": [{"text": "", "table_path": "", "page_number": 25, "type": "P[55]", "header": "Viewing a configuration setting "}, {"text": "", "table_path": "", "page_number": 25, "type": "P[56]", "header": "Viewing a configuration setting "}, {"text": "", "table_path": "figures/fileoutpart42.png", "page_number": 25, "type": "Figure[16]", "header": "Viewing a configuration setting "}]}, {"header": "Creating a new configuration setting ", "content": [{"text": "To create a new configuration setting: ", "table_path": "", "page_number": 26, "type": "P[57]", "header": "Creating a new configuration setting "}, {"text": "", "table_path": "", "page_number": 26, "type": "L[49]", "header": "Creating a new configuration setting "}, {"text": "", "table_path": "figures/fileoutpart43.png", "page_number": 26, "type": "Figure[17]", "header": "Creating a new configuration setting "}]}, {"header": "Editing or deleting a configuration setting ", "content": [{"text": "You can modify the name, description, or value of any configuration setting. All of these settings are mandatory and cannot be left empty, though they can be deleted. ", "table_path": "", "page_number": 27, "type": "P[58]", "header": "Editing or deleting a configuration setting "}, {"text": "", "table_path": "", "page_number": 27, "type": "P[59]", "header": "Editing or deleting a configuration setting "}, {"text": "To edit the name, description, or value of a setting. ", "table_path": "", "page_number": 27, "type": "P[60]", "header": "Editing or deleting a configuration setting "}, {"text": "", "table_path": "", "page_number": 27, "type": "L[50]", "header": "Editing or deleting a configuration setting "}, {"text": "", "table_path": "", "page_number": 27, "type": "P[61]", "header": "Editing or deleting a configuration setting "}, {"text": "", "table_path": "", "page_number": 27, "type": "P[62]", "header": "Editing or deleting a configuration setting "}]}, {"header": "Restarting an application ", "content": [{"text": "Restart the affected application to apply the changes. For instance, if you have changed the application settings for <solution name>, then use the following command to apply from solution manager: ", "table_path": "", "page_number": 27, "type": "P[63]", "header": "Restarting an application "}, {"text": "$(cmd) solution_app_restart <uaa solution> <solution name> ", "table_path": "", "page_number": 27, "type": "Aside[43]/P", "header": "Restarting an application "}]}, {"header": "Geographical Redundancy ", "content": []}, {"header": "Disaster recovery ", "content": [{"text": "Administrators need to plan their high availability (HA) and disaster recovery plans in order to minimize the IT disruptions on their Blue Planet servers. ", "table_path": "", "page_number": 28, "type": "P[64]", "header": "Disaster recovery "}, {"text": "Blue Planet solution supports two disaster recovery options: HA and geographical redundancy. Both provide geographical redundancy for your network servers. ", "table_path": "", "page_number": 28, "type": "P[65]", "header": "Disaster recovery "}, {"text": "The best time to implement HA and geographical redundancy for Blue Planet is during the initial installation process. Switching to HA or adding georedundancy post-installation requires additional steps and is not covered in this documentation. ", "table_path": "", "page_number": 28, "type": "P[66]", "header": "Disaster recovery "}, {"text": "This section includes: ", "table_path": "", "page_number": 28, "type": "P[67]", "header": "Disaster recovery "}, {"text": "", "table_path": "", "page_number": 28, "type": "L[51]", "header": "Disaster recovery "}, {"text": "", "table_path": "figures/fileoutpart44.png", "page_number": 28, "type": "Figure[18]", "header": "Disaster recovery "}, {"text": "\uf05a ", "table_path": "", "page_number": 28, "type": "Figure[18]", "header": "Disaster recovery "}, {"text": "The bpuser and bpadmin profiles have administrator privileges. ", "table_path": "", "page_number": 28, "type": "P[68]", "header": "Disaster recovery "}]}, {"header": "About high availability (HA) ", "content": [{"text": "This topic describes Blue Planet HA cluster support and provides troubleshooting information. ", "table_path": "", "page_number": 29, "type": "P[69]", "header": "About high availability (HA) "}, {"text": "HA provides capabilities that allow a site\u2019s primary functionality to remain operational in response to a failure of a component on that site. Blue Planet achieves this continuity of service through redundant or fault-tolerant components on supported server clusters. HA also provides resiliency using distributed data stores and load balancing ", "table_path": "", "page_number": 29, "type": "P[70]", "header": "About high availability (HA) "}, {"text": "In the Blue Planet HA deployment, Blue Planet software runs across a cluster of hosts in a site, rather than on a single host. For RA instances, consult your RA Functional Reference guide for HA support. ", "table_path": "", "page_number": 29, "type": "P[71]", "header": "About high availability (HA) "}, {"text": "When the software components on one server fail or become unavailable, the software components on the other servers in the cluster take over and continue to provide service. ", "table_path": "", "page_number": 29, "type": "P[72]", "header": "About high availability (HA) "}, {"text": "The following diagram depicts a three server cluster HA configuration. In a standard HA three-cluster group: ", "table_path": "", "page_number": 29, "type": "P[73]", "header": "About high availability (HA) "}, {"text": "Host 0 = Server 1 ", "table_path": "", "page_number": 29, "type": "P[74]", "header": "About high availability (HA) "}, {"text": "Host 1 = Server 2 ", "table_path": "", "page_number": 29, "type": "P[75]", "header": "About high availability (HA) "}, {"text": "Host 2 = Server 3 ", "table_path": "", "page_number": 29, "type": "P[76]", "header": "About high availability (HA) "}, {"text": "When a single server in a three cluster group fails, it enables the remaining two servers to continue to provide service as long as both servers can communicate with each other. Intra-cluster communication occurs over generic routing encapsulation (GRE) tunnels. Docker containers with individual IP addresses communicate with each other over the internal LAN (iLAN). Once the failed server recovers and all the apps running on it are working, the server rejoins the cluster and rebalances the load automatically. No user intervention is needed. ", "table_path": "", "page_number": 29, "type": "P[77]", "header": "About high availability (HA) "}, {"text": "If the failed server is unrecoverable, contact Customer Support for assistance. You may also want to review syslog errors, Nagios status, and the troubleshooting tips found in this guide. ", "table_path": "", "page_number": 29, "type": "P[78]", "header": "About high availability (HA) "}, {"text": "Three cluster HA configuration ", "table_path": "", "page_number": 29, "type": "P[79]", "header": "About high availability (HA) "}, {"text": "", "table_path": "figures/fileoutpart45.png", "page_number": 30, "type": "Figure[19]", "header": "About high availability (HA) "}]}, {"header": "HA requirements and guidelines ", "content": [{"text": "Blue Planet HA cluster support requires: ", "table_path": "", "page_number": 30, "type": "P[80]", "header": "HA requirements and guidelines "}, {"text": "", "table_path": "", "page_number": 30, "type": "L[52]", "header": "HA requirements and guidelines "}, {"text": "", "table_path": "", "page_number": 31, "type": "P[81]", "header": "HA requirements and guidelines "}, {"text": "", "table_path": "", "page_number": 31, "type": "L[53]", "header": "HA requirements and guidelines "}, {"text": "Networking constraints related to bandwidth and latency typically limit how far apart site hosts can be separated. We currently recommend the average latency to be < 5ms and the maximum latency to be < 8ms 99% of the time. ", "table_path": "", "page_number": 31, "type": "P[82]", "header": "HA requirements and guidelines "}]}, {"header": "About warm standby geographic disaster recovery ", "content": [{"text": "This section includes: ", "table_path": "", "page_number": 32, "type": "P[83]", "header": "About warm standby geographic disaster recovery "}, {"text": "", "table_path": "", "page_number": 32, "type": "L[54]", "header": "About warm standby geographic disaster recovery "}]}, {"header": "Cluster support overview ", "content": [{"text": "Blue Planet supports single and multihost clusters for warm geographical redundancy disaster recovery. You can create redundancies in software, hardware, and data to increase HA for any services by configuring either of the following: ", "table_path": "", "page_number": 33, "type": "P[84]", "header": "Cluster support overview "}, {"text": "", "table_path": "", "page_number": 33, "type": "L[55]", "header": "Cluster support overview "}, {"text": "The following figure depicts a typical multihost warm standby geo-redundancy cluster environment. ", "table_path": "", "page_number": 33, "type": "P[85]", "header": "Cluster support overview "}, {"text": "Warm geo-redundancy multihost cluster ", "table_path": "", "page_number": 33, "type": "P[86]", "header": "Cluster support overview "}, {"text": "", "table_path": "figures/fileoutpart46.png", "page_number": 33, "type": "Figure[20]", "header": "Cluster support overview "}]}, {"header": "Warm standby georedundancy replication ", "content": [{"text": "Some Blue Planet applications are aware of the disaster recovery requirement to save stored data in case of a critical failure. Each application is responsible for replicating their state from the active to the standby site. Replication is asynchronous and attempts to be real-time, but may lag depending on the write rate and WAN performance. ", "table_path": "", "page_number": 34, "type": "P[87]", "header": "Warm standby georedundancy replication "}, {"text": "The following applications support replication in warm georedundancy: ", "table_path": "", "page_number": 34, "type": "P[88]", "header": "Warm standby georedundancy replication "}, {"text": "", "table_path": "", "page_number": 34, "type": "L[56]", "header": "Warm standby georedundancy replication "}, {"text": "The northbound interface of an application may not be present until the standby site becomes the active site. ", "table_path": "", "page_number": 34, "type": "P[89]", "header": "Warm standby georedundancy replication "}, {"text": "Components on the standby site are not active except for the databases. Users cannot log into the Blue Planet UI on the standby site with the exception of accessing the Geographical redundancy UI to check the geored status. Nagios can be accessed for additional container status. ", "table_path": "", "page_number": 34, "type": "P[90]", "header": "Warm standby georedundancy replication "}]}, {"header": "Before you begin with georedundancy ", "content": [{"text": "", "table_path": "", "page_number": 34, "type": "P[91]", "header": "Before you begin with georedundancy "}, {"text": "For details on warm standby geo-redundancy support, select one of the following scenarios: ", "table_path": "", "page_number": 34, "type": "P[92]", "header": "Before you begin with georedundancy "}, {"text": "", "table_path": "", "page_number": 34, "type": "L[57]", "header": "Before you begin with georedundancy "}]}, {"header": "Multihost cluster warm georedundancy requirements ", "content": [{"text": "To support multihost cluster warm standby geo-redundancy you need: ", "table_path": "", "page_number": 34, "type": "P[93]", "header": "Multihost cluster warm georedundancy requirements "}, {"text": "", "table_path": "", "page_number": 34, "type": "L[58]", "header": "Multihost cluster warm georedundancy requirements "}]}, {"header": "Single host cluster warm georedundancy requirements ", "content": [{"text": "To support single host cluster warm standby geo-redundancy you need: ", "table_path": "", "page_number": 35, "type": "P[94]", "header": "Single host cluster warm georedundancy requirements "}, {"text": "", "table_path": "", "page_number": 35, "type": "L[59]", "header": "Single host cluster warm georedundancy requirements "}, {"text": "Table 2. Required parameters to set up warm geo-redundancy ", "table_path": "", "page_number": 35, "type": "P[95]", "header": "Single host cluster warm georedundancy requirements "}, {"text": "", "table_path": "tables/fileoutpart47.xlsx", "page_number": 35, "type": "Table[6]", "header": "Single host cluster warm georedundancy requirements "}]}, {"header": "", "content": []}, {"header": "PARAMETER ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 35, "type": "Table[6]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Active Site Name ", "table_path": "", "page_number": 35, "type": "Table[6]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 35, "type": "Table[6]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Descriptive name to identify the cluster name of the Active Site for multi-cluster geo-redundancy. Ciena recommends <the site name> reflects the location where the site is installed. It needs to be a string with a minimum length of 3 characters (only letters, numbers, dashes and underscores are acceptable). Site name is not required for the georedsingle solution when BPI is used. ", "table_path": "", "page_number": 35, "type": "Table[6]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Active Site IP Address ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Site IP of the cluster that acts as the Active Site for multihost systems. ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Standby Site Name ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Descriptive name to identify the host name of the Standby Site. Follow the same directives as the Active Site Name. Not required for the georedsingle solution. ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Standby Site IP Address ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Site IP of the cluster that will act as the Standby Site. ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Cluster ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Lists the set of nodes that make up the cluster. ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "Standby Cluster ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 36, "type": "Table[6]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Lists the set of nodes that make up the standby cluster. ", "table_path": "", "page_number": 36, "type": "Table[6]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "Network guidelines are 100 Mbps and less than 100 ms latency (for example, NY to Frankfurt). ", "table_path": "", "page_number": 36, "type": "P[96]", "header": "DESCRIPTION "}]}, {"header": "Understanding the geored installation process ", "content": [{"text": "A typical warm standby geographical redundancy installation workflow follows. ", "table_path": "", "page_number": 36, "type": "P[97]", "header": "Understanding the geored installation process "}, {"text": "", "table_path": "", "page_number": 36, "type": "L[60]", "header": "Understanding the geored installation process "}, {"text": "", "table_path": "", "page_number": 36, "type": "P[98]", "header": "Understanding the geored installation process "}]}, {"header": "Managing HA ", "content": [{"text": "This topic describes how Blue Planet HA works. ", "table_path": "", "page_number": 37, "type": "P[99]", "header": "Managing HA "}, {"text": "The following behaviors occur when a failure occurs in a multi-node HA cluster: ", "table_path": "", "page_number": 37, "type": "P[100]", "header": "Managing HA "}, {"text": "", "table_path": "", "page_number": 37, "type": "L[61]", "header": "Managing HA "}, {"text": "Review the following troubleshooting details if you have issues with HA. ", "table_path": "", "page_number": 37, "type": "P[101]", "header": "Managing HA "}, {"text": "", "table_path": "", "page_number": 37, "type": "L[62]", "header": "Managing HA "}]}, {"header": "Checking the integrity of your HA cluster ", "content": [{"text": "To determine if there are any issues in your HA cluster, perform the following commands as the bpadmin user. ", "table_path": "", "page_number": 37, "type": "P[102]", "header": "Checking the integrity of your HA cluster "}, {"text": "bp2-site check-ilan ", "table_path": "", "page_number": 37, "type": "Aside[44]/P", "header": "Checking the integrity of your HA cluster "}, {"text": "bp2-site check-platform sudo bp2-site diff-site-config ", "table_path": "", "page_number": 37, "type": "Aside[44]/P[2]", "header": "Checking the integrity of your HA cluster "}, {"text": "get-hosts-config ", "table_path": "", "page_number": 37, "type": "Aside[44]/P[3]", "header": "Checking the integrity of your HA cluster "}, {"text": "bpssh hostname ", "table_path": "", "page_number": 37, "type": "Aside[44]/P[4]", "header": "Checking the integrity of your HA cluster "}, {"text": "You may be required to reenter your bpadmin password. The host should respond 'OK' or provide the requested details. ", "table_path": "", "page_number": 37, "type": "P[103]", "header": "Checking the integrity of your HA cluster "}, {"text": "", "table_path": "", "page_number": 38, "type": "P[104]", "header": "Checking the integrity of your HA cluster "}, {"text": "", "table_path": "figures/fileoutpart50.png", "page_number": 38, "type": "Figure[21]", "header": "Checking the integrity of your HA cluster "}, {"text": "[bpadmin]$ sudo bp2-site diff-site-config The following problems were found: /etc/bp2/docs/Alarms/6500-EQPT_MISSING.adoc not present on: set([0, 2]) /etc/bp2/docs/Alarms/README.adoc not present on: set([0, 2]) /etc/bp2/docs/Install/README.adoc not present on: set([0, 2]) /etc/bp2/docs/Install/bp-multi-orch-turnup.adoc not present on: set([0, 2]) /etc/bp2/docs/Install/download-host-environ-install.adoc not present on: set([0, 2]) /etc/bp2/docs/Install/install-bp-core-plat-multi.adoc not present on: set([0, 2]) /etc/bp2/docs/Install/install-rhel-72.adoc not present on: set([0, 2]) [bpadmin]# bp2-site sync-site-config ", "table_path": "", "page_number": 38, "type": "Figure[21]", "header": "Checking the integrity of your HA cluster "}, {"text": "To clear sync or swarm errors, use the following commands in sequence. ", "table_path": "", "page_number": 38, "type": "P[105]", "header": "Checking the integrity of your HA cluster "}, {"text": "[bpadmin]$ sudo bp2-site sync-site-config ", "table_path": "", "page_number": 38, "type": "Aside[45]/P", "header": "Checking the integrity of your HA cluster "}, {"text": "[bpadmin]$ bp2-site restart ", "table_path": "", "page_number": 38, "type": "Aside[45]/P[2]", "header": "Checking the integrity of your HA cluster "}]}, {"header": "Finding your leader node in a cluster ", "content": [{"text": "To view the leader node, you can pick the app name from a solman sps command. ", "table_path": "", "page_number": 38, "type": "P[106]", "header": "Finding your leader node in a cluster "}, {"text": "Use the following command example to display details about the hosts where any app is installed. In this example, <solution name> is used. The following example shows instance 0 as the <solution name> leader. It is running on host number 0 as indicated by the third octet in the IP address, 172.17.0.30. Substitute the appropriate file name for the app in question. ", "table_path": "", "page_number": 38, "type": "P[107]", "header": "Finding your leader node in a cluster "}, {"text": "[bpadmin$ sudo solman ", "table_path": "", "page_number": 39, "type": "Aside[46]/P", "header": "Finding your leader node in a cluster "}, {"text": "Connecting smcli to solutionmanager_1 ", "table_path": "", "page_number": 39, "type": "Aside[46]/P[2]", "header": "Finding your leader node in a cluster "}, {"text": "", "table_path": "figures/fileoutpart51.png", "page_number": 39, "type": "Figure[22]", "header": "Finding your leader node in a cluster "}, {"text": "(Cmd) api clusters <solution name> get {'group': '<solution name>', 'kind': '#cluster', 'leader': 0, 'name': '<solution name>', 'peers': {'0': {'container': 'da27ce934698',                 'host': 'jhsu-ub1604-scale-2',                 'init': True,                 'ip': '172.16.1.26',                 'phase': 'running',                 'restore': False},           '1': {'container': '5de2bfd10fe7',                 'host': 'jhsu-ub1604-scale-3',                 'init': True,                 'ip': '172.16.2.26',                 'phase': 'running',                 'restore': False},           '2': {'container': '492cdf118f68',                 'host': 'jhsu-ub1604-scale-1',                 'init': True,                 'ip': '172.16.0.27',                 'phase': 'running',                 'restore': False}}, 'rank': [0, 2, 1]} ", "table_path": "", "page_number": 39, "type": "Figure[22]", "header": "Finding your leader node in a cluster "}]}, {"header": "Listing all apps in a cluster ", "content": [{"text": "To see a list of all apps in a cluster: ", "table_path": "", "page_number": 39, "type": "P[108]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart52.png", "page_number": 39, "type": "Figure[23]", "header": "Listing all apps in a cluster "}, {"text": "(Cmd) api clusters get {'group': 'l2mef',  'leader': 1,  'name': 'l2mef',  'peers': {'0': None, '1': None, '2': None},  'rank': [1, 2, 0]}, {'group': 'tron',  'leader': 1,  'name': 'tron',  'peers': {'0': {'container': '00862caded65',                  'host': 'onxl8580',                  'ip': '172.16.2.98',                  'state': 'running'},            '1': {'container': 'ef0edc60b16f',                  'host': 'onxl8578',                  'ip': '172.16.0.11',                  'state': 'running'},            '2': {'container': 'cad5e5044809',                  'host': 'onxl8579', ", "table_path": "", "page_number": 39, "type": "Figure[23]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart53.png", "page_number": 40, "type": "Figure[24]", "header": "Listing all apps in a cluster "}, {"text": "                  'ip': '172.16.1.97',                  'state': 'running'}},  'rank': [1, 2, 0]}, {'group': 'topo-assembler',  'leader': 2,  'name': 'topo-assembler',  'peers': {'0': None, '1': None, '2': None},  'rank': [2, 0, 1]}, {'group': 'zookeeper',  'leader': 1,  'name': 'zookeeper',  'peers': {'0': {'ip': '172.16.2.30', 'myid': 0},            '1': {'ip': '172.16.0.59', 'myid': 1},            '2': {'ip': '172.16.1.70', 'myid': 2}},  'rank': [1, 2, 0]}, {'group': 'collectd',  'leader': 1,  'name': 'collectd',  'peers': {'0': {'container': '775a8769e1b8',                  'host': 'onxl8580',                  'ip': '172.16.2.35',                  'version': '5.5.9'},            '1': {'container': 'b2e6e2f98cf4',                  'host': 'onxl8578',                  'ip': '172.16.0.75',                  'version': '5.5.9'},            '2': {'container': 'a76325b6f510',                  'host': 'onxl8579',                  'ip': '172.16.1.94',                  'version': '5.5.9'}},  'rank': [1, 2, 0]}, {'group': 'nagios',  'leader': 1,  'name': 'nagios',  'peers': {'0': {'hostname': 'nagios-0',                  'ip': '172.16.2.58',                  'state': 'start-services'},            '1': {'hostname': 'nagios-1',                  'ip': '172.16.0.40',                  'state': 'running'},            '2': {'hostname': 'nagios-2',                  'ip': '172.16.1.98',                  'state': 'start-services'}},  'rank': [1, 2, 0]}, {'group': 'glusterfs',  'leader': 2,  'name': 'glusterfs',  'peers': {'0': {'clean-start-count': 4,                  'hostname': 'glusterfs-0',                  'ip': '172.16.1.72',                  'node-uuid': 'a25e4626-429e-4f33-83de-4c78c35817d0',                  'northbound-ready': True,                  'ready-for-probe': True,                  'volume-id': '57d692dd-6f0d-4876-a845-3a937d9fbee6'},            '1': {'clean-start-count': 4,                  'hostname': 'glusterfs-1',                  'ip': '172.16.2.29',                  'node-uuid': 'a5cedfc2-aaa5-47bb-a4db-8e90f4ffedf6',                  'northbound-ready': True, ", "table_path": "", "page_number": 40, "type": "Figure[24]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart54.png", "page_number": 41, "type": "Figure[25]", "header": "Listing all apps in a cluster "}, {"text": "                  'ready-for-probe': True,                  'volume-id': '57d692dd-6f0d-4876-a845-3a937d9fbee6'},            '2': {'clean-start-count': 4,                  'hostname': 'glusterfs-2',                  'ip': '172.16.0.58',                  'node-uuid': 'e58cab9b-bf81-4479-829c-426c2d876185',                  'northbound-ready': True,                  'ready-for-probe': True,                  'volume-id': '57d692dd-6f0d-4876-a845-3a937d9fbee6'}},  'rank': [2, 0, 1]}, {'group': 'slicemgr',  'leader': 0,  'name': 'slicemgr',  'peers': {'0': {'IP': '172.16.1.76'}},  'rank': [0]}, {'group': 'chronos',  'leader': 0,  'name': 'chronos',  'peers': {'0': {'ip': '172.16.1.36',                  'nodeId': 1627209294455,                  'port': 8080,                  'startTime': 1628506278284},            '1': {'ip': '172.16.0.9',                  'nodeId': 1627209285355,                  'port': 8080,                  'startTime': 1628506278566},            '2': {'ip': '172.16.2.8',                  'nodeId': 1627209334404,                  'port': 8080,                  'startTime': 1628506268605}},  'rank': [0, 1, 2]}, {'group': 'graphite',  'leader': 1,  'name': 'graphite',  'peers': {'0': {'hostname': 'graphite-0',                  'ip': '172.16.2.94',                  'state': 'running'},            '1': {'hostname': 'graphite-1',                  'ip': '172.16.0.91',                  'state': 'running'},            '2': {'hostname': 'graphite-2',                  'ip': '172.16.1.5',                  'state': 'running'}},  'rank': [1, 2, 0]}, {'group': 'geored',  'leader': 1,  'name': 'geored',  'peers': {'0': {'ip': '172.16.2.16', 'port': 8080},            '1': {'ip': '172.16.0.31', 'port': 8080},            '2': {'ip': '172.16.1.84', 'port': 8080}},  'rank': [1, 2, 0]}, {'group': 'stitcher',  'leader': 0,  'name': 'stitcher',  'peers': {'0': {}, '1': {}, '2': {}},  'rank': [0, 2, 1]}, {'group': 'pap',  'leader': 0,  'name': 'pap', ", "table_path": "", "page_number": 41, "type": "Figure[25]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart55.png", "page_number": 42, "type": "Figure[26]", "header": "Listing all apps in a cluster "}, {"text": "  'peers': {'0': {'ip': '172.16.2.93',                  'nodeId': 1628632239401,                  'port': 8080,                  'startTime': 1628632315905}},  'rank': [0]}, {'group': 'api-gw',  'leader': 0,  'name': 'api-gw',  'peers': {'0': {'AuditLog': {'r': 9057293938265817870, 'v': True},                  'LogLevel': {'r': 11462776063858204817L, 'v': 4}},            '1': {'LogLevel': {'s': 4, 't': 0}},            '2': {'AuditLog': {'s': True, 't': 0},                  'LogLevel': {'s': 4, 't': 0}}},  'rank': [0, 1, 2]}, {'group': 'bp-viz-api',  'leader': 2,  'name': 'bp-viz-api',  'peers': {'0': {}, '1': {}, '2': {}},  'rank': [2, 0, 1]}, {'group': 'policy-pypi',  'leader': None,  'name': 'policy-pypi',  'peers': {},  'rank': []}, {'group': 'kompressor',  'leader': 1,  'name': 'kompressor',  'peers': {'0': {'ip': '172.16.2.95',                  'nodeId': 1628245622881,                  'port': 8080,                  'startTime': 1628506293650},            '1': {'ip': '172.16.0.55',                  'nodeId': 1628245644496,                  'port': 8080,                  'startTime': 1628506285589},            '2': {'ip': '172.16.1.12',                  'nodeId': 1628245659839,                  'port': 8080,                  'startTime': 1628506272429}},  'rank': [1, 0, 2]}, {'group': 'ractrl',  'leader': 1,  'name': 'ractrl',  'peers': {'0': {'database_initialized': True,                  'ip': '172.16.1.78',                  'state': 'up'},            '1': {'database_initialized': True,                  'ip': '172.16.2.86',                  'state': 'up'},            '2': {'database_initialized': True,                  'ip': '172.16.0.47',                  'state': 'up'}},  'rank': [1, 2, 0]}, {'group': 'rphelm',  'leader': 2,  'name': 'rphelm',  'peers': {'0': {'ip': '172.16.2.50'},            '1': {'ip': '172.16.1.83'},            '2': {'ip': '172.16.0.27'}}, ", "table_path": "", "page_number": 42, "type": "Figure[26]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart56.png", "page_number": 43, "type": "Figure[27]", "header": "Listing all apps in a cluster "}, {"text": "  'rank': [2, 1, 0]}, {'group': 'uaa-topo-app',  'leader': 0,  'name': 'uaa-topo-app',  'peers': {'0': {'container': '40ad2c03a630',                  'host': 'onxl8578',                  'ip': '172.16.0.44'},            '1': {'container': '634ca80c9b1a',                  'host': 'onxl8579',                  'ip': '172.16.1.91'},            '2': {'container': '033b7ec27ee8',                  'host': 'onxl8580',                  'ip': '172.16.2.44'}},  'rank': [0, 1, 2]}, {'group': 'gcs',  'leader': 1,  'name': 'gcs',  'peers': {'0': None, '1': None, '2': None},  'rank': [1, 2, 0]}, {'group': 'gvs',  'leader': 0,  'name': 'gvs',  'peers': {'0': {'IP': '172.16.1.96'},            '1': {'IP': '172.16.0.68'},            '2': {'IP': '172.16.2.13'}},  'rank': [0, 2, 1]}, {'group': 'bplice',  'leader': None,  'name': 'bplice',  'peers': {},  'rank': []}, {'group': 'natd',  'leader': 2,  'name': 'natd',  'peers': {'0': {'bridge_ip': '172.16.2.1',                  'fipcolohosts': [0, 1, 2],                  'fipifproblems': {'default': []},                  'host_id': 2,                  'host_ip': '10.182.34.191',                  'http_port': 41767,                  'ip': u'',                  'netgateways': {'default': '10.182.34.191/20'},                  'site_ip': '10.182.34.211/20',                  'version': '0.5.2-286.449b0e2'},            '1': {'bridge_ip': '172.16.0.1',                  'fipcolohosts': [0, 1, 2],                  'fipifproblems': {'default': []},                  'host_id': 0,                  'host_ip': '10.182.34.185',                  'http_port': 38102,                  'ip': u'',                  'netgateways': {'default': '10.182.34.185/20'},                  'site_ip': '10.182.34.211/20',                  'version': '0.5.2-286.449b0e2'},            '2': {'bridge_ip': '172.16.1.1',                  'fipcolohosts': [0, 1, 2],                  'fipifproblems': {'default': []},                  'host_id': 1,                  'host_ip': '10.182.34.186', ", "table_path": "", "page_number": 43, "type": "Figure[27]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart57.png", "page_number": 44, "type": "Figure[28]", "header": "Listing all apps in a cluster "}, {"text": "                  'http_port': 36886,                  'ip': u'',                  'netgateways': {'default': '10.182.34.186/20'},                  'site_ip': '10.182.34.211/20',                  'version': '0.5.2-286.449b0e2'}},  'rank': [2, 1, 0]}, {'group': 'drools',  'leader': 0,  'name': 'drools',  'peers': {'0': {'ip': '172.16.1.99',                  'nodeId': 1628632183124,                  'port': 8080,                  'startTime': 1628632236586}},  'rank': [0]}, {'group': 'rpansible',  'leader': 2,  'name': 'rpansible',  'peers': {'0': {'ip': '172.16.0.78'},            '1': {'ip': '172.16.1.65'},            '2': {'ip': '172.16.2.68'}},  'rank': [2, 0, 1]}, {'group': 'ramcp', 'leader': None, 'name': 'ramcp', 'peers': {}, 'rank': []}, {'group': 'postgres',  'leader': 1,  'name': 'postgres',  'peers': {'0': {'patroni_ready': True},            '1': {'patroni_ready': True},            '2': {'patroni_ready': True}},  'rank': [1, 0, 2]}, {'group': '<solution name>',  'leader': 0,  'name': '<solution name>',  'peers': {'0': {'patroni_ready': True},            '1': {'patroni_ready': True},            '2': {'patroni_ready': True}},  'rank': [0, 1, 2]}, {'group': 'models',  'leader': None,  'name': 'models',  'peers': {},  'rank': []}, {'group': 'l2rasim',  'leader': None,  'name': 'l2rasim',  'peers': {},  'rank': []}, {'group': 'l2drasim',  'leader': None,  'name': 'l2drasim',  'peers': {},  'rank': []}, {'group': 'plugin-onboarder',  'leader': 0,  'name': 'plugin-onboarder',  'peers': {'0': None},  'rank': [0]}, {'group': 'bpaudit',  'leader': 0,  'name': 'bpaudit', ", "table_path": "", "page_number": 44, "type": "Figure[28]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart58.png", "page_number": 45, "type": "Figure[29]", "header": "Listing all apps in a cluster "}, {"text": "  'peers': {'0': {'container': '1c5254d0975b',                  'host': 'onxl8578',                  'ip': '172.16.0.5',                  'state': 'running'},            '1': {'container': '68b536623b40',                  'host': 'onxl8579',                  'ip': '172.16.1.24',                  'state': 'non-leader'},            '2': {'container': 'abc491f4fe4b',                  'host': 'onxl8580',                  'ip': '172.16.2.5',                  'state': 'non-leader'}},  'rank': [0, 1, 2]}, {'group': 'camunda',  'leader': 0,  'name': 'camunda',  'peers': {'0': {'container': 'd9b0bf206a69',                  'host': 'onxl8578',                  'ip': '172.16.0.54',                  'is_leader': True,                  'phase': 'running'},            '1': {'container': '52905055a8b7',                  'host': 'onxl8579',                  'ip': '172.16.1.44',                  'is_leader': False,                  'phase': 'running'},            '2': {'container': 'b6b1defda11a',                  'host': 'onxl8580',                  'ip': '172.16.2.66',                  'is_leader': False,                  'phase': 'running'}},  'rank': [0, 1, 2]}, {'group': 'kafka',  'leader': 1,  'name': 'kafka',  'peers': {'0': {'ip': '172.16.2.55',                  'nodeId': 1627173046726,                  'port': 8080,                  'startTime': 1628506283240},            '1': {'ip': '172.16.0.93',                  'nodeId': 1627172782763,                  'port': 8080,                  'startTime': 1628506292319},            '2': {'ip': '172.16.1.54',                  'nodeId': 1627172729087,                  'port': 8080,                  'startTime': 1628506283394}},  'rank': [1, 2, 0]}, {'group': 'fcweb',  'leader': 1,  'name': 'fcweb',  'peers': {'0': {'ip': '172.16.0.57', 'port': 8080},            '1': {'ip': '172.16.1.90', 'port': 8080},            '2': {'ip': '172.16.2.81', 'port': 8080}},  'rank': [1, 0, 2]}, {'group': 'ratpefresimc',  'leader': None,  'name': 'ratpefresimc',  'peers': {}, ", "table_path": "", "page_number": 45, "type": "Figure[29]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart59.png", "page_number": 46, "type": "Figure[30]", "header": "Listing all apps in a cluster "}, {"text": "  'rank': []}, {'group': 'haproxy',  'leader': 1,  'name': 'haproxy',  'peers': {'0': {'ip': '172.16.0.97'},            '1': {'ip': '172.16.1.49'},            '2': {'ip': '172.16.2.23'}},  'rank': [1, 2, 0]}, {'group': 'ratpefresimd',  'leader': None,  'name': 'ratpefresimd',  'peers': {},  'rank': []}, {'group': 'logarchive',  'leader': 1,  'name': 'logarchive',  'peers': {'0': {'ip': '172.16.2.4'},            '1': {'ip': '172.16.0.99'},            '2': {'ip': '172.16.1.2'}},  'rank': [1, 2, 0]}, {'group': 'ratpefresimb',  'leader': None,  'name': 'ratpefresimb',  'peers': {},  'rank': []}, {'group': 'rpterraform',  'leader': 2,  'name': 'rpterraform',  'peers': {'0': {'ip': '172.16.1.88'},            '1': {'ip': '172.16.0.100'},            '2': {'ip': '172.16.2.60'}},  'rank': [2, 0, 1]}, {'group': 'uaa-admin-guide',  'leader': None,  'name': 'uaa-admin-guide',  'peers': {},  'rank': []}, {'group': 'nrpe',  'leader': 0,  'name': 'nrpe',  'peers': {'0': {'container': 'd469f5a38d68',                  'host': 'onxl8578',                  'ip': '172.16.0.56',                  'state': 'running'},            '1': {'container': '376da2a01b32',                  'host': 'onxl8579',                  'ip': '172.16.1.95',                  'state': 'running'},            '2': {'container': '7ddf55bf5ff7',                  'host': 'onxl8580',                  'ip': '172.16.2.73',                  'state': 'running'}},  'rank': [0, 1, 2]}, {'group': 'ratpefresima',  'leader': None,  'name': 'ratpefresima',  'peers': {},  'rank': []}, {'group': 'fccustartifacts', ", "table_path": "", "page_number": 46, "type": "Figure[30]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart60.png", "page_number": 47, "type": "Figure[31]", "header": "Listing all apps in a cluster "}, {"text": "  'leader': 1,  'name': 'fccustartifacts',  'peers': {'0': {'bp_app_instance': '0',                  'ip': '172.16.0.70',                  'state': 'postgres-script-completed'},            '1': {'bp_app_instance': '1',                  'ip': '172.16.1.22',                  'state': 'postgres-script-completed'},            '2': {'bp_app_instance': '2',                  'ip': '172.16.2.51',                  'state': 'postgres-script-completed'}},  'rank': [1, 0, 2]}, {'group': 'open-api',  'leader': 1,  'name': 'open-api',  'peers': {'0': {'IP': '172.16.0.2'},            '1': {'IP': '172.16.1.45'},            '2': {'IP': '172.16.2.57'}},  'rank': [1, 0, 2]}, {'group': 'uaa-user-guide',  'leader': None,  'name': 'uaa-user-guide',  'peers': {},  'rank': []}, {'group': 'elasticsearch',  'leader': 0,  'name': 'elasticsearch',  'peers': {'0': {'ip': '172.16.0.42',                  'nodeId': 1627209240981,                  'port': 8080,                  'startTime': 1628506286634},            '1': {'ip': '172.16.1.27',                  'nodeId': 1627209214793,                  'port': 8080,                  'startTime': 1628506278289},            '2': {'ip': '172.16.2.70',                  'nodeId': 1627209233142,                  'port': 8080,                  'startTime': 1628506289408}},  'rank': [0, 2, 1]}, {'group': 'api-crinoid',  'leader': 1,  'name': 'api-crinoid',  'peers': {'0': {'container': '03fb3274ead7',                  'host': 'onxl8580',                  'ip': '172.16.2.32',                  'state': 'non-leader'},            '1': {'container': '0526f15963bc',                  'host': 'onxl8578',                  'ip': '172.16.0.3',                  'state': 'running'},            '2': {'container': 'a704bcb2d7c7',                  'host': 'onxl8579',                  'ip': '172.16.1.16',                  'state': 'non-leader'}},  'rank': [1, 2, 0]}, {'group': 'pce',  'leader': 2,  'name': 'pce', ", "table_path": "", "page_number": 47, "type": "Figure[31]", "header": "Listing all apps in a cluster "}, {"text": "", "table_path": "figures/fileoutpart61.png", "page_number": 48, "type": "Figure[32]", "header": "Listing all apps in a cluster "}, {"text": "  'peers': {'0': {}, '1': {}, '2': {}},  'rank': [2, 0, 1]}, {'group': 'backup',  'leader': 2,  'name': 'backup',  'peers': {'0': {'ip': '172.16.2.37',                  'nodeId': 1627179830405,                  'port': 8080,                  'startTime': 1628506275349},            '1': {'ip': '172.16.1.87',                  'nodeId': 1627179826858,                  'port': 8080,                  'startTime': 1628506285048},            '2': {'ip': '172.16.0.19',                  'nodeId': 1627179822825,                  'port': 8080,                  'startTime': 1628506276845}},  'rank': [2, 1, 0]}] ", "table_path": "", "page_number": 48, "type": "Figure[32]", "header": "Listing all apps in a cluster "}, {"text": "The output of this command includes all of the clusters. ", "table_path": "", "page_number": 48, "type": "P[109]", "header": "Listing all apps in a cluster "}]}, {"header": "Backing up a failing HA cluster node ", "content": [{"text": "If you have a failing node in an HA cluster, you must back up the solution by running the backup command on a remaining healthy node. ", "table_path": "", "page_number": 48, "type": "P[110]", "header": "Backing up a failing HA cluster node "}, {"text": "To replace a failed cluster instance manually, copy a node snapshot from one of the working nodes to a new cluster by performing the steps in the install guide to create a new cluster, then do the following on one of the nodes: ", "table_path": "", "page_number": 48, "type": "P[111]", "header": "Backing up a failing HA cluster node "}, {"text": "[bpadmin]$ sudo solman ", "table_path": "", "page_number": 48, "type": "Aside[47]/P", "header": "Backing up a failing HA cluster node "}, {"text": "Connecting smcli to solutionmanager_0 ", "table_path": "", "page_number": 48, "type": "Aside[47]/P[2]", "header": "Backing up a failing HA cluster node "}, {"text": "(Cmd) site_backup --label <label name> ", "table_path": "", "page_number": 48, "type": "Aside[47]/P[3]", "header": "Backing up a failing HA cluster node "}, {"text": "For example: ", "table_path": "", "page_number": 48, "type": "P[112]", "header": "Backing up a failing HA cluster node "}, {"text": "(Cmd) site_backup --label Test1 ", "table_path": "", "page_number": 48, "type": "Aside[48]/P", "header": "Backing up a failing HA cluster node "}, {"text": "The output is: ", "table_path": "", "page_number": 48, "type": "P[113]", "header": "Backing up a failing HA cluster node "}, {"text": "Backing up site ", "table_path": "", "page_number": 48, "type": "Aside[49]/P", "header": "Backing up a failing HA cluster node "}, {"text": "site_Test1_2020-12-07T09:33:51Z ", "table_path": "", "page_number": 48, "type": "Aside[49]/P[2]", "header": "Backing up a failing HA cluster node "}, {"text": "", "table_path": "", "page_number": 48, "type": "P[114]", "header": "Backing up a failing HA cluster node "}, {"text": "", "table_path": "", "page_number": 49, "type": "P[115]", "header": "Backing up a failing HA cluster node "}, {"text": "Create backups of any manual configured override/settings from this directory and apply to your new cluster before performing the restore procedure. ", "table_path": "", "page_number": 49, "type": "P[116]", "header": "Backing up a failing HA cluster node "}, {"text": "", "table_path": "", "page_number": 49, "type": "P[117]", "header": "Backing up a failing HA cluster node "}, {"text": "", "table_path": "", "page_number": 49, "type": "P[118]", "header": "Backing up a failing HA cluster node "}]}, {"header": "Restoring an existing snapshot to a new HA cluster ", "content": [{"text": "Once your new HA cluster is running, restore the snapshot to this cluster. This procedure uses Solution Manager to perform this task. To restore the backups of backup-service, you must use the Solution Manager solution. For UAA, you can also use the Swagger UI option to restore. ", "table_path": "", "page_number": 49, "type": "P[119]", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "To restore a backup of your site: ", "table_path": "", "page_number": 49, "type": "P[120]", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "", "table_path": "", "page_number": 49, "type": "L[63]", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "$ sudo solman ", "table_path": "", "page_number": 49, "type": "Aside[50]/P", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "Connecting smcli to solutionmanager_0 ", "table_path": "", "page_number": 49, "type": "Aside[50]/P[2]", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "(Cmd) solution_stop <solution_names> ", "table_path": "", "page_number": 49, "type": "Aside[50]/P[3]", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "b. ", "table_path": "", "page_number": 49, "type": "L[64]/LI/Lbl", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "Alternatively you can stop all running solutions with the bpi utility. Use the following utility to stop all required solutions: ", "table_path": "", "page_number": 49, "type": "L[64]/LI/LBody", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "", "table_path": "", "page_number": 49, "type": "L[64]/LI", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "", "table_path": "", "page_number": 49, "type": "L[64]", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "./bpi --utility playbooks/solution-stopall.yml --playbook-args='--skip-tags stop-orch,stop-xp' ", "table_path": "", "page_number": 50, "type": "Aside[51]/P", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "", "table_path": "", "page_number": 50, "type": "L[65]", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "sudo solman sps ", "table_path": "", "page_number": 50, "type": "Aside[52]/P", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "6. ", "table_path": "", "page_number": 50, "type": "L[66]/LI/Lbl", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "Verify that the nagios in active site and make sure that the Status of all services is OK(green). ", "table_path": "", "page_number": 50, "type": "L[66]/LI/LBody", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "", "table_path": "", "page_number": 50, "type": "L[66]/LI", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "", "table_path": "", "page_number": 50, "type": "L[66]", "header": "Restoring an existing snapshot to a new HA cluster "}, {"text": "Wait several minutes to ensure all processes have time to restart. You can monitor Nagios to ensure all containers are healthy. You should remove all remnants of the previous cluster in a timely manner to avoid any conflicts. ", "table_path": "", "page_number": 50, "type": "P[121]", "header": "Restoring an existing snapshot to a new HA cluster "}]}, {"header": "Leaving or rejoining the HA cluster ", "content": [{"text": "A host can leave a cluster in three ways: ", "table_path": "", "page_number": 50, "type": "P[122]", "header": "Leaving or rejoining the HA cluster "}, {"text": "", "table_path": "", "page_number": 50, "type": "L[67]", "header": "Leaving or rejoining the HA cluster "}, {"text": "", "table_path": "", "page_number": 50, "type": "P[123]", "header": "Leaving or rejoining the HA cluster "}, {"text": "After a host that has left the cluster for any reason is ready to rejoin the cluster, the host automatically rejoins the cluster as long as the connectivity to the other hosts is available. The software components on the returning host reestablish communications and synchronize with the software components on the other hosts. No manual restore from a backup is necessary. ", "table_path": "", "page_number": 51, "type": "P[124]", "header": "Leaving or rejoining the HA cluster "}, {"text": "For catastrophic failure of the cluster, backup and restore is necessary for recovery on a new cluster. ", "table_path": "", "page_number": 51, "type": "P[125]", "header": "Leaving or rejoining the HA cluster "}]}, {"header": "Managing warm standby disaster recovery ", "content": [{"text": "This section contains procedures on how to manage your warm standby geored solution. ", "table_path": "", "page_number": 52, "type": "P[126]", "header": "Managing warm standby disaster recovery "}, {"text": "This section includes: ", "table_path": "", "page_number": 52, "type": "P[127]", "header": "Managing warm standby disaster recovery "}, {"text": "", "table_path": "", "page_number": 52, "type": "L[68]", "header": "Managing warm standby disaster recovery "}, {"text": "", "table_path": "", "page_number": 52, "type": "P[128]", "header": "Managing warm standby disaster recovery "}]}, {"header": "Verifying replication is active ", "content": [{"text": "In a warm standby geo-redundant environment, replication is managed individually by each application. ", "table_path": "", "page_number": 52, "type": "P[129]", "header": "Verifying replication is active "}, {"text": "This release replicates the following major components: Asset Manager and Postgres. ", "table_path": "", "page_number": 52, "type": "P[130]", "header": "Verifying replication is active "}, {"text": "Use the following procedures to verify that each geored-enabled application is successfully replicating data. ", "table_path": "", "page_number": 52, "type": "P[131]", "header": "Verifying replication is active "}, {"text": "", "table_path": "", "page_number": 52, "type": "L[69]", "header": "Verifying replication is active "}]}, {"header": "Verifying Asset Manager ", "content": [{"text": "To check the replication state for geored, log into a host on the active site and run: ", "table_path": "", "page_number": 52, "type": "P[132]", "header": "Verifying Asset Manager "}, {"text": "curl -k -X GET https://<bp-server-ip>/geored/site/sync-status?cascade=true | python -m json.tool ", "table_path": "", "page_number": 52, "type": "Aside[53]/P", "header": "Verifying Asset Manager "}, {"text": "The standby site report should include the following: ", "table_path": "", "page_number": 52, "type": "P[133]", "header": "Verifying Asset Manager "}, {"text": "", "table_path": "", "page_number": 52, "type": "L[70]", "header": "Verifying Asset Manager "}, {"text": "The following is an example of a node with these properties: ", "table_path": "", "page_number": 52, "type": "P[134]", "header": "Verifying Asset Manager "}, {"text": "", "table_path": "figures/fileoutpart65.png", "page_number": 53, "type": "Figure[33]", "header": "Verifying Asset Manager "}, {"text": "{ \"cluster_name\":\"asset-manager\", \"container_name\":\"asset-manager_4.3.1-12488-9b32be4c4_0\", \"cluster_authority\":true, \"sync_active\":true, \"sync_detail\":{ \"rsync_client_running\":\"true\", \"rsync_daemon_running\":\"false\", \"standby_last_sync\":\"2022-07-25T12:29:01.601024Z\" } } ", "table_path": "", "page_number": 53, "type": "Figure[33]", "header": "Verifying Asset Manager "}, {"text": "UAA does not allow user to login to the standby except for the geored-ui. The only way to verify the data is replicated is to log into the containers using solman. ", "table_path": "", "page_number": 53, "type": "P[135]", "header": "Verifying Asset Manager "}]}, {"header": "Verifying postgres ", "content": [{"text": "", "table_path": "", "page_number": 53, "type": "P[136]", "header": "Verifying postgres "}, {"text": "", "table_path": "figures/fileoutpart66.png", "page_number": 53, "type": "Figure[34]", "header": "Verifying postgres "}, {"text": "(Cmd) api clusters postgres get {'group': 'postgres', 'kind': '#cluster', 'leader': 1, 'name': 'postgres', 'peers': {'0': {'patroni_ready': True},           '1': {'patroni_ready': True},           '2': {'patroni_ready': True}}, 'rank': [1, 0, 2]} (Cmd) (Cmd) api clusters <solution name> get {'group': '<solution name>', 'kind': '#cluster', 'leader': 0, 'name': '<solution name>', 'peers': {'0': {'patroni_ready': True},           '1': {'patroni_ready': True},           '2': {'patroni_ready': True}}, 'rank': [0, 1, 2]} (Cmd) ", "table_path": "", "page_number": 53, "type": "Figure[34]", "header": "Verifying postgres "}]}, {"header": "Viewing Blue Planet active and backup server status ", "content": [{"text": "", "table_path": "", "page_number": 54, "type": "P[137]", "header": "Viewing Blue Planet active and backup server status "}, {"text": "If both servers are up and the tunnel is activated, then both Active and Standby display on the status page. ", "table_path": "", "page_number": 54, "type": "P[138]", "header": "Viewing Blue Planet active and backup server status "}, {"text": "The interface does not display the active server if it is offline. Only the standby server displays and can be activated (in this case). No action can be completed on the active server from this page. ", "table_path": "", "page_number": 54, "type": "P[139]", "header": "Viewing Blue Planet active and backup server status "}, {"text": "", "table_path": "", "page_number": 54, "type": "P[140]", "header": "Viewing Blue Planet active and backup server status "}, {"text": "You can access the standby geored-ui by entering: https://<BP standby IP>/bp-platform-ui/#/geored-ui. ", "table_path": "", "page_number": 54, "type": "P[141]", "header": "Viewing Blue Planet active and backup server status "}, {"text": "If you view the Nagios standby server status, you will see critical status details present since those services are not started on a standby server while the active server is handling them. The Active server will eventually show all containers as green. ", "table_path": "", "page_number": 54, "type": "P[142]", "header": "Viewing Blue Planet active and backup server status "}]}, {"header": "Failing over for geographical redundancy ", "content": [{"text": "This topic describes the procedures required to successfully failover your geographical redundant (or geored) servers or clusters. It includes: ", "table_path": "", "page_number": 55, "type": "P[143]", "header": "Failing over for geographical redundancy "}, {"text": "", "table_path": "", "page_number": 55, "type": "L[71]", "header": "Failing over for geographical redundancy "}, {"text": "", "table_path": "", "page_number": 55, "type": "P[144]", "header": "Failing over for geographical redundancy "}, {"text": "Table 3. Geored scenarios and procedures ", "table_path": "", "page_number": 55, "type": "P[145]", "header": "Failing over for geographical redundancy "}, {"text": "", "table_path": "tables/fileoutpart67.xlsx", "page_number": 55, "type": "Table[7]", "header": "Failing over for geographical redundancy "}]}, {"header": "", "content": []}, {"header": "SCENARIO OPTIONS ", "content": []}, {"header": "", "content": []}, {"header": "REQUIRED/OPTIONAL ", "content": []}, {"header": "", "content": []}, {"header": "GO TO ", "content": [{"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[2]/TD", "header": "GO TO "}, {"text": "Planned geored server maintenance ", "table_path": "", "page_number": 55, "type": "Table[7]/TR[2]/TD/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[2]/TD[2]", "header": "GO TO "}, {"text": "required ", "table_path": "", "page_number": 55, "type": "Table[7]/TR[2]/TD[2]/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[2]/TD[3]", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[2]/TD[3]/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[3]/TD", "header": "GO TO "}, {"text": "Active site failure ", "table_path": "", "page_number": 55, "type": "Table[7]/TR[3]/TD/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[3]/TD[2]", "header": "GO TO "}, {"text": "required ", "table_path": "", "page_number": 55, "type": "Table[7]/TR[3]/TD[2]/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[3]/TD[3]", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[3]/TD[3]/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[4]/TD", "header": "GO TO "}, {"text": "If the active site fails and cannot be recovered, create a new standby site ", "table_path": "", "page_number": 55, "type": "Table[7]/TR[4]/TD/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[4]/TD[2]", "header": "GO TO "}, {"text": "option A ", "table_path": "", "page_number": 55, "type": "Table[7]/TR[4]/TD[2]/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[4]/TD[3]", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[4]/TD[3]/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[5]/TD", "header": "GO TO "}, {"text": "If the active site has been taken down for server maintenance, restore the former active site as the new standby site ", "table_path": "", "page_number": 55, "type": "Table[7]/TR[5]/TD/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[5]/TD[2]", "header": "GO TO "}, {"text": "option B ", "table_path": "", "page_number": 55, "type": "Table[7]/TR[5]/TD[2]/P", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[5]/TD[3]", "header": "GO TO "}, {"text": "", "table_path": "", "page_number": 55, "type": "Table[7]/TR[5]/TD[3]/P", "header": "GO TO "}]}, {"header": "Activating a Standby site for a geographical redundancy failover ", "content": [{"text": "If an Active site fails, use this procedure to perform a failover of an Active site to a Standby site for geographical redundancy (GR). ", "table_path": "", "page_number": 56, "type": "P[146]", "header": "Activating a Standby site for a geographical redundancy failover "}, {"text": "This procedure uses the following designation as an example: ", "table_path": "", "page_number": 56, "type": "P[147]", "header": "Activating a Standby site for a geographical redundancy failover "}, {"text": "", "table_path": "", "page_number": 56, "type": "L[72]", "header": "Activating a Standby site for a geographical redundancy failover "}, {"text": "There are two methods to perform fail-over. ", "table_path": "", "page_number": 56, "type": "P[148]", "header": "Activating a Standby site for a geographical redundancy failover "}, {"text": "", "table_path": "", "page_number": 56, "type": "L[73]", "header": "Activating a Standby site for a geographical redundancy failover "}]}, {"header": "Method 1 ", "content": [{"text": "1. ", "table_path": "", "page_number": 56, "type": "L[74]/LI/Lbl", "header": "Method 1 "}, {"text": "Navigate to below URL: ", "table_path": "", "page_number": 56, "type": "L[74]/LI/LBody", "header": "Method 1 "}, {"text": "", "table_path": "", "page_number": 56, "type": "L[74]/LI", "header": "Method 1 "}, {"text": "", "table_path": "", "page_number": 56, "type": "L[74]", "header": "Method 1 "}, {"text": "https://<Standby-site-ip>/bp-platform-ui/#/geored-ui ", "table_path": "", "page_number": 56, "type": "Aside[54]/P", "header": "Method 1 "}, {"text": "", "table_path": "", "page_number": 56, "type": "L[75]", "header": "Method 1 "}, {"text": "", "table_path": "figures/fileoutpart70.png", "page_number": 56, "type": "Figure[35]", "header": "Method 1 "}, {"text": "", "table_path": "", "page_number": 56, "type": "L[76]", "header": "Method 1 "}, {"text": "https://<SiteB_IP_address>/nagios ", "table_path": "", "page_number": 57, "type": "Aside[55]/P", "header": "Method 1 "}, {"text": "", "table_path": "tables/fileoutpart71.xlsx", "page_number": 57, "type": "Table[8]", "header": "Method 1 "}, {"text": "", "table_path": "", "page_number": 57, "type": "Table[8]/TR/TD", "header": "Method 1 "}, {"text": "where ", "table_path": "", "page_number": 57, "type": "Table[8]/TR/TD/P", "header": "Method 1 "}, {"text": "", "table_path": "", "page_number": 57, "type": "Table[8]/TR[2]/TD", "header": "Method 1 "}, {"text": "<SiteB_IP_address> ", "table_path": "", "page_number": 57, "type": "Table[8]/TR[2]/TD/P", "header": "Method 1 "}, {"text": "", "table_path": "", "page_number": 57, "type": "Table[8]/TR[2]/TD[2]", "header": "Method 1 "}, {"text": "is the site IP address of Site B (current Active). ", "table_path": "", "page_number": 57, "type": "Table[8]/TR[2]/TD[2]/P", "header": "Method 1 "}, {"text": "", "table_path": "", "page_number": 57, "type": "L[77]", "header": "Method 1 "}]}, {"header": "Method 2 ", "content": [{"text": "1. ", "table_path": "", "page_number": 57, "type": "L[78]/LI/Lbl", "header": "Method 2 "}, {"text": "Login to host0 of Site B which is current Standby site and run the failover utility on this host 0 to activate Site B as new Active site: ", "table_path": "", "page_number": 57, "type": "L[78]/LI/LBody", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "L[78]/LI", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "L[78]", "header": "Method 2 "}, {"text": "./bpi --geo-failover --playbook-args='-e geo_user=<user> -e ", "table_path": "", "page_number": 57, "type": "Aside[56]/P", "header": "Method 2 "}, {"text": "geo_password=<password>' ", "table_path": "", "page_number": 57, "type": "Aside[56]/P[2]", "header": "Method 2 "}, {"text": "", "table_path": "tables/fileoutpart74.xlsx", "page_number": 57, "type": "Table[9]", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "Table[9]/TR/TD", "header": "Method 2 "}, {"text": "where ", "table_path": "", "page_number": 57, "type": "Table[9]/TR/TD/P", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "Table[9]/TR[2]/TD", "header": "Method 2 "}, {"text": "<user> ", "table_path": "", "page_number": 57, "type": "Table[9]/TR[2]/TD/P", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "Table[9]/TR[2]/TD[2]", "header": "Method 2 "}, {"text": "is the username for authentication ", "table_path": "", "page_number": 57, "type": "Table[9]/TR[2]/TD[2]/P", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "Table[9]/TR[3]/TD", "header": "Method 2 "}, {"text": "<password> ", "table_path": "", "page_number": 57, "type": "Table[9]/TR[3]/TD/P", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "Table[9]/TR[3]/TD[2]", "header": "Method 2 "}, {"text": "is the password for authentication ", "table_path": "", "page_number": 57, "type": "Table[9]/TR[3]/TD[2]/P", "header": "Method 2 "}, {"text": "2. ", "table_path": "", "page_number": 57, "type": "L[79]/LI/Lbl", "header": "Method 2 "}, {"text": "Use Nagios to monitor the system applications on Site B (standby) and wait for them to change from 'standby' mode to 'active' mode (show ", "table_path": "", "page_number": 57, "type": "L[79]/LI/LBody/ParagraphSpan", "header": "Method 2 "}, {"text": "OK", "table_path": "", "page_number": 57, "type": "L[79]/LI/LBody/ParagraphSpan/Span", "header": "Method 2 "}, {"text": " (green)): ", "table_path": "", "page_number": 57, "type": "L[79]/LI/LBody/ParagraphSpan", "header": "Method 2 "}, {"text": "a. ", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/Lbl", "header": "Method 2 "}, {"text": "Launch your browser and go to Nagios: ", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/ParagraphSpan", "header": "Method 2 "}, {"text": "", "table_path": "figures/fileoutpart76.png", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Figure", "header": "Method 2 "}, {"text": "https://<SiteB_IP_address>/nagios ", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Figure", "header": "Method 2 "}, {"text": "", "table_path": "tables/fileoutpart77.xlsx", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Table", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Table/TR/TD", "header": "Method 2 "}, {"text": "where ", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Table/TR/TD/P", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Table/TR[2]/TD", "header": "Method 2 "}, {"text": "<SiteB_IP_address> ", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Table/TR[2]/TD/P", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Table/TR[2]/TD[2]", "header": "Method 2 "}, {"text": "is the site IP address of Site B (standby) ", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody/Table/TR[2]/TD[2]/P", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI/LBody", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L/LI", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 58, "type": "L[79]/LI/LBody/L", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "L[79]/LI/LBody", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "L[79]/LI", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 57, "type": "L[79]", "header": "Method 2 "}, {"text": "The Authentication Required dialog box displays. ", "table_path": "", "page_number": 58, "type": "P[149]", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 58, "type": "L[80]", "header": "Method 2 "}, {"text": "", "table_path": "", "page_number": 58, "type": "P[150]", "header": "Method 2 "}]}, {"header": "Creating a new Standby site for geographical redundancy ", "content": [{"text": "", "table_path": "", "page_number": 58, "type": "P[151]", "header": "Creating a new Standby site for geographical redundancy "}, {"text": "", "table_path": "", "page_number": 58, "type": "P[152]", "header": "Creating a new Standby site for geographical redundancy "}]}, {"header": "Cleaning up old georedundancy settings ", "content": [{"text": "1. ", "table_path": "", "page_number": 59, "type": "L[81]/LI/Lbl", "header": "Cleaning up old georedundancy settings "}, {"text": "Clean up tunnel configuration on the new Active site, run the following command on host0 of new active site as a ", "table_path": "", "page_number": 59, "type": "L[81]/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "bpadmin", "table_path": "", "page_number": 59, "type": "L[81]/LI/LBody/Span", "header": "Cleaning up old georedundancy settings "}, {"text": " user: ", "table_path": "", "page_number": 59, "type": "L[81]/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[81]/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[81]/LI", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[81]", "header": "Cleaning up old georedundancy settings "}, {"text": "./bpi --utility playbooks/geo-clean.yml ", "table_path": "", "page_number": 59, "type": "Aside[57]/P", "header": "Cleaning up old georedundancy settings "}, {"text": "2. ", "table_path": "", "page_number": 59, "type": "L[82]/LI/Lbl", "header": "Cleaning up old georedundancy settings "}, {"text": "Clean up geored configuration files: ", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody/ParagraphSpan", "header": "Cleaning up old georedundancy settings "}, {"text": "a. ", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody/L/LI/Lbl", "header": "Cleaning up old georedundancy settings "}, {"text": "Delete contents of the ", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody/L/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "/etc/bp2/site/bpfirewall.conf", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody/L/LI/LBody/Span", "header": "Cleaning up old georedundancy settings "}, {"text": " file on the new active site: ", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody/L/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody/L/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody/L/LI", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody/L", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[82]/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[82]/LI", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[82]", "header": "Cleaning up old georedundancy settings "}, {"text": "sudo bpssh \"sudo truncate -s 0 /etc/bp2/site/bpfirewall.conf ", "table_path": "", "page_number": 59, "type": "Aside[58]/P", "header": "Cleaning up old georedundancy settings "}, {"text": "b. ", "table_path": "", "page_number": 59, "type": "L[83]/LI/Lbl", "header": "Cleaning up old georedundancy settings "}, {"text": "Delete the ", "table_path": "", "page_number": 59, "type": "L[83]/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "/etc/ipsec.d/GeoRed-*.conf", "table_path": "", "page_number": 59, "type": "L[83]/LI/LBody/Span", "header": "Cleaning up old georedundancy settings "}, {"text": " files on all hosts of the new active site: ", "table_path": "", "page_number": 59, "type": "L[83]/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[83]/LI/LBody", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[83]/LI", "header": "Cleaning up old georedundancy settings "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[83]", "header": "Cleaning up old georedundancy settings "}, {"text": "sudo bpssh \"rm -f /etc/ipsec.d/GeoRed-*.conf\" ", "table_path": "", "page_number": 59, "type": "Aside[59]/P", "header": "Cleaning up old georedundancy settings "}]}, {"header": "Requirements ", "content": [{"text": "", "table_path": "", "page_number": 59, "type": "P[153]", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[84]", "header": "Requirements "}, {"text": "After the above procedures are completed, follow the below mentioned procedures to complete setting up the Standby site from the Active site: ", "table_path": "", "page_number": 59, "type": "P[154]", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 59, "type": "L[85]", "header": "Requirements "}]}, {"header": "Updating hosts file ", "content": [{"text": "", "table_path": "", "page_number": 60, "type": "L[86]", "header": "Updating hosts file "}, {"text": "", "table_path": "tables/fileoutpart80.xlsx", "page_number": 61, "type": "Table[10]", "header": "Updating hosts file "}]}, {"header": "", "content": []}, {"header": "", "content": [{"text": "The following shows a sample of active host 0 file after the multi-host edits of active and standby sites are made for an installation where the subnet mask is 22 (255.255.252.0). ", "table_path": "", "page_number": 61, "type": "P[155]", "header": ""}, {"text": "[cluster] host0 ansible_host=10.186.34.246 controller=True host1 ansible_host=10.186.33.108 controller=True host2 ansible_host=10.186.32.60 controller=True #host3 ansible_host=a.b.c.d controller=False #host4 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 62, "type": "Aside[60]/P", "header": ""}, {"text": "[cluster:vars] ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[2]", "header": ""}, {"text": "# If uncommented, the Site IP address will be set via the set-site-ip command ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[3]", "header": ""}, {"text": "# Format is IP Address/CIDR mask - e.g. 1.1.1.1/22 ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[4]", "header": ""}, {"text": "site_ip=10.186.35.15/22 ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[5]", "header": ""}, {"text": "# StandBy Cluster Details ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[6]", "header": ""}, {"text": "# ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[7]", "header": ""}, {"text": "# ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[8]", "header": ""}, {"text": "[standby_cluster] ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[9]", "header": ""}, {"text": "standby_host0 ansible_host=10.186.34.235 controller=True ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[10]", "header": ""}, {"text": "standby_host1 ansible_host=10.186.32.44 controller=True ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[11]", "header": ""}, {"text": "standby_host2 ansible_host=10.186.33.120 controller=True ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[12]", "header": ""}, {"text": "#standby_host3 ansible_host=a.b.c.d controller=False ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[13]", "header": ""}, {"text": "#standby_host4 ansible_host=a.b.c.d controller=False # ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[14]", "header": ""}, {"text": "[standby_cluster:vars] ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[15]", "header": ""}, {"text": "# If uncommented, the Site IP address will be set via the set-site-ip command ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[16]", "header": ""}, {"text": "# Format is IP Address/CIDR mask - e.g. 1.1.1.1/22 ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[17]", "header": ""}, {"text": "site_ip=10.186.35.16/22 ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[18]", "header": ""}, {"text": "# ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[19]", "header": ""}, {"text": "# If uncommented, the Site Name will be set via the set-site-name command ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[20]", "header": ""}, {"text": "# Valid characters for site_name are letters, numbers and dashes. ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[21]", "header": ""}, {"text": "site_name=BPSite2 ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[22]", "header": ""}, {"text": "# ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[23]", "header": ""}, {"text": "# Required for ubuntu 16.04, when python 2.x is not installed ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[24]", "header": ""}, {"text": "#ansible_python_interpreter=/usr/bin/python3 ", "table_path": "", "page_number": 62, "type": "Aside[60]/P[25]", "header": ""}, {"text": "4. Save the hosts file. ", "table_path": "", "page_number": 62, "type": "P[156]", "header": ""}]}, {"header": "Modifying the volume group name ", "content": [{"text": "Ciena recommends using unique names that can be recognized and avoid name conflicts across multiple virtual groups. ", "table_path": "", "page_number": 62, "type": "P[157]", "header": "Modifying the volume group name "}, {"text": "Complete the following steps to modify the volume group name where the unallocated physical extents space is left free for UAA to create and configure the Docker thin pool. ", "table_path": "", "page_number": 62, "type": "P[158]", "header": "Modifying the volume group name "}, {"text": "", "table_path": "", "page_number": 63, "type": "P[159]", "header": "Modifying the volume group name "}, {"text": "Before you begin, verify that you: ", "table_path": "", "page_number": 63, "type": "P[160]", "header": "Modifying the volume group name "}, {"text": "1. ", "table_path": "", "page_number": 63, "type": "L[87]/LI/Lbl", "header": "Modifying the volume group name "}, {"text": "Know the name of the volume group where the unallocated physical extents (PE) space is available for UAA to create and configure the Docker thin pool. ", "table_path": "", "page_number": 63, "type": "L[87]/LI/LBody/ParagraphSpan", "header": "Modifying the volume group name "}, {"text": "", "table_path": "figures/fileoutpart82.png", "page_number": 63, "type": "L[87]/LI/LBody/Figure", "header": "Modifying the volume group name "}, {"text": "\uf05a ", "table_path": "", "page_number": 63, "type": "L[87]/LI/LBody/Figure", "header": "Modifying the volume group name "}, {"text": "You can use the Linux vgdisplay command to display volume group information. ", "table_path": "", "page_number": 63, "type": "L[87]/LI/LBody/P", "header": "Modifying the volume group name "}, {"text": "", "table_path": "", "page_number": 63, "type": "L[87]/LI/LBody", "header": "Modifying the volume group name "}, {"text": "", "table_path": "", "page_number": 63, "type": "L[87]/LI", "header": "Modifying the volume group name "}, {"text": "", "table_path": "", "page_number": 63, "type": "L[87]", "header": "Modifying the volume group name "}, {"text": "To modify the volume group name: ", "table_path": "", "page_number": 63, "type": "P[161]", "header": "Modifying the volume group name "}, {"text": "", "table_path": "", "page_number": 63, "type": "L[88]", "header": "Modifying the volume group name "}, {"text": "", "table_path": "", "page_number": 63, "type": "P[162]", "header": "Modifying the volume group name "}, {"text": "#bpdockerdevs: /dev/xvdb #vgdockerpool: blueplanet ", "table_path": "", "page_number": 63, "type": "Aside[61]/P", "header": "Modifying the volume group name "}, {"text": "", "table_path": "", "page_number": 63, "type": "P[163]", "header": "Modifying the volume group name "}, {"text": "#bpdockerdevs: /dev/xvdb vgdockerpool: my_vgname ", "table_path": "", "page_number": 63, "type": "Aside[62]/P", "header": "Modifying the volume group name "}]}, {"header": "Configuring a time source ", "content": [{"text": "UAA hosts can use a local or remote time source. For example: ", "table_path": "", "page_number": 63, "type": "P[164]", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 64, "type": "L[89]", "header": "Configuring a time source "}, {"text": "", "table_path": "figures/fileoutpart83.png", "page_number": 64, "type": "Figure[36]", "header": "Configuring a time source "}, {"text": "\uf05a ", "table_path": "", "page_number": 64, "type": "Figure[36]", "header": "Configuring a time source "}, {"text": "Configure NTP in accordance with your site timeserver infrastructure. The Blue Planet installer can apply a simple configuration with one, three, or four timeservers. If NTP is already configured on UAA host, skip this procedure. ", "table_path": "", "page_number": 64, "type": "P[165]", "header": "Configuring a time source "}, {"text": "By default, the UAA installer sets up four NTP servers: ", "table_path": "", "page_number": 64, "type": "P[166]", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 64, "type": "Aside[63]/L", "header": "Configuring a time source "}, {"text": "While you can specify your own NTP servers, or use fewer servers, Ciena recommends that you always have a minimum of three\u2014and preferably four\u2014timing servers for optimal UAA timing synchronization. The number of upstream servers, in order from most to least preferred, is listed below. ", "table_path": "", "page_number": 64, "type": "P[167]", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 64, "type": "L[90]", "header": "Configuring a time source "}, {"text": "Complete this procedure to configures the Network Time Protocol (NTP) server(s) to serve as the timing source for UAA hosts. This is a mandatory procedure. ", "table_path": "", "page_number": 64, "type": "P[168]", "header": "Configuring a time source "}, {"text": "All UAA hosts must be synchronized to an accurate timing source. If you want to use a local time source or custom remote time sources (different than the default ones provided), then perform this procedure. ", "table_path": "", "page_number": 65, "type": "P[169]", "header": "Configuring a time source "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 65, "type": "P[170]", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 65, "type": "L[91]", "header": "Configuring a time source "}, {"text": "To configure a time source: ", "table_path": "", "page_number": 65, "type": "P[171]", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 65, "type": "L[92]", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 66, "type": "Aside[64]/L", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 66, "type": "P[172]", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 66, "type": "Aside[65]/L", "header": "Configuring a time source "}, {"text": "7. ", "table_path": "", "page_number": 67, "type": "L[93]/LI/Lbl", "header": "Configuring a time source "}, {"text": "By default, the ", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody", "header": "Configuring a time source "}, {"text": "ntp_server_options", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody/Span", "header": "Configuring a time source "}, {"text": " entry default is iburst. For details about the ", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody", "header": "Configuring a time source "}, {"text": "ntp_server_options", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody/Span[2]", "header": "Configuring a time source "}, {"text": ", see ", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody", "header": "Configuring a time source "}, {"text": "https://linux.die.net/man/5/ntp.conf", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody/Reference", "header": "Configuring a time source "}, {"text": ". If you want to change the default value, uncomment ", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody", "header": "Configuring a time source "}, {"text": "ntp_server_options", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody/Span[3]", "header": "Configuring a time source "}, {"text": " and edit its value in ", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody", "header": "Configuring a time source "}, {"text": "standby_cluster", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody/Span[4]", "header": "Configuring a time source "}, {"text": " and save the file. ", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 67, "type": "L[93]/LI/LBody", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 67, "type": "L[93]/LI", "header": "Configuring a time source "}, {"text": "", "table_path": "", "page_number": 67, "type": "L[93]", "header": "Configuring a time source "}]}, {"header": "Configuring geographical redundancy ", "content": [{"text": "", "table_path": "", "page_number": 67, "type": "P[173]", "header": "Configuring geographical redundancy "}, {"text": "", "table_path": "", "page_number": 67, "type": "L[94]", "header": "Configuring geographical redundancy "}]}, {"header": "Requirements ", "content": [{"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 67, "type": "P[174]", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 67, "type": "L[95]", "header": "Requirements "}]}, {"header": "", "content": [{"text": "", "table_path": "", "page_number": 68, "type": "L[96]", "header": ""}]}, {"header": "Configuring the Blue Planet email service ", "content": [{"text": "UAA requires that you configure a Simple Mail Transfer Protocol (SMTP) or Amazon Email Service (AWS) server so that UAA can send system email to users. Emails are used for alarm notifications and forgotten password assistance. ", "table_path": "", "page_number": 68, "type": "P[175]", "header": "Configuring the Blue Planet email service "}, {"text": "You can configure the email service through: ", "table_path": "", "page_number": 68, "type": "P[176]", "header": "Configuring the Blue Planet email service "}, {"text": "", "table_path": "", "page_number": 68, "type": "L[97]", "header": "Configuring the Blue Planet email service "}, {"text": "", "table_path": "figures/fileoutpart91.png", "page_number": 68, "type": "Figure[37]", "header": "Configuring the Blue Planet email service "}, {"text": "\uf05a ", "table_path": "", "page_number": 68, "type": "Figure[37]", "header": "Configuring the Blue Planet email service "}, {"text": "", "table_path": "", "page_number": 68, "type": "P[177]", "header": "Configuring the Blue Planet email service "}]}, {"header": "SMTP email service configuration ", "content": [{"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 68, "type": "P[178]", "header": "SMTP email service configuration "}, {"text": "", "table_path": "", "page_number": 68, "type": "L[98]", "header": "SMTP email service configuration "}, {"text": "To configure the SMTP Blue Planet email service: ", "table_path": "", "page_number": 68, "type": "P[179]", "header": "SMTP email service configuration "}, {"text": "", "table_path": "", "page_number": 68, "type": "L[99]", "header": "SMTP email service configuration "}, {"text": "", "table_path": "tables/fileoutpart92.xlsx", "page_number": 69, "type": "Table[11]", "header": "SMTP email service configuration "}]}, {"header": "", "content": []}, {"header": "ISSUE ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "smtp_username ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "The SMTP server account username used for sending emails. ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "smtp_password ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "The SMTP server account password. ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "smtp_staticPath ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "The staticPath value must be /bp2/src/static. Do not change this value. ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "smtp_authen ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "The SMTP server authentication. Set the value to true. ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "smtp_transport ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "The SMTP server transport security. Set the value to true or false, as applicable. ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "smtp_mail_server ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "The SMTP server fully qualified domain name (FQDN), such as smtp.gmail.com or, if a dedicated SMTP server, an FQDN that you own. ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "smtp_mailer_name ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "Must be set to Blue Planet Mailer. Do not change this value. ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[9]/TD", "header": "DESCRIPTION "}, {"text": "smtp_port ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[9]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[9]/TD[2]", "header": "DESCRIPTION "}, {"text": "The SMTP server port number. Depending on the server, this port can be 25, 465, or 587. ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[9]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[10]/TD", "header": "DESCRIPTION "}, {"text": "smtp_email ", "table_path": "", "page_number": 69, "type": "Table[11]/TR[10]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[10]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 69, "type": "Table[11]/TR[10]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "Example before the edit: ", "table_path": "", "page_number": 69, "type": "P[180]", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart94.png", "page_number": 70, "type": "Figure[38]", "header": "DESCRIPTION "}, {"text": "# SMTP configuration details for 'Forgot Password' feature smtp_username: USERNAME smtp_password: PASSWORD smtp_staticPath: /bp2/src/static smtp_authen: SMTP_AUTHENTICATION smtp_transport: SMTP_TRANSPORTSECURITY smtp_mail_server: MAILSERVER.COM smtp_mailer_name: MAILER_NAME smtp_port: SMTP_PORT smtp_email: MAILER@EMAIL.COM ", "table_path": "", "page_number": 70, "type": "Figure[38]", "header": "DESCRIPTION "}, {"text": "Example after the edit: ", "table_path": "", "page_number": 70, "type": "P[181]", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart95.png", "page_number": 70, "type": "Figure[39]", "header": "DESCRIPTION "}, {"text": "# SMTP configuration details for 'Forgot Password' feature smtp_username: GmailUser smtp_password: AnyPassword smtp_staticPath: /bp2/src/static smtp_authen: true smtp_transport: true smtp_mail_server: smtp.gmail.com smtp_mailer_name: Blue Planet Mailer smtp_port: 587 smtp_email: api-crinoid@AnyCompany.com ", "table_path": "", "page_number": 70, "type": "Figure[39]", "header": "DESCRIPTION "}]}, {"header": "AWS SES email service configuration ", "content": [{"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 70, "type": "P[182]", "header": "AWS SES email service configuration "}, {"text": "", "table_path": "", "page_number": 70, "type": "L[100]", "header": "AWS SES email service configuration "}, {"text": "To configure the AWS SES email service: ", "table_path": "", "page_number": 70, "type": "P[183]", "header": "AWS SES email service configuration "}, {"text": "", "table_path": "", "page_number": 70, "type": "L[101]", "header": "AWS SES email service configuration "}, {"text": "", "table_path": "tables/fileoutpart97.xlsx", "page_number": 71, "type": "Table[12]", "header": "AWS SES email service configuration "}]}, {"header": "", "content": []}, {"header": "PARAMETER ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 71, "type": "Table[12]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "aws_access_key_id ", "table_path": "", "page_number": 71, "type": "Table[12]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 71, "type": "Table[12]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Specifies the AWS access key used as part of the credentials to authenticate the command request ", "table_path": "", "page_number": 71, "type": "Table[12]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 71, "type": "Table[12]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "aws_secret_access_key ", "table_path": "", "page_number": 71, "type": "Table[12]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 71, "type": "Table[12]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Specifies the AWS secret key used as part of the credentials to authenticate the command request ", "table_path": "", "page_number": 71, "type": "Table[12]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 71, "type": "Table[12]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "aws_session_token ", "table_path": "", "page_number": 71, "type": "Table[12]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 71, "type": "Table[12]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Specifies an AWS session token ", "table_path": "", "page_number": 71, "type": "Table[12]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 71, "type": "Table[12]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "region_name ", "table_path": "", "page_number": 71, "type": "Table[12]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 71, "type": "Table[12]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Specifies the AWS Region to send requests to for commands requested using this profile. ", "table_path": "", "page_number": 71, "type": "Table[12]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 72, "type": "Table[12]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "default_from_email ", "table_path": "", "page_number": 72, "type": "Table[12]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 72, "type": "Table[12]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 72, "type": "Table[12]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 72, "type": "P[184]", "header": "DESCRIPTION "}, {"text": "aws_acesskey: ACCESSKEY aws_secretkey: SECRETKEY ", "table_path": "", "page_number": 72, "type": "Aside[66]/P", "header": "DESCRIPTION "}, {"text": "aws_token: TOKEN ", "table_path": "", "page_number": 72, "type": "Aside[66]/P[2]", "header": "DESCRIPTION "}, {"text": "region_name: us-west-2 ", "table_path": "", "page_number": 72, "type": "Aside[66]/P[3]", "header": "DESCRIPTION "}, {"text": "default_from_email: bp2alerts@ciena.com ", "table_path": "", "page_number": 72, "type": "Aside[66]/P[4]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 72, "type": "P[185]", "header": "DESCRIPTION "}, {"text": "aws_acesskey: ACdsfdsCESdscvsSKdscscEYcd aws_secretkey: O+Cs/x48GYdlr9A/xA2jfJefFZ2C/hbSyNdHJzz2 aws_token: IQoJb3JpZ2luX2VjEL7//////////wEaCXVzLXdlc3QtMiJGMEQCIG81ZtQ73Cu4hd1O4hguTrvG5BAL2Ny UyEatBoUQaD32AiAXrdNAyK3uQZqJG3SRAYCKqyWM5zp6RQpg2SGX9jxoXiqVAwi3//////////8BEAMaDD Y2Mjk5MTMzMzg4MyIMndKDCOZ9QIAKEQBxKukC+McbaxING3Hlp4HUfX5fyKPvTsg9/FUBEcWzPmNDcRbn7 STneup2q05KlUNyjEvuaOyk6ihVTtPCkBN6sHMX/4U1vQcmgYcyVZaNh46NO66bc/vOfBXdsH8swpYXcxwE OwLcwdN8ZtmA4dTWeleGTHxySRvimCAFV2hIPbadrHzBomN03zFD48H2xT1KatY2KlUKbMwaXPB0xT5eDK1 CD26zYPi10YSxrTGsn+V7UB2KfiJMXXSdj5vNmvz6q39Tko1N5slBsESwiWLN1ETio7gMkfgZ6/w60epMrd Nhx6IquD+zsrP6fZPsGVqc5Qov42J+LFRA5KfM3BYKfhVV9UvcKI++rYFnF3S6VRjjVR0MFg1OYerzQg2/T y1t+pUVp/Eb6QFmWRSIdDx4z0O5KpCaHQ2oUwsZXeex2uyVGJpMtddiXsAncxiLtOVWze0k0FO+kbQ1R11F P+XL4VxmTx8TcspIjbYERTDTqPaUBjqnAQsr66p+MqFngsEEFIpA2kx6CG8ot2l+qktOS/stYzK3ftYx5SL K4WpgH1LlQSjrgudssRVIx5p8S0GvSe4f8EazlUIRcVGStVZXSLcZpOvIfoMn/z2n9QXnP1IaVYobKjEYjm Ftbr4RjaA3AwFs/THkz/AZ05w1McJuo2bZ0rPtKoVphE2iUjIf4z5GrVxmizGay5V4Xw/H2aHRoAWMePYaL EEzOSLE ", "table_path": "", "page_number": 72, "type": "Aside[67]/P", "header": "DESCRIPTION "}, {"text": "region_name: us-west-2 ", "table_path": "", "page_number": 72, "type": "Aside[67]/P[2]", "header": "DESCRIPTION "}, {"text": "from_email: bp2alerts@ciena.com ", "table_path": "", "page_number": 72, "type": "Aside[67]/P[3]", "header": "DESCRIPTION "}]}, {"header": "Modifying the ILAN NET interface ", "content": [{"text": "UAA uses the address 172.16.0.0/16/24 for its internal LAN (iLAN). Complete this procedure if: \u2022 Your network uses 172.16.0.0/16/24, in which case, a conflict with the UAA iLAN will occur, or, \u2022 You are implementing georedundancy. Georedundancy requires different iLAN addresses for the active and standby sites. ", "table_path": "", "page_number": 72, "type": "P[186]", "header": "Modifying the ILAN NET interface "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 72, "type": "P[187]", "header": "Modifying the ILAN NET interface "}, {"text": "", "table_path": "", "page_number": 72, "type": "L[102]", "header": "Modifying the ILAN NET interface "}, {"text": "To modify the iLAN interface: ", "table_path": "", "page_number": 72, "type": "P[188]", "header": "Modifying the ILAN NET interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "L[103]", "header": "Modifying the ILAN NET interface "}, {"text": "########### ", "table_path": "", "page_number": 73, "type": "Aside[68]/P", "header": "Modifying the ILAN NET interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "Aside[68]/L", "header": "Modifying the ILAN NET interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "P[189]", "header": "Modifying the ILAN NET interface "}, {"text": "########### ", "table_path": "", "page_number": 73, "type": "Aside[69]/P", "header": "Modifying the ILAN NET interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "Aside[69]/L", "header": "Modifying the ILAN NET interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "P[190]", "header": "Modifying the ILAN NET interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "P[191]", "header": "Modifying the ILAN NET interface "}]}, {"header": "Modifying the default UAA interface ", "content": [{"text": "", "table_path": "", "page_number": 73, "type": "P[192]", "header": "Modifying the default UAA interface "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 73, "type": "P[193]", "header": "Modifying the default UAA interface "}, {"text": "\u2022 ", "table_path": "", "page_number": 73, "type": "L[104]/LI/Lbl", "header": "Modifying the default UAA interface "}, {"text": "Completed the ", "table_path": "", "page_number": 73, "type": "L[104]/LI/LBody", "header": "Modifying the default UAA interface "}, {"text": "Updating hosts file", "table_path": "", "page_number": 73, "type": "L[104]/LI/LBody/Reference", "header": "Modifying the default UAA interface "}, {"text": " procedure. ", "table_path": "", "page_number": 73, "type": "L[104]/LI/LBody", "header": "Modifying the default UAA interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "L[104]/LI/LBody", "header": "Modifying the default UAA interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "L[104]/LI", "header": "Modifying the default UAA interface "}, {"text": "", "table_path": "", "page_number": 73, "type": "L[104]", "header": "Modifying the default UAA interface "}, {"text": "", "table_path": "figures/fileoutpart100.png", "page_number": 73, "type": "Figure[40]", "header": "Modifying the default UAA interface "}, {"text": "\uf05a ", "table_path": "", "page_number": 73, "type": "Figure[40]", "header": "Modifying the default UAA interface "}, {"text": "To display a list of interfaces, use the \"ip a\" command. ", "table_path": "", "page_number": 73, "type": "P[194]", "header": "Modifying the default UAA interface "}, {"text": "To modify the default UAA interface: ", "table_path": "", "page_number": 73, "type": "P[195]", "header": "Modifying the default UAA interface "}, {"text": "", "table_path": "", "page_number": 74, "type": "L[105]", "header": "Modifying the default UAA interface "}, {"text": "# specify the Blue Planet Interface ", "table_path": "", "page_number": 74, "type": "Aside[70]/P", "header": "Modifying the default UAA interface "}, {"text": "# if not defined, the ansible default interface ", "table_path": "", "page_number": 74, "type": "Aside[70]/P[2]", "header": "Modifying the default UAA interface "}, {"text": "# will be used, which is typically your first interface ", "table_path": "", "page_number": 74, "type": "Aside[70]/P[3]", "header": "Modifying the default UAA interface "}, {"text": "#bp_interface: eth0 ", "table_path": "", "page_number": 74, "type": "Aside[70]/P[4]", "header": "Modifying the default UAA interface "}, {"text": "", "table_path": "", "page_number": 74, "type": "P[196]", "header": "Modifying the default UAA interface "}, {"text": "# specify the Blue Planet Interface ", "table_path": "", "page_number": 74, "type": "Aside[71]/P", "header": "Modifying the default UAA interface "}, {"text": "# if not defined, the ansible default interface ", "table_path": "", "page_number": 74, "type": "Aside[71]/P[2]", "header": "Modifying the default UAA interface "}, {"text": "# will be used, which is typically your first interface ", "table_path": "", "page_number": 74, "type": "Aside[71]/P[3]", "header": "Modifying the default UAA interface "}, {"text": "bp_interface: eth3 ", "table_path": "", "page_number": 74, "type": "Aside[71]/P[4]", "header": "Modifying the default UAA interface "}, {"text": "4. ", "table_path": "", "page_number": 74, "type": "L[106]/LI/Lbl", "header": "Modifying the default UAA interface "}, {"text": "Save the file . ", "table_path": "", "page_number": 74, "type": "L[106]/LI/LBody", "header": "Modifying the default UAA interface "}, {"text": "", "table_path": "", "page_number": 74, "type": "L[106]/LI", "header": "Modifying the default UAA interface "}, {"text": "", "table_path": "", "page_number": 74, "type": "L[106]", "header": "Modifying the default UAA interface "}]}, {"header": "Specifying the external license server ", "content": [{"text": "Use this procedure to set up the external license server IP address in cluster and standby_cluster files. ", "table_path": "", "page_number": 74, "type": "P[197]", "header": "Specifying the external license server "}]}, {"header": "Requirements ", "content": [{"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 74, "type": "P[198]", "header": "Requirements "}, {"text": "\u2022 ", "table_path": "", "page_number": 74, "type": "L[107]/LI/Lbl", "header": "Requirements "}, {"text": "Completed the ", "table_path": "", "page_number": 74, "type": "L[107]/LI/LBody", "header": "Requirements "}, {"text": "Updating hosts file", "table_path": "", "page_number": 74, "type": "L[107]/LI/LBody/Reference", "header": "Requirements "}, {"text": " procedure. ", "table_path": "", "page_number": 74, "type": "L[107]/LI/LBody", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 74, "type": "L[107]/LI/LBody", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 74, "type": "L[107]/LI", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 74, "type": "L[107]", "header": "Requirements "}, {"text": "Steps: ", "table_path": "", "page_number": 74, "type": "P[199]", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 74, "type": "L[108]", "header": "Requirements "}, {"text": "# License Server details for unbundling encrypted offline archives and runtime requirements ", "table_path": "", "page_number": 75, "type": "Aside[72]/L/LI/LBody", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 75, "type": "Aside[72]/L/LI", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 75, "type": "Aside[72]/L", "header": "Requirements "}, {"text": "#license_server: a.b.c.d ", "table_path": "", "page_number": 75, "type": "Aside[72]/P", "header": "Requirements "}, {"text": "#license_server_backup: a.b.c.d ", "table_path": "", "page_number": 75, "type": "Aside[72]/P[2]", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 75, "type": "P[200]", "header": "Requirements "}, {"text": "# License Server details for unbundling encrypted offline archives and runtime requirements ", "table_path": "", "page_number": 75, "type": "Aside[73]/L/LI/LBody", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 75, "type": "Aside[73]/L/LI", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 75, "type": "Aside[73]/L", "header": "Requirements "}, {"text": "license_server: 10.10.10.10 ", "table_path": "", "page_number": 75, "type": "Aside[73]/P", "header": "Requirements "}, {"text": "license_server_backup: 12.12.12.12 ", "table_path": "", "page_number": 75, "type": "Aside[73]/P[2]", "header": "Requirements "}]}, {"header": "Setting up users ", "content": [{"text": "Use the procedure in this section to: ", "table_path": "", "page_number": 75, "type": "P[201]", "header": "Setting up users "}, {"text": "", "table_path": "", "page_number": 75, "type": "L[109]", "header": "Setting up users "}, {"text": "This is a mandatory procedure. The setup script skips this step if you have previously manually created the bpuser user. ", "table_path": "", "page_number": 75, "type": "P[202]", "header": "Setting up users "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 75, "type": "P[203]", "header": "Setting up users "}, {"text": "", "table_path": "", "page_number": 75, "type": "L[110]", "header": "Setting up users "}, {"text": "To set up users: ", "table_path": "", "page_number": 75, "type": "P[204]", "header": "Setting up users "}, {"text": "", "table_path": "", "page_number": 75, "type": "L[111]", "header": "Setting up users "}, {"text": "./bpi -\u2022setup-users ", "table_path": "", "page_number": 75, "type": "Aside[74]/P", "header": "Setting up users "}, {"text": "", "table_path": "", "page_number": 76, "type": "L[112]", "header": "Setting up users "}, {"text": "The script sets the bpadmin and bpuser authentication keys as well as several sudo privileges for the bpuser user. See the files in /home/bpadmin/bpi/roles/setup-users/sudoers/templates to see the settings. ", "table_path": "", "page_number": 76, "type": "P[205]", "header": "Setting up users "}]}, {"header": "Validating the hosts ", "content": [{"text": "", "table_path": "", "page_number": 76, "type": "P[206]", "header": "Validating the hosts "}, {"text": "The validation phase checks the following areas and related requirements: ", "table_path": "", "page_number": 76, "type": "P[207]", "header": "Validating the hosts "}, {"text": "", "table_path": "", "page_number": 76, "type": "L[113]", "header": "Validating the hosts "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 76, "type": "P[208]", "header": "Validating the hosts "}, {"text": "", "table_path": "", "page_number": 76, "type": "L[114]", "header": "Validating the hosts "}, {"text": "To validate the hosts: ", "table_path": "", "page_number": 76, "type": "P[209]", "header": "Validating the hosts "}, {"text": "", "table_path": "", "page_number": 76, "type": "L[115]", "header": "Validating the hosts "}]}, {"header": "Configuring UAA hosts on active and standby sites ", "content": [{"text": "Complete this procedure to configure the UAA host(s) on active and standby sites for the UAA software installation from host 0 of active site. ", "table_path": "", "page_number": 77, "type": "P[210]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "Configuring the UAA hosts creates the following directories on active and standby sites. It also ensures they are owned by bpuser on both active and standby sites: ", "table_path": "", "page_number": 77, "type": "P[211]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "", "table_path": "", "page_number": 77, "type": "L[116]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "This procedure also performs minor configuration changes including updates to syslog, rsyslog, sshd, and NTP to prepares the hosts for UAA installation on active and standby sites. ", "table_path": "", "page_number": 77, "type": "P[212]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 77, "type": "P[213]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "", "table_path": "", "page_number": 77, "type": "L[117]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "To configure the UAA hosts: ", "table_path": "", "page_number": 78, "type": "P[214]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "", "table_path": "", "page_number": 78, "type": "L[118]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "", "table_path": "figures/fileoutpart106.png", "page_number": 78, "type": "Figure[41]", "header": "Configuring UAA hosts on active and standby sites "}, {"text": "/etc/bp2/uaa-core-db/private/users.json /etc/bp2/uaa-pm-db/private/users.json /etc/bp2/uaa-graph-db/private/users.json /etc/bp2/metricsdb/private/users.json /etc/bp2/postgres/private/users.json /etc/bp2/chetak/private/postgres.json /etc/bp2/asset-manager/private/users.json ", "table_path": "", "page_number": 78, "type": "Figure[41]", "header": "Configuring UAA hosts on active and standby sites "}]}, {"header": "Setup overrides configuration for postgres ", "content": [{"text": "Use this procedure to setup the override configuration for the postgres application. ", "table_path": "", "page_number": 78, "type": "P[215]", "header": "Setup overrides configuration for postgres "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 78, "type": "P[216]", "header": "Setup overrides configuration for postgres "}, {"text": "\u2022 ", "table_path": "", "page_number": 78, "type": "L[119]/LI/Lbl", "header": "Setup overrides configuration for postgres "}, {"text": "Completed the ", "table_path": "", "page_number": 78, "type": "L[119]/LI/LBody/Span", "header": "Setup overrides configuration for postgres "}, {"text": "Specifying the external license server", "table_path": "", "page_number": 78, "type": "L[119]/LI/LBody/Reference", "header": "Setup overrides configuration for postgres "}, {"text": " procedure. ", "table_path": "", "page_number": 78, "type": "L[119]/LI/LBody/Span[2]", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 78, "type": "L[119]/LI/LBody", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 78, "type": "L[119]/LI", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 78, "type": "L[119]", "header": "Setup overrides configuration for postgres "}, {"text": "To setup overrides configuration: ", "table_path": "", "page_number": 78, "type": "P[217]", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 79, "type": "L[120]", "header": "Setup overrides configuration for postgres "}, {"text": "cat /etc/bp2/postgres/overrides.json | python -m json.tool cat /etc/bp2/<solution name>/overrides.json | python -m json.tool ", "table_path": "", "page_number": 79, "type": "Aside[75]/P", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "figures/fileoutpart109.png", "page_number": 79, "type": "Figure[42]", "header": "Setup overrides configuration for postgres "}, {"text": "\uf05a ", "table_path": "", "page_number": 79, "type": "Figure[42]", "header": "Setup overrides configuration for postgres "}, {"text": "These commands should not return error, it will print back the JSON content. ", "table_path": "", "page_number": 79, "type": "P[218]", "header": "Setup overrides configuration for postgres "}, {"text": "7. ", "table_path": "", "page_number": 79, "type": "L[121]/LI/Lbl", "header": "Setup overrides configuration for postgres "}, {"text": "Run the below command to sync it to all hosts: ", "table_path": "", "page_number": 79, "type": "L[121]/LI/LBody", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 79, "type": "L[121]/LI", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 79, "type": "L[121]", "header": "Setup overrides configuration for postgres "}, {"text": "sudo bp2-site sync-site-config ", "table_path": "", "page_number": 79, "type": "Aside[76]/P", "header": "Setup overrides configuration for postgres "}, {"text": "If you are working offline and adding the standby Site from scratch, you need to two perform the additional below steps: ", "table_path": "", "page_number": 79, "type": "P[219]", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 79, "type": "L[122]", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 79, "type": "P[220]", "header": "Setup overrides configuration for postgres "}, {"text": "", "table_path": "", "page_number": 80, "type": "P[221]", "header": "Setup overrides configuration for postgres "}]}, {"header": "Downloading the UAA software installation files ", "content": [{"text": "", "table_path": "", "page_number": 80, "type": "P[222]", "header": "Downloading the UAA software installation files "}]}, {"header": "Requirements ", "content": [{"text": "Before you start the upgrade, ensure you meet following requirements: ", "table_path": "", "page_number": 80, "type": "P[223]", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 80, "type": "L[123]", "header": "Requirements "}]}, {"header": "Steps ", "content": [{"text": "", "table_path": "", "page_number": 80, "type": "L[124]", "header": "Steps "}, {"text": "md5sum <file name> ", "table_path": "", "page_number": 81, "type": "Aside[77]/P", "header": "Steps "}, {"text": "If the checksum does not match the value recorded in step 7, download the file again and verify the checksum. ", "table_path": "", "page_number": 81, "type": "P[224]", "header": "Steps "}, {"text": "", "table_path": "figures/fileoutpart113.png", "page_number": 81, "type": "Figure[43]", "header": "Steps "}, {"text": "\uf05a ", "table_path": "", "page_number": 81, "type": "Figure[43]", "header": "Steps "}, {"text": "If the checksum value is not correct, then do not proceed further and contact Ciena support. ", "table_path": "", "page_number": 81, "type": "P[225]", "header": "Steps "}, {"text": "10. ", "table_path": "", "page_number": 81, "type": "L[125]/LI/Lbl", "header": "Steps "}, {"text": "Retain the files in their current location. You need to transfer them to the UAA host in the next procedure: ", "table_path": "", "page_number": 81, "type": "L[125]/LI/LBody", "header": "Steps "}, {"text": "Transferring software installation files", "table_path": "", "page_number": 81, "type": "L[125]/LI/LBody/Reference", "header": "Steps "}, {"text": ". ", "table_path": "", "page_number": 81, "type": "L[125]/LI/LBody", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 81, "type": "L[125]/LI/LBody", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 81, "type": "L[125]/LI", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 81, "type": "L[125]", "header": "Steps "}]}, {"header": "Transferring software installation files ", "content": [{"text": "", "table_path": "figures/fileoutpart114.png", "page_number": 81, "type": "Figure[44]", "header": "Transferring software installation files "}, {"text": "\uf05a ", "table_path": "", "page_number": 81, "type": "Figure[44]", "header": "Transferring software installation files "}, {"text": "This step is only required if you adding standby site from scratch. ", "table_path": "", "page_number": 81, "type": "P[226]", "header": "Transferring software installation files "}, {"text": "", "table_path": "", "page_number": 81, "type": "P[227]", "header": "Transferring software installation files "}, {"text": "Previously downloaded UAA {release} platform and solutions files include: ", "table_path": "", "page_number": 81, "type": "P[228]", "header": "Transferring software installation files "}, {"text": "", "table_path": "", "page_number": 81, "type": "L[126]", "header": "Transferring software installation files "}]}, {"header": "Requirements ", "content": [{"text": "Before you start the upgrade, ensure you meet following requirements: ", "table_path": "", "page_number": 81, "type": "P[229]", "header": "Requirements "}, {"text": "", "table_path": "", "page_number": 82, "type": "L[127]", "header": "Requirements "}]}, {"header": "Steps ", "content": [{"text": "", "table_path": "", "page_number": 82, "type": "L[128]", "header": "Steps "}, {"text": "sudo mkdir -p /opt/ciena/loads/{release} ", "table_path": "", "page_number": 82, "type": "Aside[78]/P", "header": "Steps "}, {"text": "3. ", "table_path": "", "page_number": 82, "type": "L[129]/LI/Lbl", "header": "Steps "}, {"text": "Change the /opt/ciena/loads/{release} directory from owner to bpadmin: ", "table_path": "", "page_number": 82, "type": "L[129]/LI/LBody", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 82, "type": "L[129]/LI", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 82, "type": "L[129]", "header": "Steps "}, {"text": "sudo chown bpadmin:bpadmin /opt/ciena/loads/{release} ", "table_path": "", "page_number": 82, "type": "Aside[79]/P", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 82, "type": "L[130]", "header": "Steps "}, {"text": "tar -xf bp_<usecase>-{release_no_dots}_{release}.xx-xxx.tar ", "table_path": "", "page_number": 82, "type": "Aside[80]/P", "header": "Steps "}, {"text": "The extraction includes different lineup files, a properties.yml file, and a Blue Planet uaa tar file. ", "table_path": "", "page_number": 82, "type": "P[230]", "header": "Steps "}, {"text": "7. ", "table_path": "", "page_number": 82, "type": "L[131]/LI/Lbl", "header": "Steps "}, {"text": "Remove {uaa_file} ", "table_path": "", "page_number": 82, "type": "L[131]/LI/LBody", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 82, "type": "L[131]/LI", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 82, "type": "L[131]", "header": "Steps "}, {"text": "rm bp_<usecase>-{release_no_dots}_{release}.xx-xxx.tar ", "table_path": "", "page_number": 83, "type": "Aside[81]/P", "header": "Steps "}, {"text": "", "table_path": "", "page_number": 83, "type": "P[231]", "header": "Steps "}]}, {"header": "Installing Core Platform and Extended Platform Solution on active and standby sites ", "content": [{"text": "Complete this procedure to install core platform and platform solution on active and standby sites from host 0 of the active site. ", "table_path": "", "page_number": 83, "type": "P[232]", "header": "Installing Core Platform and Extended Platform Solution on active and standby sites "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 83, "type": "P[233]", "header": "Installing Core Platform and Extended Platform Solution on active and standby sites "}, {"text": "", "table_path": "", "page_number": 83, "type": "L[132]", "header": "Installing Core Platform and Extended Platform Solution on active and standby sites "}, {"text": "To install UAA platform and solutions: ", "table_path": "", "page_number": 83, "type": "P[234]", "header": "Installing Core Platform and Extended Platform Solution on active and standby sites "}, {"text": "", "table_path": "", "page_number": 83, "type": "L[133]", "header": "Installing Core Platform and Extended Platform Solution on active and standby sites "}, {"text": "", "table_path": "figures/fileoutpart120.png", "page_number": 83, "type": "Figure[45]", "header": "Installing Core Platform and Extended Platform Solution on active and standby sites "}, {"text": "./bpi --install <lineup file> --playbook-args='--limit standby_cluster --skip -tags bp2-solution' ", "table_path": "", "page_number": 83, "type": "Figure[45]", "header": "Installing Core Platform and Extended Platform Solution on active and standby sites "}, {"text": "", "table_path": "", "page_number": 83, "type": "P[235]", "header": "Installing Core Platform and Extended Platform Solution on active and standby sites "}]}, {"header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) ", "content": [{"text": "Complete this procedure to install UAA solution on active and standby sites. This procedure also automatically sets up geographical redundant configuration between active and standby. ", "table_path": "", "page_number": 83, "type": "P[236]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "This procedure performs: ", "table_path": "", "page_number": 83, "type": "P[237]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "", "table_path": "", "page_number": 84, "type": "L[134]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "Before you begin this procedure, verify that you: ", "table_path": "", "page_number": 84, "type": "P[238]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "", "table_path": "", "page_number": 84, "type": "L[135]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "To install UAA and configure georedundancy: ", "table_path": "", "page_number": 84, "type": "P[239]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "", "table_path": "", "page_number": 84, "type": "L[136]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "./setup-bpi-standby.sh ", "table_path": "", "page_number": 85, "type": "Aside[82]/P", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "", "table_path": "", "page_number": 85, "type": "L[137]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}, {"text": "", "table_path": "tables/fileoutpart128.xlsx", "page_number": 86, "type": "Table[13]", "header": "Installing UAA and configuring georedundancy on active and standby sites (automatic procedure) "}]}, {"header": "", "content": []}, {"header": "where ", "content": [{"text": "", "table_path": "", "page_number": 86, "type": "Table[13]/TR[2]/TD", "header": "where "}, {"text": "<SiteA_IP> ", "table_path": "", "page_number": 86, "type": "Table[13]/TR[2]/TD/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 86, "type": "Table[13]/TR[2]/TD[2]", "header": "where "}, {"text": "is the site IP address of the active site. ", "table_path": "", "page_number": 86, "type": "Table[13]/TR[2]/TD[2]/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 86, "type": "Table[13]/TR[3]/TD", "header": "where "}, {"text": "<user> ", "table_path": "", "page_number": 86, "type": "Table[13]/TR[3]/TD/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 86, "type": "Table[13]/TR[3]/TD[2]", "header": "where "}, {"text": "Put the username that is used to login active site host to perform GR installation command. ", "table_path": "", "page_number": 86, "type": "Table[13]/TR[3]/TD[2]/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 87, "type": "Table[13]/TR[4]/TD", "header": "where "}, {"text": "<password> ", "table_path": "", "page_number": 87, "type": "Table[13]/TR[4]/TD/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 87, "type": "Table[13]/TR[4]/TD[2]", "header": "where "}, {"text": "Put the password of the username that is used to login active site host to perform GR installation command. ", "table_path": "", "page_number": 87, "type": "Table[13]/TR[4]/TD[2]/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 87, "type": "P[240]", "header": "where "}, {"text": "", "table_path": "figures/fileoutpart131.png", "page_number": 87, "type": "Figure[46]", "header": "where "}, {"text": "13. Enter the data for the standby site: ", "table_path": "", "page_number": 87, "type": "P[241]", "header": "where "}, {"text": "", "table_path": "tables/fileoutpart132.xlsx", "page_number": 87, "type": "Table[14]", "header": "where "}]}, {"header": "", "content": []}, {"header": "where ", "content": [{"text": "", "table_path": "", "page_number": 87, "type": "Table[14]/TR[2]/TD", "header": "where "}, {"text": "<SiteA_IP> ", "table_path": "", "page_number": 87, "type": "Table[14]/TR[2]/TD/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 87, "type": "Table[14]/TR[2]/TD[2]", "header": "where "}, {"text": "is the site IP address of the standby site. ", "table_path": "", "page_number": 87, "type": "Table[14]/TR[2]/TD[2]/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 87, "type": "Table[14]/TR[3]/TD", "header": "where "}, {"text": "<user> ", "table_path": "", "page_number": 87, "type": "Table[14]/TR[3]/TD/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 87, "type": "Table[14]/TR[3]/TD[2]", "header": "where "}, {"text": "Put the username that is used to login standby site host to perform GR installation command. ", "table_path": "", "page_number": 87, "type": "Table[14]/TR[3]/TD[2]/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 88, "type": "Table[14]/TR[4]/TD", "header": "where "}, {"text": "<password> ", "table_path": "", "page_number": 88, "type": "Table[14]/TR[4]/TD/P", "header": "where "}, {"text": "", "table_path": "", "page_number": 88, "type": "Table[14]/TR[4]/TD[2]", "header": "where "}, {"text": "Put the password of the username that is used to login standby site host to perform GR installation command. ", "table_path": "", "page_number": 88, "type": "Table[14]/TR[4]/TD[2]/P", "header": "where "}, {"text": "14. ", "table_path": "", "page_number": 88, "type": "L[138]/LI/Lbl", "header": "where "}, {"text": "Click ", "table_path": "", "page_number": 88, "type": "L[138]/LI/LBody/Span", "header": "where "}, {"text": "Execute", "table_path": "", "page_number": 88, "type": "L[138]/LI/LBody", "header": "where "}, {"text": ". ", "table_path": "", "page_number": 88, "type": "L[138]/LI/LBody/Span[2]", "header": "where "}, {"text": "", "table_path": "", "page_number": 88, "type": "L[138]/LI/LBody", "header": "where "}, {"text": "", "table_path": "", "page_number": 88, "type": "L[138]/LI", "header": "where "}, {"text": "", "table_path": "", "page_number": 88, "type": "L[138]", "header": "where "}, {"text": "", "table_path": "figures/fileoutpart135.png", "page_number": 88, "type": "Figure[47]", "header": "where "}]}, {"header": "Revert Override configuration in postgres ", "content": [{"text": "To revert override configuration in postgres: ", "table_path": "", "page_number": 88, "type": "P[242]", "header": "Revert Override configuration in postgres "}, {"text": "", "table_path": "", "page_number": 88, "type": "L[139]", "header": "Revert Override configuration in postgres "}, {"text": "cat /etc/bp2/postgres/overrides.json | python -m json.tool ", "table_path": "", "page_number": 89, "type": "Aside[83]/P", "header": "Revert Override configuration in postgres "}, {"text": "", "table_path": "", "page_number": 89, "type": "P[243]", "header": "Revert Override configuration in postgres "}, {"text": "5. ", "table_path": "", "page_number": 89, "type": "L[140]/LI/Lbl", "header": "Revert Override configuration in postgres "}, {"text": "Run the below command to sync it to all hosts: ", "table_path": "", "page_number": 89, "type": "L[140]/LI/LBody", "header": "Revert Override configuration in postgres "}, {"text": "", "table_path": "", "page_number": 89, "type": "L[140]/LI", "header": "Revert Override configuration in postgres "}, {"text": "", "table_path": "", "page_number": 89, "type": "L[140]", "header": "Revert Override configuration in postgres "}, {"text": "", "table_path": "figures/fileoutpart136.png", "page_number": 89, "type": "Figure[48]", "header": "Revert Override configuration in postgres "}, {"text": "sudo bp2-site sync-site-config \uf05a After the above steps are performed, user needs to run the steps for the ", "table_path": "", "page_number": 89, "type": "Figure[48]", "header": "Revert Override configuration in postgres "}, {"text": "Backup and ", "table_path": "", "page_number": 89, "type": "Figure[48]/Reference", "header": "Revert Override configuration in postgres "}, {"text": "Restore of UAA PM DB - BP2", "table_path": "", "page_number": 89, "type": "Figure[48]/Reference[2]", "header": "Revert Override configuration in postgres "}, {"text": ". ", "table_path": "", "page_number": 89, "type": "Figure[48]", "header": "Revert Override configuration in postgres "}]}, {"header": "Restoring a former Active site as a new Standby site ", "content": [{"text": "There are two methods of restoration Automatic and Manual. ", "table_path": "", "page_number": 89, "type": "P[244]", "header": "Restoring a former Active site as a new Standby site "}, {"text": "This section covers: ", "table_path": "", "page_number": 89, "type": "P[245]", "header": "Restoring a former Active site as a new Standby site "}, {"text": "", "table_path": "", "page_number": 89, "type": "L[141]", "header": "Restoring a former Active site as a new Standby site "}]}, {"header": "Automatic restoration ", "content": [{"text": "Use this procedure to restore a former Active site (Site A) as a Standby site (Site B) using Blue Planet Installer. ", "table_path": "", "page_number": 89, "type": "P[246]", "header": "Automatic restoration "}, {"text": "There are two methods of automatic restoration: ", "table_path": "", "page_number": 89, "type": "P[247]", "header": "Automatic restoration "}, {"text": "", "table_path": "", "page_number": 89, "type": "L[142]", "header": "Automatic restoration "}]}, {"header": "Method 1: Using Terminal ", "content": [{"text": "1. ", "table_path": "", "page_number": 89, "type": "L[143]/LI/Lbl", "header": "Method 1: Using Terminal "}, {"text": "Log in to host 0 of Site A (former Active site) as ", "table_path": "", "page_number": 89, "type": "L[143]/LI/LBody", "header": "Method 1: Using Terminal "}, {"text": "bpadmin", "table_path": "", "page_number": 89, "type": "L[143]/LI/LBody/Span", "header": "Method 1: Using Terminal "}, {"text": ". ", "table_path": "", "page_number": 89, "type": "L[143]/LI/LBody", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 89, "type": "L[143]/LI/LBody", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 89, "type": "L[143]/LI", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 89, "type": "L[143]", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 90, "type": "P[248]", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "figures/fileoutpart137.png", "page_number": 90, "type": "Figure[49]", "header": "Method 1: Using Terminal "}, {"text": "\uf05a ", "table_path": "", "page_number": 90, "type": "Figure[49]", "header": "Method 1: Using Terminal "}, {"text": "Do not use the site IP, use the IP address of host 0. ", "table_path": "", "page_number": 90, "type": "P[249]", "header": "Method 1: Using Terminal "}, {"text": "3. ", "table_path": "", "page_number": 90, "type": "L[144]/LI/Lbl", "header": "Method 1: Using Terminal "}, {"text": "Clean the geo tunnels on Site A: ", "table_path": "", "page_number": 90, "type": "L[144]/LI/LBody", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 90, "type": "L[144]/LI", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 90, "type": "L[144]", "header": "Method 1: Using Terminal "}, {"text": "./bpi --utility playbooks/geo-clean.yml ", "table_path": "", "page_number": 90, "type": "Aside[84]/P", "header": "Method 1: Using Terminal "}, {"text": "Ensure that the failover has completed and that Site B is the current Active site. ", "table_path": "", "page_number": 90, "type": "P[250]", "header": "Method 1: Using Terminal "}, {"text": "To restore the former Active site (Site A) as the Standby site: ", "table_path": "", "page_number": 90, "type": "P[251]", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 90, "type": "L[145]", "header": "Method 1: Using Terminal "}, {"text": "# StandBy Cluster Details # # Lists the set of nodes that make up the cluster # The value of ansible_host should be an IP address # # The controller label dictates what components (core platform/platform solutions) are to be deployed on a node # To set a host as a Controller node, either do not set the label (default), or set label \"controller=True\" # To set a host as a Non-Controller node, set label \"controller=False\" # # To deploy one or more solutions on an isolated host (host segregation), set the host as a Non-Controller node, # set label \"controller=False\", add a solution label and provide a comma separated list of solution names. # e.g. \"host3 ansible_host=a.b.c.d controller=False solution=<solution name 1>,<solution name 2> # # [standby_cluster] #standby_host0 ansible_host=a.b.c.d controller=True #standby_host1 ansible_host=a.b.c.d controller=True #standby_host2 ansible_host=a.b.c.d controller=True #standby_host3 ansible_host=a.b.c.d controller=False #standby_host4 ansible_host=a.b.c.d controller=False # [standby_cluster:vars] # If uncommented, the Site IP address will be set via the set-site-ip command # Format is IP Address/CIDR mask - e.g. 1.1.1.1/22 #site_ip=a.b.c.d/XX # # If uncommented, the Site Name will be set via the set-site-name command # Valid characters for site_name are letters, numbers and dashes. #site_name=mysite # # Required for ubuntu 16.04, when python 2.x is not installed #ansible_python_interpreter=/usr/bin/python3 ", "table_path": "", "page_number": 91, "type": "Aside[85]/P", "header": "Method 1: Using Terminal "}, {"text": "# ", "table_path": "", "page_number": 91, "type": "Aside[85]/P[2]", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 91, "type": "L[146]", "header": "Method 1: Using Terminal "}, {"text": "./bpi --utility playbooks/former-active-standby.yml --playbook-args='-e geo_user=admin -e geo_password=adminpw' ", "table_path": "", "page_number": 91, "type": "Aside[86]/P", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "", "page_number": 91, "type": "L[147]", "header": "Method 1: Using Terminal "}, {"text": "", "table_path": "figures/fileoutpart150.png", "page_number": 95, "type": "Figure[50]", "header": "Method 1: Using Terminal "}]}, {"header": "Method 2: Using Reclaim option ", "content": [{"text": "The other method of automatic restoration is, using Reclaim option on Blue Planet Installer. ", "table_path": "", "page_number": 95, "type": "P[252]", "header": "Method 2: Using Reclaim option "}, {"text": "", "table_path": "figures/fileoutpart151.png", "page_number": 95, "type": "Figure[51]", "header": "Method 2: Using Reclaim option "}, {"text": "\uf05a ", "table_path": "", "page_number": 95, "type": "Figure[51]", "header": "Method 2: Using Reclaim option "}, {"text": "", "table_path": "", "page_number": 95, "type": "P[253]", "header": "Method 2: Using Reclaim option "}, {"text": "", "table_path": "", "page_number": 95, "type": "L[148]", "header": "Method 2: Using Reclaim option "}, {"text": "The former active site activates. ", "table_path": "", "page_number": 96, "type": "P[254]", "header": "Method 2: Using Reclaim option "}, {"text": "", "table_path": "figures/fileoutpart152.png", "page_number": 96, "type": "Figure[52]", "header": "Method 2: Using Reclaim option "}]}, {"header": "Manual restoration ", "content": [{"text": "Use this procedure to restore the former Active site (Site A) as the Standby site (Site B) without using the Blue Planet Installer. ", "table_path": "", "page_number": 96, "type": "P[255]", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 96, "type": "L[149]", "header": "Manual restoration "}, {"text": "./bpi --utility playbooks/geo-clean.yml ", "table_path": "", "page_number": 96, "type": "Aside[87]/P", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 96, "type": "P[256]", "header": "Manual restoration "}, {"text": "To restore the former Active site (Site A) as the Standby site (Site B): ", "table_path": "", "page_number": 96, "type": "P[257]", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 96, "type": "L[150]", "header": "Manual restoration "}, {"text": "bpssh sudo sed -i s/STANDBY/ACTIVE/ /etc/bp2/geored/config.json ", "table_path": "", "page_number": 96, "type": "Aside[88]/P", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 96, "type": "L[151]", "header": "Manual restoration "}, {"text": "bpssh sudo sed -i s/ACTIVE/STANDBY/ /etc/bp2/geored/config.json ", "table_path": "", "page_number": 97, "type": "Aside[89]/P", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 97, "type": "L[152]", "header": "Manual restoration "}, {"text": "./bpi --undeploy ", "table_path": "", "page_number": 97, "type": "Aside[90]/P", "header": "Manual restoration "}, {"text": "11. ", "table_path": "", "page_number": 97, "type": "L[153]/LI/Lbl", "header": "Manual restoration "}, {"text": "After all solutions are undeployed, install and deploy the UAA solution on Site A: ", "table_path": "", "page_number": 97, "type": "L[153]/LI/LBody", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 97, "type": "L[153]/LI", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 97, "type": "L[153]", "header": "Manual restoration "}, {"text": "./bpi --install <lineup file> ", "table_path": "", "page_number": 97, "type": "Aside[91]/P", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 97, "type": "L[154]", "header": "Manual restoration "}, {"text": "Geographical redundancy is now set up. ", "table_path": "", "page_number": 98, "type": "P[258]", "header": "Manual restoration "}, {"text": "", "table_path": "figures/fileoutpart161.png", "page_number": 98, "type": "Figure[53]", "header": "Manual restoration "}, {"text": "\uf05a ", "table_path": "", "page_number": 98, "type": "Figure[53]", "header": "Manual restoration "}, {"text": "", "table_path": "", "page_number": 98, "type": "P[259]", "header": "Manual restoration "}]}, {"header": "Backup and Restore of UAA PM DB - BP2 ", "content": [{"text": "Following are the steps for the Backup and Restore of UAA PM DB: ", "table_path": "", "page_number": 99, "type": "P[260]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "", "table_path": "", "page_number": 99, "type": "L[155]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "sudo solman ", "table_path": "", "page_number": 99, "type": "Aside[92]/P", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "3. ", "table_path": "", "page_number": 99, "type": "L[156]/LI/Lbl", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "Execute the below command to take backup of UAA PM DB: ", "table_path": "", "page_number": 99, "type": "L[156]/LI/LBody", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "", "table_path": "", "page_number": 99, "type": "L[156]/LI", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "", "table_path": "", "page_number": 99, "type": "L[156]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "site_backup --apps=uaa-pm-db --label=<label_name> ", "table_path": "", "page_number": 99, "type": "Aside[93]/P", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "", "table_path": "figures/fileoutpart163.png", "page_number": 99, "type": "Figure[54]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "\uf05a ", "table_path": "", "page_number": 99, "type": "Figure[54]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "label_name is the name that is used to while creating snapshot file of backup ", "table_path": "", "page_number": 99, "type": "P[261]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "For example: ", "table_path": "", "page_number": 99, "type": "P[262]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "site_backup --apps=uaa-pm-db --label=pmdbbackup ", "table_path": "", "page_number": 99, "type": "Aside[94]/P", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "", "table_path": "", "page_number": 99, "type": "L[157]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "curl -o <snapshot_file_name_noted>.snap http://127.0.0.1/solutionmanager/api/v1/snapshots/<snapshot_file_name_noted>/dow nload ", "table_path": "", "page_number": 99, "type": "Aside[95]/P", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "", "table_path": "figures/fileoutpart164.png", "page_number": 99, "type": "Figure[55]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "\uf05a ", "table_path": "", "page_number": 99, "type": "Figure[55]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "", "table_path": "", "page_number": 99, "type": "P[263]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "", "table_path": "", "page_number": 99, "type": "L[158]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "curl -i -X POST -H \"Content-Type: multipart/form-data\" -F \"data=@<snapshot_file_name_noted>.snap\" http://localhost/solutionmanager/api/v1/snapshots/upload?snapshot=<snapshot_file _name_noted> ", "table_path": "", "page_number": 100, "type": "Aside[96]/P", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "10. Enter Solman using the below command on host 0 of the current standby server: ", "table_path": "", "page_number": 100, "type": "P[264]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "sudo solman ", "table_path": "", "page_number": 100, "type": "Aside[97]/P", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "11. Restore the UAA PM DB app by executing the below command: ", "table_path": "", "page_number": 100, "type": "P[265]", "header": "Backup and Restore of UAA PM DB - BP2 "}, {"text": "site_restore --apps=uaa-pm-db <snapshot_file_name_noted> ", "table_path": "", "page_number": 100, "type": "Aside[98]/P", "header": "Backup and Restore of UAA PM DB - BP2 "}]}, {"header": "Geo-redundancy behaviors and troubleshooting ", "content": [{"text": "Recovering your Blue Planet software platform after a failure requires an understanding of how disaster recovery is supported. Use these topics to help you prepare and troubleshoot a system failure. ", "table_path": "", "page_number": 101, "type": "P[266]", "header": "Geo-redundancy behaviors and troubleshooting "}, {"text": "This section includes: ", "table_path": "", "page_number": 101, "type": "P[267]", "header": "Geo-redundancy behaviors and troubleshooting "}, {"text": "", "table_path": "", "page_number": 101, "type": "L[159]", "header": "Geo-redundancy behaviors and troubleshooting "}]}, {"header": "Geo-redundancy behaviors ", "content": [{"text": "The following geo-redundancy behaviors are supported: ", "table_path": "", "page_number": 101, "type": "P[268]", "header": "Geo-redundancy behaviors "}, {"text": "", "table_path": "", "page_number": 101, "type": "L[160]", "header": "Geo-redundancy behaviors "}]}, {"header": "Geo-redundancy event details ", "content": [{"text": "Several fault situations are communicated using events and alarms. The following list contains some of the behaviors supported by Blue Planet geo-redundancy disaster recovery. ", "table_path": "", "page_number": 101, "type": "P[269]", "header": "Geo-redundancy event details "}, {"text": "", "table_path": "", "page_number": 102, "type": "L[161]", "header": "Geo-redundancy event details "}, {"text": "Blue Planet supports all interfaces between microservices, resource adapters, and any other component in a solution. Details on individual support, be it from the user interface or REST API, are documented in the user documentation or Swagger API. ", "table_path": "", "page_number": 102, "type": "P[270]", "header": "Geo-redundancy event details "}, {"text": "To view geo-redundancy event information, use the alarm viewer. For more information, see Viewing and managing alarms in the Blue Planet UAA User Guide. ", "table_path": "", "page_number": 102, "type": "P[271]", "header": "Geo-redundancy event details "}]}, {"header": "Verifying geored node status after bootstrap (optional) ", "content": [{"text": "This topic describes how to verify node status on Asset Manager, Postgres after you complete a system bootstrap. This ensures your site status for geored configuration is successful. ", "table_path": "", "page_number": 102, "type": "P[272]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "1. ", "table_path": "", "page_number": 102, "type": "L[162]/LI/Lbl", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "To verify node status on Asset Manager: ", "table_path": "", "page_number": 102, "type": "L[162]/LI/LBody/ParagraphSpan", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "a. ", "table_path": "", "page_number": 102, "type": "L[162]/LI/LBody/L/LI/Lbl", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "On the active site enter: ", "table_path": "", "page_number": 102, "type": "L[162]/LI/LBody/L/LI/LBody", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 102, "type": "L[162]/LI/LBody/L/LI", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 102, "type": "L[162]/LI/LBody/L", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 102, "type": "L[162]/LI/LBody", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 102, "type": "L[162]/LI", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 102, "type": "L[162]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "[root@onxl5293 ~]# solman \"api clusters asset-manager get\" ", "table_path": "", "page_number": 102, "type": "Aside[99]/P", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "Connecting smcli to solutionmanager_0 ", "table_path": "", "page_number": 102, "type": "Aside[99]/P[2]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "The example output displays a system that is in failover but currently has a problem. ", "table_path": "", "page_number": 102, "type": "P[273]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "figures/fileoutpart166.png", "page_number": 103, "type": "Figure[56]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "{'group': 'asset-manager', 'kind': '#cluster', 'leader': 0, 'name': 'asset-manager', 'peers': {'0': {'container': '7851c1da73cb',             'host': 'jhsu-ub1604-scale-2',             'init': True,             'ip': '172.16.1.27',             'phase': 'running',             'restore': False},         '1': {'container': '0ad16b53df7b',             'host': 'jhsu-ub1604-scale-3',             'init': True,             'ip': '172.16.2.27',             'phase': 'running',             'restore': False},         '2': {'container': 'fe2969363a9c',             'host': 'jhsu-ub1604-scale-1',             'init': True,             'ip': '172.16.0.28',             'phase': 'running',             'restore': False}}, 'rank': [0, 2, 1]} ", "table_path": "", "page_number": 103, "type": "Figure[56]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "Confirm all nodes have a running phase. ", "table_path": "", "page_number": 103, "type": "P[274]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "On the standby site enter: ", "table_path": "", "page_number": 103, "type": "P[275]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "figures/fileoutpart167.png", "page_number": 103, "type": "Figure[57]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "[root@onxl5293 ~]# solman \"api clusters asset-manager get\" Connecting smcli to solutionmanager_0 {'group': 'asset-manager', 'kind': '#cluster', 'leader': 0, 'name': 'asset-manager', 'peers': {'0': {'container': '5bb3152b1d39',             'host': 'alpaca2',             'init': False,             'ip': '172.17.1.27',             'phase': 'geored-standby-leader',             'restore': False},          '1': {'container': '7790f6b37291',             'host': 'alpaca3',             'init': False,             'ip': '172.17.2.27',             'phase': 'geored-standby',             'restore': False},          '2': {'container': '2e1442e970f7',             'host': 'alpaca1',             'init': False,             'ip': '172.17.0.28',             'phase': 'geored-standby',             'restore': False}}, 'rank': [0, 1, 2]} ", "table_path": "", "page_number": 103, "type": "Figure[57]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "Confirm only one node has the geored-standby-leader phase and all remaining nodes have geored-standby phases. ", "table_path": "", "page_number": 104, "type": "P[276]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "2. ", "table_path": "", "page_number": 104, "type": "L[163]/LI/Lbl", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "To verify node status on Postgres: ", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/ParagraphSpan", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "a. ", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI/Lbl", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "On the active site enter: ", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI/LBody/ParagraphSpan", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "figures/fileoutpart168.png", "page_number": 104, "type": "L[163]/LI/LBody/L/LI/LBody/Figure", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "(Cmd) api clusters postgres get {'group': 'postgres', 'kind': '#cluster', 'leader': 1, 'name': 'postgres', 'peers': {'0': {'patroni_ready': True},           '1': {'patroni_ready': True},           '2': {'patroni_ready': True}}, 'rank': [1, 0, 2]} ", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI/LBody/Figure", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "Confirm one node has a geored-active-replicating state and the remaining nodes have a running-geored-active state. ", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI/LBody/P", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI/LBody", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "b. ", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI[2]/Lbl", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "On the standby site enter: ", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI[2]/LBody", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L/LI[2]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody/L", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 104, "type": "L[163]/LI/LBody", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 104, "type": "L[163]/LI", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "", "page_number": 104, "type": "L[163]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "", "table_path": "figures/fileoutpart169.png", "page_number": 104, "type": "Figure[58]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "(Cmd) api clusters postgres get {'group': 'postgres', 'kind': '#cluster', 'leader': 1, 'name': 'postgres', 'peers': {'0': {'patroni_ready': True},           '1': {'patroni_ready': True},           '2': {'patroni_ready': True}}, 'rank': [1, 2, 0]} ", "table_path": "", "page_number": 104, "type": "Figure[58]", "header": "Verifying geored node status after bootstrap (optional) "}, {"text": "Confirm all nodes have running-geored-standby states. ", "table_path": "", "page_number": 104, "type": "P[277]", "header": "Verifying geored node status after bootstrap (optional) "}]}, {"header": "System health ", "content": [{"text": "This section includes the following topics: ", "table_path": "", "page_number": 105, "type": "P[278]", "header": "System health "}, {"text": "", "table_path": "", "page_number": 105, "type": "L[164]", "header": "System health "}, {"text": "", "table_path": "", "page_number": 105, "type": "P[279]", "header": "System health "}]}, {"header": "Logging ", "content": [{"text": "This topic describes the following centralized logging topics: ", "table_path": "", "page_number": 106, "type": "P[280]", "header": "Logging "}, {"text": "", "table_path": "", "page_number": 106, "type": "L[165]", "header": "Logging "}]}, {"header": "About logging ", "content": [{"text": "This topic describes how Blue Planet handles centralized logging. ", "table_path": "", "page_number": 107, "type": "P[281]", "header": "About logging "}, {"text": "Centralized logging aggregates all log messages from various hosts to a centralized location: /var/log/ciena. It consolidates all logs and provides an easy-to-use interface to access the log data. ", "table_path": "", "page_number": 107, "type": "P[282]", "header": "About logging "}, {"text": "Administrators that require customizing their log location can contact Customer Support for the Knowledgebase article that documents the procedure. It is not recommended since the new default logging location separates the syslog and the BP logs. ", "table_path": "", "page_number": 107, "type": "P[283]", "header": "About logging "}, {"text": "Syslog logs the following event types: ", "table_path": "", "page_number": 107, "type": "P[284]", "header": "About logging "}, {"text": "", "table_path": "", "page_number": 107, "type": "L[166]", "header": "About logging "}]}, {"header": "Service creation, change, or deletion syslog events ", "content": [{"text": "When resources are created, updated, or deleted, Blue Planet creates a resource history event. It includes the userId that made the change, the time of the change, the attributes changed, and the type of change (initially Set and then Updated). ", "table_path": "", "page_number": 107, "type": "P[285]", "header": "Service creation, change, or deletion syslog events "}, {"text": "The following is an example of a pair of \"Resource activation started\" and \"Resource activation successful\" messages: ", "table_path": "", "page_number": 107, "type": "P[286]", "header": "Service creation, change, or deletion syslog events "}, {"text": "", "table_path": "figures/fileoutpart170.png", "page_number": 108, "type": "Figure[59]", "header": "Service creation, change, or deletion syslog events "}, {"text": "{ \"app\": \"<solution name>\", \"app_instance\": \"0\", \"desired_orch_state\": \"active\", \"hop_id\": \"18e71800-4577-4d2d-8d61-3e89d60567ad\", \"host\": \"bpserver\", \"msg\": \"Resource activation started\", \"msg_id\": \"83657f0ac34d3fa2b6cf2826af2f8618\", \"namespace\": \"com.cyaninc.<solution name>.market.instancelayer.ResourceCatalogShardActor\", \"oplog\": true, \"orch_state\": \"requested\", \"priority\": 6, \"product_id\": \"57916bc7-c97e-4d40-97b6-6c6f67fcde71\", \"resource_id\": \"57916e3f-5938-4ca9-8411-c9149d6eccac\", \"resource_tenant_id\": \"28b7831b-13e8-4b6b-863c-a3f53a0e47e3\", \"resource_type\": \"example.resourceTypes.HelloWorld\", \"tenant_id\": \"28b7831b-13e8-4b6b-863c-a3f53a0e47e3\", \"thread\": \"<solution name>-cluster-akka.actor.default-dispatcher-80\", \"timestamp\": \"2016-07-22T00:52:15.915Z\", \"trace_id\": \"65f1a9c6-6521-4b6a-9109-16e76ffe538f\", \"upstream_id\": \"3a79ad4b-f20a-349b-b06e-87309637fd3f\", \"user_id\": \"676297b7-c38c-4c3e-8e77-cd2a1e591a81\" } { \"app\": \"<solution name>\", \"app_instance\": \"0\", \"desired_orch_state\": \"active\", \"hop_id\": \"e9f0dc52-01d5-42c8-a188-f985754cc861\", \"host\": \"bpserver\", \"msg\": \"Resource activation successful\", \"msg_id\": \"082cfd3c26053981899195c9a079e6bc\", \"namespace\": \"com.cyaninc.<solution name>.market.instancelayer.ResourceCatalogShardActor\", \"oplog\": true, \"orch_state\": \"active\", \"priority\": 6, \"product_id\": \"57916bc7-c97e-4d40-97b6-6c6f67fcde71\", \"resource_id\": \"57916e3f-5938-4ca9-8411-c9149d6eccac\", \"resource_tenant_id\": \"28b7831b-13e8-4b6b-863c-a3f53a0e47e3\", \"resource_type\": \"example.resourceTypes.HelloWorld\", \"tenant_id\": \"28b7831b-13e8-4b6b-863c-a3f53a0e47e3\", \"thread\": \"<solution name>-cluster-akka.actor.default-dispatcher-80\", \"timestamp\": \"2016-07-22T00:52:20.403Z\", \"trace_id\": \"65f1a9c6-6521-4b6a-9109-16e76ffe538f\", \"upstream_id\": \"4cf50a26-8022-404e-a382-44601120c2fa\", \"user_id\": \"676297b7-c38c-4c3e-8e77-cd2a1e591a81\" } ", "table_path": "", "page_number": 108, "type": "Figure[59]", "header": "Service creation, change, or deletion syslog events "}]}, {"header": "Server application syslog events ", "content": [{"text": "For overall <solution name> logging troubleshooting, you can either: ", "table_path": "", "page_number": 109, "type": "P[287]", "header": "Server application syslog events "}, {"text": "", "table_path": "", "page_number": 109, "type": "L[167]", "header": "Server application syslog events "}, {"text": "Most application logs are aggregated into /var/log/ciena/blueplanet.log. In addition, <solution name> logs are separate and include: ", "table_path": "", "page_number": 109, "type": "P[288]", "header": "Server application syslog events "}, {"text": "", "table_path": "", "page_number": 109, "type": "L[168]", "header": "Server application syslog events "}, {"text": "", "table_path": "", "page_number": 109, "type": "P[289]", "header": "Server application syslog events "}, {"text": "", "table_path": "", "page_number": 109, "type": "P[290]", "header": "Server application syslog events "}]}, {"header": "Logging workflow ", "content": [{"text": "This topic describes how Blue Planet handles centralized logging. ", "table_path": "", "page_number": 110, "type": "P[291]", "header": "Logging workflow "}, {"text": "The centralized logging workflow consists of several components: ", "table_path": "", "page_number": 110, "type": "P[292]", "header": "Logging workflow "}, {"text": "", "table_path": "", "page_number": 110, "type": "L[169]", "header": "Logging workflow "}, {"text": "The following diagram depicts the message flow from applications or resources into syslog. Heka collects syslog data and sends it to Elasticsearch to display it in Kibana as the Blue Planet logging solution dashboard. ", "table_path": "", "page_number": 110, "type": "P[293]", "header": "Logging workflow "}, {"text": "Centralized logging workflow ", "table_path": "", "page_number": 110, "type": "P[294]", "header": "Logging workflow "}, {"text": "", "table_path": "figures/fileoutpart171.png", "page_number": 110, "type": "Figure[60]", "header": "Logging workflow "}, {"text": "The Blue Planet logging solution has four components: ", "table_path": "", "page_number": 110, "type": "P[295]", "header": "Logging workflow "}, {"text": "", "table_path": "", "page_number": 110, "type": "L[170]", "header": "Logging workflow "}]}, {"header": "Exporting Logs ", "content": [{"text": "You can now export system logs for minimum 24 hours to maximum 15 days. ", "table_path": "", "page_number": 111, "type": "P[296]", "header": "Exporting Logs "}, {"text": "To export logs: ", "table_path": "", "page_number": 111, "type": "P[297]", "header": "Exporting Logs "}, {"text": "", "table_path": "", "page_number": 111, "type": "L[171]", "header": "Exporting Logs "}]}, {"header": "Troubleshooting using the logging UI ", "content": [{"text": "This section describes several ways to use the logging tool to: ", "table_path": "", "page_number": 112, "type": "P[298]", "header": "Troubleshooting using the logging UI "}, {"text": "", "table_path": "", "page_number": 112, "type": "L[172]", "header": "Troubleshooting using the logging UI "}, {"text": "For details on how to use the BP logging user interface, see: ", "table_path": "", "page_number": 112, "type": "P[299]", "header": "Troubleshooting using the logging UI "}, {"text": "", "table_path": "", "page_number": 112, "type": "L[173]", "header": "Troubleshooting using the logging UI "}]}, {"header": "Troubleshooting operational issues of a resource or service activation ", "content": [{"text": "Blue Planet creates an operational log that contains event information about activity in the system. ", "table_path": "", "page_number": 112, "type": "P[300]", "header": "Troubleshooting operational issues of a resource or service activation "}, {"text": "Basic logging information collected for resource-oriented log messages includes user data, time-stamps, and other details about the resource or service state. For debugging purposes, Blue Planet also tracks information from external resources that are involved in service activation (such as VLAN ID and Tunnel ID). ", "table_path": "", "page_number": 112, "type": "P[301]", "header": "Troubleshooting operational issues of a resource or service activation "}, {"text": "", "table_path": "", "page_number": 112, "type": "P[302]", "header": "Troubleshooting operational issues of a resource or service activation "}, {"text": "Table 5. Scenarios for filtering centralized logs ", "table_path": "", "page_number": 112, "type": "P[303]", "header": "Troubleshooting operational issues of a resource or service activation "}, {"text": "", "table_path": "tables/fileoutpart173.xlsx", "page_number": 112, "type": "Table[15]", "header": "Troubleshooting operational issues of a resource or service activation "}]}, {"header": "", "content": []}, {"header": "SCENARIO ", "content": []}, {"header": "", "content": []}, {"header": "PROCEDURE ", "content": [{"text": "", "table_path": "", "page_number": 112, "type": "Table[15]/TR[2]/TD", "header": "PROCEDURE "}, {"text": "Something went wrong on service creation ", "table_path": "", "page_number": 112, "type": "Table[15]/TR[2]/TD/P", "header": "PROCEDURE "}, {"text": "", "table_path": "", "page_number": 112, "type": "Table[15]/TR[2]/TD[2]", "header": "PROCEDURE "}, {"text": "Query all messages regarding a specific resource. Search based on resource_id. ", "table_path": "", "page_number": 112, "type": "Table[15]/TR[2]/TD[2]/P", "header": "PROCEDURE "}, {"text": "", "table_path": "", "page_number": 112, "type": "Table[15]/TR[3]/TD", "header": "PROCEDURE "}, {"text": "Query the history of specific resource activations through the API ", "table_path": "", "page_number": 112, "type": "Table[15]/TR[3]/TD/P", "header": "PROCEDURE "}, {"text": "", "table_path": "", "page_number": 112, "type": "Table[15]/TR[3]/TD[2]", "header": "PROCEDURE "}, {"text": "Search based on the trace_id from the service activation request. ", "table_path": "", "page_number": 112, "type": "Table[15]/TR[3]/TD[2]/P", "header": "PROCEDURE "}, {"text": "", "table_path": "", "page_number": 113, "type": "Table[15]/TR[4]/TD", "header": "PROCEDURE "}, {"text": "Review all messages about a specific container or app ", "table_path": "", "page_number": 113, "type": "Table[15]/TR[4]/TD/P", "header": "PROCEDURE "}, {"text": "", "table_path": "", "page_number": 113, "type": "Table[15]/TR[4]/TD[2]", "header": "PROCEDURE "}, {"text": "Use the logging tool to search for the container and app fields. ", "table_path": "", "page_number": 113, "type": "Table[15]/TR[4]/TD[2]/P", "header": "PROCEDURE "}, {"text": "", "table_path": "", "page_number": 113, "type": "Table[15]/TR[5]/TD", "header": "PROCEDURE "}, {"text": "Find all instances of a specific type of message ", "table_path": "", "page_number": 113, "type": "Table[15]/TR[5]/TD/P", "header": "PROCEDURE "}, {"text": "", "table_path": "", "page_number": 113, "type": "Table[15]/TR[5]/TD[2]", "header": "PROCEDURE "}, {"text": "Search for message text or msg_id. For example, activation failures. ", "table_path": "", "page_number": 113, "type": "Table[15]/TR[5]/TD[2]/P", "header": "PROCEDURE "}]}, {"header": "Troubleshooting using the Blue Planet UI ", "content": [{"text": "This section describes how to troubleshoot by using the Blue Planet UI. ", "table_path": "", "page_number": 113, "type": "P[304]", "header": "Troubleshooting using the Blue Planet UI "}]}, {"header": "Viewing transactions page ", "content": [{"text": "The Transactions page provides a waterfall view of all the actions that are currently running, their dependencies, and their sequences. The Transactional page also provides access to logs to facilitate easy troubleshooting of issues. ", "table_path": "", "page_number": 113, "type": "P[305]", "header": "Viewing transactions page "}, {"text": "", "table_path": "figures/fileoutpart176.png", "page_number": 113, "type": "Figure[61]", "header": "Viewing transactions page "}, {"text": "The transactions page displays: ", "table_path": "", "page_number": 113, "type": "P[306]", "header": "Viewing transactions page "}, {"text": "", "table_path": "", "page_number": 113, "type": "L[174]", "header": "Viewing transactions page "}, {"text": "The relevant logs can be selected for troubleshooting from a list of log information. ", "table_path": "", "page_number": 113, "type": "P[307]", "header": "Viewing transactions page "}, {"text": "This section covers: ", "table_path": "", "page_number": 113, "type": "P[308]", "header": "Viewing transactions page "}, {"text": "", "table_path": "", "page_number": 114, "type": "L[175]", "header": "Viewing transactions page "}]}, {"header": "Transactional page features ", "content": [{"text": "The Transactions page appears under the Services and Network tabs.This page includes multiple features, such as graphs, for easy debugging of the logs. ", "table_path": "", "page_number": 114, "type": "P[309]", "header": "Transactional page features "}, {"text": "", "table_path": "", "page_number": 114, "type": "P[310]", "header": "Transactional page features "}, {"text": "", "table_path": "figures/fileoutpart177.png", "page_number": 114, "type": "Figure[62]", "header": "Transactional page features "}, {"text": "", "table_path": "", "page_number": 114, "type": "P[311]", "header": "Transactional page features "}, {"text": "", "table_path": "figures/fileoutpart178.png", "page_number": 114, "type": "Figure[63]", "header": "Transactional page features "}, {"text": "", "table_path": "figures/fileoutpart179.png", "page_number": 115, "type": "Figure[64]", "header": "Transactional page features "}, {"text": "\uf05a ", "table_path": "", "page_number": 115, "type": "Figure[64]", "header": "Transactional page features "}, {"text": "In the transactions page, under All resources, the log can be filtered only under Select by timestamp or Select by messages group.The logs present are only available for resource logs. ", "table_path": "", "page_number": 115, "type": "P[312]", "header": "Transactional page features "}, {"text": "The Transactions Page displays: ", "table_path": "", "page_number": 115, "type": "P[313]", "header": "Transactional page features "}, {"text": "", "table_path": "", "page_number": 115, "type": "P[314]", "header": "Transactional page features "}, {"text": "Displays the name of the process run on a particular time stamp or period. ", "table_path": "", "page_number": 115, "type": "P[315]", "header": "Transactional page features "}, {"text": "", "table_path": "", "page_number": 115, "type": "P[316]", "header": "Transactional page features "}, {"text": "Click on the field to open the dropdown menu. The dropdown menu shows the timestamps of the available logs, with the top timestamp representing the latest log: ", "table_path": "", "page_number": 115, "type": "P[317]", "header": "Transactional page features "}, {"text": "", "table_path": "figures/fileoutpart180.png", "page_number": 115, "type": "Figure[65]", "header": "Transactional page features "}, {"text": "", "table_path": "", "page_number": 115, "type": "P[318]", "header": "Transactional page features "}, {"text": "Click on the field to open the dropdown menu: ", "table_path": "", "page_number": 115, "type": "P[319]", "header": "Transactional page features "}, {"text": "", "table_path": "figures/fileoutpart181.png", "page_number": 115, "type": "Figure[66]", "header": "Transactional page features "}, {"text": "The following table describes the selections in the dropdown menu: ", "table_path": "", "page_number": 115, "type": "P[320]", "header": "Transactional page features "}, {"text": "", "table_path": "tables/fileoutpart182.xlsx", "page_number": 116, "type": "Table[16]", "header": "Transactional page features "}]}, {"header": "", "content": []}, {"header": "MESSAGE GROUP ", "content": []}, {"header": "", "content": []}, {"header": "PURPOSE ", "content": [{"text": "", "table_path": "", "page_number": 116, "type": "Table[16]/TR[2]/TD", "header": "PURPOSE "}, {"text": "Resource activation/termination ", "table_path": "", "page_number": 116, "type": "Table[16]/TR[2]/TD/P", "header": "PURPOSE "}, {"text": "", "table_path": "", "page_number": 116, "type": "Table[16]/TR[2]/TD[2]", "header": "PURPOSE "}, {"text": "Displays resource activation and termination logs, success, and failure logs. ", "table_path": "", "page_number": 116, "type": "Table[16]/TR[2]/TD[2]/P", "header": "PURPOSE "}, {"text": "", "table_path": "", "page_number": 116, "type": "Table[16]/TR[3]/TD", "header": "PURPOSE "}, {"text": "All resource messages ", "table_path": "", "page_number": 116, "type": "Table[16]/TR[3]/TD/P", "header": "PURPOSE "}, {"text": "", "table_path": "", "page_number": 116, "type": "Table[16]/TR[3]/TD[2]", "header": "PURPOSE "}, {"text": "Displays success and failure logs for operations performed on the resource, resource activation, resource termination, Resource Update and discovered logs. ", "table_path": "", "page_number": 116, "type": "Table[16]/TR[3]/TD[2]/P", "header": "PURPOSE "}, {"text": "", "table_path": "", "page_number": 116, "type": "Table[16]/TR[4]/TD", "header": "PURPOSE "}, {"text": "Complete Logs ", "table_path": "", "page_number": 116, "type": "Table[16]/TR[4]/TD/P", "header": "PURPOSE "}, {"text": "", "table_path": "", "page_number": 116, "type": "Table[16]/TR[4]/TD[2]", "header": "PURPOSE "}, {"text": "Displays all logs, both application and resource specific including the error logs. ", "table_path": "", "page_number": 116, "type": "Table[16]/TR[4]/TD[2]/P", "header": "PURPOSE "}, {"text": "", "table_path": "", "page_number": 116, "type": "P[321]", "header": "PURPOSE "}, {"text": "Click on the field to open the drop down menu. The menu shows the list of available resource types. Choose the required type to view specific logs for the selected resource type: ", "table_path": "", "page_number": 116, "type": "P[322]", "header": "PURPOSE "}, {"text": "", "table_path": "figures/fileoutpart184.png", "page_number": 116, "type": "Figure[67]", "header": "PURPOSE "}, {"text": "", "table_path": "", "page_number": 116, "type": "P[323]", "header": "PURPOSE "}, {"text": "Click on the field to open the drop down menu. The menu shows the list of available resource labels. Select the required type to view specific logs for the selected resource label. ", "table_path": "", "page_number": 116, "type": "P[324]", "header": "PURPOSE "}, {"text": "", "table_path": "figures/fileoutpart185.png", "page_number": 117, "type": "Figure[68]", "header": "PURPOSE "}, {"text": "", "table_path": "figures/fileoutpart186.png", "page_number": 117, "type": "Figure[69]", "header": "PURPOSE "}, {"text": "\uf05a ", "table_path": "", "page_number": 117, "type": "Figure[69]", "header": "PURPOSE "}, {"text": "There can be multiple resource labels for one resource type. ", "table_path": "", "page_number": 117, "type": "P[325]", "header": "PURPOSE "}]}, {"header": "Accessing logs on Transaction Page ", "content": [{"text": "To access the logs on the Transactions page: ", "table_path": "", "page_number": 117, "type": "P[326]", "header": "Accessing logs on Transaction Page "}, {"text": "", "table_path": "", "page_number": 117, "type": "L[176]", "header": "Accessing logs on Transaction Page "}, {"text": "", "table_path": "figures/fileoutpart196.png", "page_number": 123, "type": "Figure[70]", "header": "Accessing logs on Transaction Page "}]}, {"header": "Troubleshooting using the Blue Planet logging tool ", "content": [{"text": "If your administrator has installed the Blue Planet logging solution during installation, you can access the tool using the following steps. ", "table_path": "", "page_number": 123, "type": "P[327]", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "To access the logging tool from the web browser: ", "table_path": "", "page_number": 123, "type": "P[328]", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 123, "type": "L[177]", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "figures/fileoutpart197.png", "page_number": 123, "type": "Figure[71]", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 124, "type": "L[178]", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "3. ", "table_path": "", "page_number": 124, "type": "L[179]/LI/Lbl", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "To search the message log you can: ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/ParagraphSpan", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "\u25e6 ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI/Lbl", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "For a quick search, enter your search criteria in the search bar. ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI/LBody", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "\u25e6 ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/Lbl", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "For a detailed search, click the ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "Discover", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody/Span", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": " to display the Discover page. Enter your query criteria in the menu bar or click ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "add", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody/Span[2]", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": " in the log pane to filter on selected fields. You can use ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "Apache Lucene ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody/Reference", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "query syntax", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody/Reference[2]", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": ". You can also use a combination of the two to narrow your search. ", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]/LBody", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L/LI[2]", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody/L", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 124, "type": "L[179]/LI/LBody", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 124, "type": "L[179]/LI", "header": "Troubleshooting using the Blue Planet logging tool "}, {"text": "", "table_path": "", "page_number": 124, "type": "L[179]", "header": "Troubleshooting using the Blue Planet logging tool "}]}, {"header": "Troubleshooting using the REST API ", "content": [{"text": "You can use the REST API to send queries to the Elasticsearch component. ", "table_path": "", "page_number": 125, "type": "P[329]", "header": "Troubleshooting using the REST API "}, {"text": "This section describes an example use case where you know that a \"Resource discovered\" message has a specific msg_id (displayed in the centralized logging tool). ", "table_path": "", "page_number": 125, "type": "P[330]", "header": "Troubleshooting using the REST API "}, {"text": "", "table_path": "", "page_number": 125, "type": "P[331]", "header": "Troubleshooting using the REST API "}, {"text": "", "table_path": "figures/fileoutpart198.png", "page_number": 125, "type": "Figure[72]", "header": "Troubleshooting using the REST API "}, {"text": "To query all of the messages in that category, issue a REST query to the Elasticsearch app with a body that defines the query. The following is an example of this query. ", "table_path": "", "page_number": 125, "type": "P[332]", "header": "Troubleshooting using the REST API "}, {"text": "", "table_path": "figures/fileoutpart199.png", "page_number": 125, "type": "Figure[73]", "header": "Troubleshooting using the REST API "}, {"text": "An example of the body of this REST API query follows: POST _search {  \"query\": {    \"bool\": {      \"must\": [        {          \"match\": {            \"msg_id\": \"65df85e0a123376b913b25dac15323a9\"          }        }      ]    }  } } ", "table_path": "", "page_number": 125, "type": "Figure[73]", "header": "Troubleshooting using the REST API "}, {"text": "", "table_path": "figures/fileoutpart200.png", "page_number": 126, "type": "Figure[74]", "header": "Troubleshooting using the REST API "}, {"text": "An example response follows: {  \"took\": 2,  \"timed_out\": false,  \"_shards\": {    \"total\": 10,    \"successful\": 10,    \"failed\": 0  },  \"hits\": {    \"total\": 44,    \"max_score\": 10.130918,    \"hits\": [      {        \"_index\": \"logs-2016.10.29\",        \"_type\": \"log_message\",        \"_id\": \"AVWZ5bxhpqvCRa6-EqPf\",        \"_score\": 10.130918,        \"_source\": {          \"app\": \"<solution name>\",          \"desired_orch_state\": \"unspecified\",          \"tenant_id\": \"bd795e4e-592f-44ca-b882-f9f50690821c\",          \"msg\": \"Resource discovered\",          \"thread\": \"<solution name>-cluster-akka.actor.default-dispatcher-39\",          \"app_instance\": \"2\",          \"resource_label\": \"testsubnet\",          \"msg_id\": \"65df85e0a123376b913b25dac15323a9\",          \"upstream_id\": \"3a79ad4b-f20a-349b-b06e-87309637fd3f\",          \"priority\": 6,          \"namespace\": \"com.cyaninc.<solution name>.market.instancelayer.ResourceCatalogShardActor\",          \"trace_id\": \"3a79ad4b-f20a-349b-b06e-87309637fd3f\",          \"hop_id\": \"3a278ea8-8f55-4bcf-9a7d-a37adba57f88\",          \"product_id\": \"57732c75-ed42-45a4-92e0-3fb93d988034\",          \"oplog\": true,          \"orch_state\": \"active\",          \"resource_type\": \"tosca.resourceTypes.Subnet\",          \"host\": \"ip-10-206-30-151\",          \"resource_id\": \"57732c76-7518-4dde-8b54-d728fe564642\",          \"timestamp\": \"2016-06-29T02:03:37.339Z\",          \"resource_tenant_id\": \"bd795e4e-592f-44ca-b882-f9f50690821c\",          \"user_id\": \"admin\"        }      }, truncated ", "table_path": "", "page_number": 126, "type": "Figure[74]", "header": "Troubleshooting using the REST API "}, {"text": "", "table_path": "", "page_number": 126, "type": "P[333]", "header": "Troubleshooting using the REST API "}]}, {"header": "Troubleshooting and helpful logging information ", "content": [{"text": "Use the following details to understand and troubleshoot centralized logging: ", "table_path": "", "page_number": 127, "type": "P[334]", "header": "Troubleshooting and helpful logging information "}, {"text": "", "table_path": "", "page_number": 127, "type": "L[180]", "header": "Troubleshooting and helpful logging information "}, {"text": "$ sudo su ", "table_path": "", "page_number": 128, "type": "Aside[100]/P", "header": "Troubleshooting and helpful logging information "}, {"text": "# ", "table_path": "", "page_number": 128, "type": "Aside[100]/P[2]", "header": "Troubleshooting and helpful logging information "}, {"text": "2. Remove the Heka data directory on the nodes where this problem exists. ", "table_path": "", "page_number": 128, "type": "P[335]", "header": "Troubleshooting and helpful logging information "}, {"text": " # bpssh rm -rf ", "table_path": "", "page_number": 128, "type": "Aside[101]/P", "header": "Troubleshooting and helpful logging information "}, {"text": "/opt/ciena/bp2/<heka ", "table_path": "", "page_number": 128, "type": "Aside[101]/P[2]", "header": "Troubleshooting and helpful logging information "}, {"text": "_dir>/data ", "table_path": "", "page_number": 128, "type": "Aside[101]/P[3]", "header": "Troubleshooting and helpful logging information "}, {"text": "3. Restart Heka. ", "table_path": "", "page_number": 128, "type": "P[336]", "header": "Troubleshooting and helpful logging information "}, {"text": "# solman \"solution_app_restart ", "table_path": "", "page_number": 128, "type": "Aside[102]/P", "header": "Troubleshooting and helpful logging information "}, {"text": "<logging_solution>:<release_version> heka\" ", "table_path": "", "page_number": 128, "type": "Aside[102]/P[2]", "header": "Troubleshooting and helpful logging information "}]}, {"header": "Metrics ", "content": []}, {"header": "Reviewing application metrics using Grafana ", "content": [{"text": "Grafana is an open source tool used by Blue Planet software. ", "table_path": "", "page_number": 129, "type": "P[337]", "header": "Reviewing application metrics using Grafana "}, {"text": "The default Grafana dashboard contains the following default options: ", "table_path": "", "page_number": 129, "type": "P[338]", "header": "Reviewing application metrics using Grafana "}, {"text": "", "table_path": "", "page_number": 129, "type": "L[181]", "header": "Reviewing application metrics using Grafana "}, {"text": "A sample MANO dashboard may be added post-installation by importing a JSON file into Grafana. Contact Ciena Customer support for details. ", "table_path": "", "page_number": 129, "type": "P[339]", "header": "Reviewing application metrics using Grafana "}, {"text": "", "table_path": "", "page_number": 129, "type": "L[182]", "header": "Reviewing application metrics using Grafana "}]}, {"header": "Prometheus Web UI ", "content": [{"text": "Prometheus is an open-source monitoring system tool with a dimensional data model, flexible query language, efficient time series database, and new alerting approach. ", "table_path": "", "page_number": 130, "type": "P[340]", "header": "Prometheus Web UI "}, {"text": "Prometheus scrapes metrics from instrumented jobs, either directly or through an intermediate push gateway for short-lived jobs. It stores all scraped samples locally and runs rules over this data to either aggregate and record new time series from existing data or to generate alerts. ", "table_path": "", "page_number": 130, "type": "P[341]", "header": "Prometheus Web UI "}, {"text": "Prometheus is included in solution-bpmetrics. It is now included in most standard lineups. If it isn\u2019t deployed, you can deploy it manually using the steps below: ", "table_path": "", "page_number": 130, "type": "P[342]", "header": "Prometheus Web UI "}, {"text": "1. ", "table_path": "", "page_number": 130, "type": "L[183]/LI/Lbl", "header": "Prometheus Web UI "}, {"text": "Log in to your host as the bpadmin user: ", "table_path": "", "page_number": 130, "type": "L[183]/LI/LBody", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "L[183]/LI", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "L[183]", "header": "Prometheus Web UI "}, {"text": "$ sudo solman ", "table_path": "", "page_number": 130, "type": "Aside[103]/L/LI/LBody", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "Aside[103]/L/LI", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "Aside[103]/L", "header": "Prometheus Web UI "}, {"text": "2. ", "table_path": "", "page_number": 130, "type": "L[184]/LI/Lbl", "header": "Prometheus Web UI "}, {"text": "Enter the command below to deploy Prometheus: ", "table_path": "", "page_number": 130, "type": "L[184]/LI/LBody", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "L[184]/LI", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "L[184]", "header": "Prometheus Web UI "}, {"text": "$ solution_deploy artifactory.ciena.com/blueplanet/bpmetrics:3.1.3 ", "table_path": "", "page_number": 130, "type": "Aside[104]/P", "header": "Prometheus Web UI "}, {"text": "The primary purpose of this UI (for our purposes) is to explore the raw metrics collected in order to determine the metrics that are available to be used when building Grafana dashboards. ", "table_path": "", "page_number": 130, "type": "P[343]", "header": "Prometheus Web UI "}, {"text": "To view the Prometheus Web UI: ", "table_path": "", "page_number": 130, "type": "P[344]", "header": "Prometheus Web UI "}, {"text": "1. ", "table_path": "", "page_number": 130, "type": "L[185]/LI/Lbl", "header": "Prometheus Web UI "}, {"text": "Enter the following URL in the address bar of a browser: ", "table_path": "", "page_number": 130, "type": "L[185]/LI/LBody", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "L[185]/LI", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "L[185]", "header": "Prometheus Web UI "}, {"text": "https://<site-ip>/bpmetrics ", "table_path": "", "page_number": 130, "type": "Aside[105]/P", "header": "Prometheus Web UI "}, {"text": "", "table_path": "figures/fileoutpart201.png", "page_number": 130, "type": "Figure[75]", "header": "Prometheus Web UI "}, {"text": "\uf05a ", "table_path": "", "page_number": 130, "type": "Figure[75]", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 130, "type": "P[345]", "header": "Prometheus Web UI "}, {"text": "", "table_path": "figures/fileoutpart202.png", "page_number": 131, "type": "Figure[76]", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 131, "type": "L[186]", "header": "Prometheus Web UI "}, {"text": "", "table_path": "", "page_number": 132, "type": "P[346]", "header": "Prometheus Web UI "}]}, {"header": "Querying Prometheus ", "content": [{"text": "Prometheus provides a functional query language entitled PromQL (Prometheus Query Language) that lets the user select and aggregate time series data in real time. The result of an expression can either be shown as a graph, viewed as tabular data in Prometheus\u2019s dashboard. PromQL Expressions ", "table_path": "", "page_number": 132, "type": "P[347]", "header": "Querying Prometheus "}, {"text": "Here are example metrics of PromQL expressions and their descrptions: ", "table_path": "", "page_number": 132, "type": "P[348]", "header": "Querying Prometheus "}, {"text": "", "table_path": "tables/fileoutpart204.xlsx", "page_number": 132, "type": "Table[17]", "header": "Querying Prometheus "}]}, {"header": "", "content": []}, {"header": "METRIC ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 132, "type": "Table[17]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "rate(node_cpu_seconds_total{mode=\"system\"}[10 m]) ", "table_path": "", "page_number": 132, "type": "Table[17]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 132, "type": "Table[17]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "The per-second average amount of CPU time spent in system mode, over the last 10 minutes (in seconds). ", "table_path": "", "page_number": 132, "type": "Table[17]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 132, "type": "Table[17]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "node_filesystem_avail_bytes ", "table_path": "", "page_number": 132, "type": "Table[17]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 132, "type": "Table[17]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "The total filesystem space obtainable to users other than superusers (in bytes). ", "table_path": "", "page_number": 132, "type": "Table[17]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 133, "type": "Table[17]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "rate(node_network_receive_bytes_total[10m]) ", "table_path": "", "page_number": 133, "type": "Table[17]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 133, "type": "Table[17]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "The per-second average network traffic received, over the last 10 minutes (in bytes) ", "table_path": "", "page_number": 133, "type": "Table[17]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}]}, {"header": "View Application Dashboards ", "content": [{"text": "", "table_path": "figures/fileoutpart207.png", "page_number": 133, "type": "Figure[77]", "header": "View Application Dashboards "}, {"text": "\uf05a ", "table_path": "", "page_number": 133, "type": "Figure[77]", "header": "View Application Dashboards "}, {"text": "The following section is not currently supported in UAA. ", "table_path": "", "page_number": 133, "type": "P[349]", "header": "View Application Dashboards "}, {"text": "Prometheus metrics for several Blue Planet applications can be displayed in Grafana dashboards. For example: TRON, Prometheus 2.0, Kafka, Elasticsearch, Resource Adapters, Postgres, Scriptplan, and HAproxy application metrics are collected using Prometheus and displayed in Grafana dashboards. ", "table_path": "", "page_number": 133, "type": "P[350]", "header": "View Application Dashboards "}, {"text": "The section covers: ", "table_path": "", "page_number": 133, "type": "P[351]", "header": "View Application Dashboards "}, {"text": "", "table_path": "", "page_number": 133, "type": "L[187]", "header": "View Application Dashboards "}, {"text": "To view these dashboards: ", "table_path": "", "page_number": 133, "type": "P[352]", "header": "View Application Dashboards "}, {"text": "", "table_path": "", "page_number": 133, "type": "L[188]", "header": "View Application Dashboards "}, {"text": "", "table_path": "figures/fileoutpart208.png", "page_number": 134, "type": "Figure[78]", "header": "View Application Dashboards "}]}, {"header": "TRON dashboard ", "content": [{"text": "The TRON dashboard displays the following panels as part of the application health and status: ", "table_path": "", "page_number": 134, "type": "P[353]", "header": "TRON dashboard "}, {"text": "", "table_path": "", "page_number": 134, "type": "P[354]", "header": "TRON dashboard "}, {"text": "", "table_path": "tables/fileoutpart209.xlsx", "page_number": 134, "type": "Table[18]", "header": "TRON dashboard "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 134, "type": "Table[18]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "CPU usage ", "table_path": "", "page_number": 134, "type": "Table[18]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[18]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "CPU usage by all hosts of Tron for last 6 hours. ", "table_path": "", "page_number": 134, "type": "Table[18]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[18]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Memory usage ", "table_path": "", "page_number": 134, "type": "Table[18]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[18]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Memory usage by all hosts of Tron for last 6 hours. ", "table_path": "", "page_number": 134, "type": "Table[18]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[18]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Uptime ", "table_path": "", "page_number": 134, "type": "Table[18]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[18]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Running uptime of all hosts of Tron. ", "table_path": "", "page_number": 134, "type": "Table[18]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[18]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Garbage Collections ", "table_path": "", "page_number": 134, "type": "Table[18]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[18]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Provides the number of unreferenced objects cleaned from memory for last 6 hours. ", "table_path": "", "page_number": 134, "type": "Table[18]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "P[355]", "header": "DESCRIPTION "}, {"text": "", "table_path": "tables/fileoutpart211.xlsx", "page_number": 134, "type": "Table[19]", "header": "DESCRIPTION "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 134, "type": "Table[19]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Total Requests ", "table_path": "", "page_number": 134, "type": "Table[19]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[19]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of requests handled by Tron till now. ", "table_path": "", "page_number": 134, "type": "Table[19]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[19]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "2XX Responses ", "table_path": "", "page_number": 134, "type": "Table[19]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 134, "type": "Table[19]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of responses sent by Tron with a server code starting with \"2\". ", "table_path": "", "page_number": 134, "type": "Table[19]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "4XX Responses ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of responses sent by Tron with a server code starting with \"4\". ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "5XX Responses ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of responses sent by Tron with a server code starting with \"5\". ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "HTTP Request Rate ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Provides http request operations per minute for last six hours, along with a list of APIs and their total number of request operations per minute calculated by maximum, average, and current values. ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "HTTP Request Response Time ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Response in milliseconds for last six hours. ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "Responses Total ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total response operations for the last six hours by all three hosts of Tron. This also provides calculated minimum, maximum, average, and current values of response operations. ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[9]/TD", "header": "DESCRIPTION "}, {"text": "Response Total by Status Code ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[9]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[9]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total response operations categorized by server response code, and calculated using minimum, maximum, average, and current values of response operations. ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[9]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[10]/TD", "header": "DESCRIPTION "}, {"text": "Database Ops ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[10]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[10]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of database operations at a point in time along with calculated minimum, maximum, average, and current values. ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[10]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[11]/TD", "header": "DESCRIPTION "}, {"text": "Model Changes Rate ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[11]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 135, "type": "Table[19]/TR[11]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of database operation categorised by table names and their calculated maximum, average, and current values. ", "table_path": "", "page_number": 135, "type": "Table[19]/TR[11]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart214.png", "page_number": 135, "type": "Figure[79]", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart215.png", "page_number": 136, "type": "Figure[80]", "header": "DESCRIPTION "}]}, {"header": "Prometheus 2.0 Stats dashboard ", "content": [{"text": "The dashboard displays following panels as part of application health and status. ", "table_path": "", "page_number": 136, "type": "P[356]", "header": "Prometheus 2.0 Stats dashboard "}, {"text": "", "table_path": "tables/fileoutpart216.xlsx", "page_number": 136, "type": "Table[20]", "header": "Prometheus 2.0 Stats dashboard "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "CPU average ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total user and system CPU time spent, in seconds. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Memory Profile ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Resident memory size in bytes. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Samples appended ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of appended samples. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Scrape duration ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Top five ranked jobs based on scrape_duration_seconds. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Head chunks ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of chunks in the head block. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "WAL corruptions ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of WAL corruptions. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "Active appenders ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of currently active appender transactions. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[9]/TD", "header": "DESCRIPTION "}, {"text": "Reload count ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[9]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[9]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of scrape pool reloads. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[9]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[10]/TD", "header": "DESCRIPTION "}, {"text": "Query duration ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[10]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[10]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total duration of query time. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[10]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[11]/TD", "header": "DESCRIPTION "}, {"text": "Blocks loaded ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[11]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[11]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of currently loaded data blocks. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[11]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[12]/TD", "header": "DESCRIPTION "}, {"text": "Head Block GC Activity ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[12]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 136, "type": "Table[20]/TR[12]/TD[2]", "header": "DESCRIPTION "}, {"text": "Runtime of garbage collection in the head block. ", "table_path": "", "page_number": 136, "type": "Table[20]/TR[12]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[20]/TR[13]/TD", "header": "DESCRIPTION "}, {"text": "Compaction Activity ", "table_path": "", "page_number": 137, "type": "Table[20]/TR[13]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[20]/TR[13]/TD[2]", "header": "DESCRIPTION "}, {"text": "Duration of compaction runs. ", "table_path": "", "page_number": 137, "type": "Table[20]/TR[13]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[20]/TR[14]/TD", "header": "DESCRIPTION "}, {"text": "Series Added ", "table_path": "", "page_number": 137, "type": "Table[20]/TR[14]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[20]/TR[14]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of Series added. ", "table_path": "", "page_number": 137, "type": "Table[20]/TR[14]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[20]/TR[15]/TD", "header": "DESCRIPTION "}, {"text": "Rule Group Eval Duration ", "table_path": "", "page_number": 137, "type": "Table[20]/TR[15]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[20]/TR[15]/TD[2]", "header": "DESCRIPTION "}, {"text": "Duration of rule group evaluations. ", "table_path": "", "page_number": 137, "type": "Table[20]/TR[15]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[20]/TR[16]/TD", "header": "DESCRIPTION "}, {"text": "Rule Group Eval Activity ", "table_path": "", "page_number": 137, "type": "Table[20]/TR[16]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[20]/TR[16]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of scheduled rule group evaluations, whether executed or missed. ", "table_path": "", "page_number": 137, "type": "Table[20]/TR[16]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart219.png", "page_number": 137, "type": "Figure[81]", "header": "DESCRIPTION "}]}, {"header": "Kafka dashboard ", "content": [{"text": "The dashboard displays following panels as part of application health and status. ", "table_path": "", "page_number": 137, "type": "P[357]", "header": "Kafka dashboard "}, {"text": "", "table_path": "", "page_number": 137, "type": "P[358]", "header": "Kafka dashboard "}, {"text": "", "table_path": "tables/fileoutpart220.xlsx", "page_number": 137, "type": "Table[21]", "header": "Kafka dashboard "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 137, "type": "Table[21]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Brokers Online ", "table_path": "", "page_number": 137, "type": "Table[21]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[21]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Count of number of partitions with a leader broker. ", "table_path": "", "page_number": 137, "type": "Table[21]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[21]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Active Controllers ", "table_path": "", "page_number": 137, "type": "Table[21]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 137, "type": "Table[21]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Sum of number of active controllers. ", "table_path": "", "page_number": 137, "type": "Table[21]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Total of Topics ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Sum of number of topics. ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Under Replicated Partitions ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Sum of number of partitions whose replication factor is greater than the number of their in-sync replicas (ISRs). ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Online Partitions ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Sum of number of online partitions for a broker. ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "Offline Partitions ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Sum of number of offline partitions for a broker. ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "Messages In Per Sec ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "Sum of number of messages written per second on all brokers. ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[9]/TD", "header": "DESCRIPTION "}, {"text": "Total Messages ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[9]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[21]/TR[9]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total messages written on all brokers (incremental count per min). ", "table_path": "", "page_number": 138, "type": "Table[21]/TR[9]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "P[359]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "P[360]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "P[361]", "header": "DESCRIPTION "}, {"text": "", "table_path": "tables/fileoutpart223.xlsx", "page_number": 138, "type": "Table[22]", "header": "DESCRIPTION "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 138, "type": "Table[22]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Total Time Produce Latency ", "table_path": "", "page_number": 138, "type": "Table[22]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[22]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Average time to handle the producer requests in every 30 sec. ", "table_path": "", "page_number": 138, "type": "Table[22]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[22]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Total Time Fetch Consumer latency ", "table_path": "", "page_number": 138, "type": "Table[22]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[22]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Average time to handle the consumer requests in every 30 sec. ", "table_path": "", "page_number": 138, "type": "Table[22]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[22]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Total Time Fetch Follower Latency ", "table_path": "", "page_number": 138, "type": "Table[22]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[22]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Average time to handle the follower requests in every 30 sec. ", "table_path": "", "page_number": 138, "type": "Table[22]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "P[362]", "header": "DESCRIPTION "}, {"text": "", "table_path": "tables/fileoutpart225.xlsx", "page_number": 138, "type": "Table[23]", "header": "DESCRIPTION "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 138, "type": "Table[23]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Message (in per sec) ", "table_path": "", "page_number": 138, "type": "Table[23]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[23]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Rate at which the number of messages were processed per topic. ", "table_path": "", "page_number": 138, "type": "Table[23]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[23]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Bytes (in per sec) ", "table_path": "", "page_number": 138, "type": "Table[23]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[23]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Byte rate at which messages were received by producers per topic. ", "table_path": "", "page_number": 138, "type": "Table[23]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[23]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Total Produce request rate per topic ", "table_path": "", "page_number": 138, "type": "Table[23]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[23]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Rate at which number of producer requests were received per topic. ", "table_path": "", "page_number": 138, "type": "Table[23]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[23]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Bytes Out Per Topic ", "table_path": "", "page_number": 138, "type": "Table[23]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 138, "type": "Table[23]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Byte rate at which consumers read messages per topic. ", "table_path": "", "page_number": 138, "type": "Table[23]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[23]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Produce request per broker ", "table_path": "", "page_number": 139, "type": "Table[23]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[23]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Rate at which number of producer requests were received per broker. ", "table_path": "", "page_number": 139, "type": "Table[23]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[23]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "Byte in/out per broker ", "table_path": "", "page_number": 139, "type": "Table[23]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[23]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Byte rate at which messages were received and messages consumed per broker. ", "table_path": "", "page_number": 139, "type": "Table[23]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "P[363]", "header": "DESCRIPTION "}, {"text": "", "table_path": "tables/fileoutpart228.xlsx", "page_number": 139, "type": "Table[24]", "header": "DESCRIPTION "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 139, "type": "Table[24]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "JVM Threads Current ", "table_path": "", "page_number": 139, "type": "Table[24]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[24]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of live threads, including daemon and non-daemon threads. ", "table_path": "", "page_number": 139, "type": "Table[24]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[24]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "JVM Memory Usage ", "table_path": "", "page_number": 139, "type": "Table[24]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[24]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Used bytes of a JVM memory area. ", "table_path": "", "page_number": 139, "type": "Table[24]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[24]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "CPU Usage ", "table_path": "", "page_number": 139, "type": "Table[24]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[24]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total user and system CPU time spent in seconds. ", "table_path": "", "page_number": 139, "type": "Table[24]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[24]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Time Spent in GC ", "table_path": "", "page_number": 139, "type": "Table[24]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 139, "type": "Table[24]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Time spent in JVM garbage collection. ", "table_path": "", "page_number": 139, "type": "Table[24]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart230.png", "page_number": 139, "type": "Figure[82]", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart231.png", "page_number": 140, "type": "Figure[83]", "header": "DESCRIPTION "}]}, {"header": "Elasticsearch dashboard ", "content": [{"text": "The dashboard describes various metrics of Elasticsearch. ", "table_path": "", "page_number": 140, "type": "P[364]", "header": "Elasticsearch dashboard "}, {"text": "", "table_path": "", "page_number": 140, "type": "P[365]", "header": "Elasticsearch dashboard "}, {"text": "", "table_path": "tables/fileoutpart232.xlsx", "page_number": 140, "type": "Table[25]", "header": "Elasticsearch dashboard "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Cluster health ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[2]/TD[2]/L", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "CPU usage Avg. ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Elasticsearch uses thread pools to manage CPU resources for concurrent operations. High CPU usage typically means one or more thread pools are running low. ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Nodes ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Collection of connected nodes is called a cluster. ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Data nodes ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Node that performs a data role. Data nodes hold data and perform data related operations such as CRUD, search, and aggregations. ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Pending tasks ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of a pending task, such as create index, update mapping, allocate shard. ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "Open file descriptors per cluster ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "Table[25]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of file descripter or file handles. ", "table_path": "", "page_number": 140, "type": "Table[25]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 140, "type": "P[366]", "header": "DESCRIPTION "}, {"text": "", "table_path": "tables/fileoutpart234.xlsx", "page_number": 141, "type": "Table[26]", "header": "DESCRIPTION "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 141, "type": "Table[26]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Active primary shards ", "table_path": "", "page_number": 141, "type": "Table[26]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[26]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of shards, that are readily available on a node within a cluster. Active shards will include replicas in the count. ", "table_path": "", "page_number": 141, "type": "Table[26]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart236.png", "page_number": 141, "type": "Figure[84]", "header": "DESCRIPTION "}]}, {"header": "Resource Adapters dashboard ", "content": [{"text": "This dashboard shows metrics for different Resource Adapters (RAs) selected by the RA variable on the dashboard. It contains the following panels, and each panel displays the health and status of the application. ", "table_path": "", "page_number": 141, "type": "P[367]", "header": "Resource Adapters dashboard "}, {"text": "", "table_path": "tables/fileoutpart237.xlsx", "page_number": 141, "type": "Table[27]", "header": "Resource Adapters dashboard "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Session States ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "A pie chart showing the Current RA session connect states. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "App Restarts Last 24 hours ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of times a given app instance restarted in the last 24 hours. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Uptime ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Duration each instance has been up. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "CPU Usage ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "CPU user and system time per second for each RA instance. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "TCP Socket Count ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of open TCP sockets in the container. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "maxrss ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "The app container Resident Set Size aka memory usage. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "Python GC collections ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of Python runtime GC collections per second per GC generation. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[9]/TD", "header": "DESCRIPTION "}, {"text": "GC Collected Objects ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[9]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[9]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of Python objects collected by the python runtime per second per GC generation. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[9]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[10]/TD", "header": "DESCRIPTION "}, {"text": "Major Page Fault ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[10]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 141, "type": "Table[27]/TR[10]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of page faults serviced that required input/output activity. ", "table_path": "", "page_number": 141, "type": "Table[27]/TR[10]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[11]/TD", "header": "DESCRIPTION "}, {"text": "Minor Page Fault ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[11]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[11]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of page faults serviced without any input/output activity. Here input/output activity is avoided by reclaiming a page frame from the list of pages awaiting reallocation. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[11]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[12]/TD", "header": "DESCRIPTION "}, {"text": "Disk Reads ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[12]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[12]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of times the filesystem had to perform input. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[12]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[13]/TD", "header": "DESCRIPTION "}, {"text": "Disk Writes ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[13]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[13]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of times the filesystem had to perform output. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[13]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[14]/TD", "header": "DESCRIPTION "}, {"text": "Voluntary Context Switches ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[14]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[14]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of times a context switch resulted because a process voluntarily gave up the processor before its time slice was completed (usually to await availability of a resource). ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[14]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[15]/TD", "header": "DESCRIPTION "}, {"text": "Involuntary Context switches ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[15]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[15]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of times a context switch resulted because a higher priority process became runnable or because the current process exceeded its time slice. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[15]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[16]/TD", "header": "DESCRIPTION "}, {"text": "API HTTP Requests ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[16]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[16]/TD[2]", "header": "DESCRIPTION "}, {"text": "RA REST API response times fro eact HTTP endpoint. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[16]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[17]/TD", "header": "DESCRIPTION "}, {"text": "API HTTP Response Codes ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[17]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[17]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of requests per second for a given HTTP status code. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[17]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[18]/TD", "header": "DESCRIPTION "}, {"text": "bpprov Endpoint Request Times ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[18]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[18]/TD[2]", "header": "DESCRIPTION "}, {"text": "Average time taken for a given endpoint (cli, rest, netconf, snmp, tl1, etc.) to respond. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[18]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[19]/TD", "header": "DESCRIPTION "}, {"text": "bpprov Endpoint Request Counts ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[19]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[19]/TD[2]", "header": "DESCRIPTION "}, {"text": "Requests per second for each endpoint. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[19]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[20]/TD", "header": "DESCRIPTION "}, {"text": "bpprov Commands ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[20]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[20]/TD[2]", "header": "DESCRIPTION "}, {"text": "Execution times for each command inside the RA. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[20]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[21]/TD", "header": "DESCRIPTION "}, {"text": "bpprov Command Counts ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[21]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[21]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of executions per second for each command. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[21]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[22]/TD", "header": "DESCRIPTION "}, {"text": "Translator Execution Times ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[22]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[22]/TD[2]", "header": "DESCRIPTION "}, {"text": "Execution times for various bpprov translators. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[22]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[23]/TD", "header": "DESCRIPTION "}, {"text": "Translator Counts ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[23]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[23]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of executions of a translator. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[23]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[24]/TD", "header": "DESCRIPTION "}, {"text": "RPSDK Cache Times ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[24]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[24]/TD[2]", "header": "DESCRIPTION "}, {"text": "Response time from RPSDK resource cache backend for upsert, delete, and load_all cache operations. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[24]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[25]/TD", "header": "DESCRIPTION "}, {"text": "RPSDK Cache Operations ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[25]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[25]/TD[2]", "header": "DESCRIPTION "}, {"text": "Requests per second of each cache operation. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[25]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[26]/TD", "header": "DESCRIPTION "}, {"text": "Kafka Produce Time ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[26]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[26]/TD[2]", "header": "DESCRIPTION "}, {"text": "Time spent sending resource updates to Kafka. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[26]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[27]/TD", "header": "DESCRIPTION "}, {"text": "Kafka Messages Sent ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[27]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 142, "type": "Table[27]/TR[27]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of resource updates sent to Kafka. ", "table_path": "", "page_number": 142, "type": "Table[27]/TR[27]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "figures/fileoutpart240.png", "page_number": 143, "type": "Figure[85]", "header": "DESCRIPTION "}]}, {"header": "Scriptplan dashboard ", "content": [{"text": "The dashboard shows metrics for running remote scripts and the health and status of the scriptplan application. ", "table_path": "", "page_number": 143, "type": "P[368]", "header": "Scriptplan dashboard "}, {"text": "", "table_path": "tables/fileoutpart241.xlsx", "page_number": 143, "type": "Table[28]", "header": "Scriptplan dashboard "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Scripts Currently Executing ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of scripts currently processing. ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Scripts Completed ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of scripts completed by scriptplan since it was last restarted. ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Scripts Failed ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of scripts that failed. ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Script Failure Rate ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Percentage of the scripts failure. ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Script User and System CPU Time ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "CPU usage by remote scripts. ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "Script Block I/O ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Remote script input/output operations. ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "<solution name> get unclaimed jobs completed ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "Frequency of scriptplan fetches of new jobs from market. ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[9]/TD", "header": "DESCRIPTION "}, {"text": "<solution name> get unclaimed jobs response time ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[9]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 143, "type": "Table[28]/TR[9]/TD[2]", "header": "DESCRIPTION "}, {"text": "Duration of time to get new jobs from market. If no jobs exist, because of the long poll, this will be one minute. ", "table_path": "", "page_number": 143, "type": "Table[28]/TR[9]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[10]/TD", "header": "DESCRIPTION "}, {"text": "<solution name> job claim completed ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[10]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[10]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of jobs are being claimed by scriptplan per second. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[10]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[11]/TD", "header": "DESCRIPTION "}, {"text": "<solution name> claim job response time ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[11]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[11]/TD[2]", "header": "DESCRIPTION "}, {"text": "Duration of time to claim jobs. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[11]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[12]/TD", "header": "DESCRIPTION "}, {"text": "<solution name> put job result completed ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[12]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[12]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of job results are reported to market. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[12]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[13]/TD", "header": "DESCRIPTION "}, {"text": "<solution name> put job response time ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[13]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[13]/TD[2]", "header": "DESCRIPTION "}, {"text": "Duraion to submit job result. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[13]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[14]/TD", "header": "DESCRIPTION "}, {"text": "Dispatcher Job Dispatch Completed ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[14]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[14]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of jobs assigned to scriptplan instances. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[14]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[15]/TD", "header": "DESCRIPTION "}, {"text": "Dispatcher Job Dispatch Interval ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[15]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[15]/TD[2]", "header": "DESCRIPTION "}, {"text": "Duration of time to assign a job to each instance. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[15]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[16]/TD", "header": "DESCRIPTION "}, {"text": "Runner Job Claim Responses ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[16]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[16]/TD[2]", "header": "DESCRIPTION "}, {"text": "When claiming a job, reports various responses, such as JobClaimed. Too Many Jobs means the runner is backed up and space is available. Any other response code means something is wrong with scriptplan or the market. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[16]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[17]/TD", "header": "DESCRIPTION "}, {"text": "Update of the scriptplan app ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[17]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[17]/TD[2]", "header": "DESCRIPTION "}, {"text": "Duration for which the app has been running. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[17]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[18]/TD", "header": "DESCRIPTION "}, {"text": "Operation Failure Rate ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[18]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[18]/TD[2]", "header": "DESCRIPTION "}, {"text": "Failure rate of scriptplan operations related to managing and running remote scripts. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[18]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[19]/TD", "header": "DESCRIPTION "}, {"text": "The scriptplan_N Service ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[19]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[19]/TD[2]", "header": "DESCRIPTION "}, {"text": "Panel group is repeated for each selected scriptplan instance. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[19]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[20]/TD", "header": "DESCRIPTION "}, {"text": "User and System CPU Time ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[20]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[20]/TD[2]", "header": "DESCRIPTION "}, {"text": "CPU time of the scriptplan instance. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[20]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[21]/TD", "header": "DESCRIPTION "}, {"text": "Peak Memory Use ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[21]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[21]/TD[2]", "header": "DESCRIPTION "}, {"text": "Memory usage of the scriptplan process. ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[21]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[22]/TD", "header": "DESCRIPTION "}, {"text": "Block I/O ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[22]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 144, "type": "Table[28]/TR[22]/TD[2]", "header": "DESCRIPTION "}, {"text": "Disk Input/Output ", "table_path": "", "page_number": 144, "type": "Table[28]/TR[22]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[23]/TD", "header": "DESCRIPTION "}, {"text": "getrusage (2) Events ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[23]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[23]/TD[2]", "header": "DESCRIPTION "}, {"text": "getrusage(2) returns resource usage measures for one the following: ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[23]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[23]/TD[2]/L", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[24]/TD", "header": "DESCRIPTION "}, {"text": "Garbage Collection ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[24]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[24]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of collection events and objects collected per second. ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[24]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[25]/TD", "header": "DESCRIPTION "}, {"text": "Market Kafka Topic Messages ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[25]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[25]/TD[2]", "header": "DESCRIPTION "}, {"text": "Messages and bytes read from the market Kafka topics per second. ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[25]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[26]/TD", "header": "DESCRIPTION "}, {"text": "Script Log Management ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[26]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[26]/TD[2]", "header": "DESCRIPTION "}, {"text": "Metrics managing remote script log files. ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[26]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[27]/TD", "header": "DESCRIPTION "}, {"text": "Cleanup Interval ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[27]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[27]/TD[2]", "header": "DESCRIPTION "}, {"text": "Frequency scriptplan cleans the logs. ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[27]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[28]/TD", "header": "DESCRIPTION "}, {"text": "File Count Cap ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[28]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[28]/TD[2]", "header": "DESCRIPTION "}, {"text": "Maximum number of log files to keep. ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[28]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[29]/TD", "header": "DESCRIPTION "}, {"text": "Size Cap ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[29]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[29]/TD[2]", "header": "DESCRIPTION "}, {"text": "Maximum size of the remote script log directory. ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[29]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[30]/TD", "header": "DESCRIPTION "}, {"text": "Log Files Unlinked ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[30]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[28]/TR[30]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of log files deleted per second. ", "table_path": "", "page_number": 145, "type": "Table[28]/TR[30]/TD[2]/P", "header": "DESCRIPTION "}]}, {"header": "Postgres overview dashboard ", "content": [{"text": "", "table_path": "tables/fileoutpart245.xlsx", "page_number": 145, "type": "Table[29]", "header": "Postgres overview dashboard "}]}, {"header": "", "content": []}, {"header": "NAME ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 145, "type": "Table[29]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Role ", "table_path": "", "page_number": 145, "type": "Table[29]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[29]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Role of the current selected instance ", "table_path": "", "page_number": 145, "type": "Table[29]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[29]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Rollback ", "table_path": "", "page_number": 145, "type": "Table[29]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[29]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of transactions in this database that have been rolled back ", "table_path": "", "page_number": 145, "type": "Table[29]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[29]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Current connections ", "table_path": "", "page_number": 145, "type": "Table[29]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 145, "type": "Table[29]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of active connections ", "table_path": "", "page_number": 145, "type": "Table[29]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Transactions per second ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Rate of successful transactions per second ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Queries per second ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Rate of queries per second on the selected database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "Sum ExclusiveLock on instance ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of current exclusive locks on the selected database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "PG buffer cache hit rate ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "Hits of the successful buffer cache and reads ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[9]/TD", "header": "DESCRIPTION "}, {"text": "Count idle in transaction ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[9]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[9]/TD[2]", "header": "DESCRIPTION "}, {"text": "Transactions currently in idle state ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[9]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[10]/TD", "header": "DESCRIPTION "}, {"text": "Sum ShareLock on instance ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[10]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[10]/TD[2]", "header": "DESCRIPTION "}, {"text": "Shared locks across the entire selected database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[10]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[11]/TD", "header": "DESCRIPTION "}, {"text": "Commit ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[11]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[11]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total number of commits on the selected database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[11]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[12]/TD", "header": "DESCRIPTION "}, {"text": "Active sessions ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[12]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[12]/TD[2]", "header": "DESCRIPTION "}, {"text": "Connected sessions, including Postgres internal processes like Autovacuum ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[12]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[13]/TD", "header": "DESCRIPTION "}, {"text": "Current fetch data ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[13]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[13]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of rows fetched by queries in this database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[13]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[14]/TD", "header": "DESCRIPTION "}, {"text": "Current update data ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[14]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[14]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of rows updated by queries in this database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[14]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[15]/TD", "header": "DESCRIPTION "}, {"text": "Current insert data ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[15]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[15]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of rows inserted ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[15]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[16]/TD", "header": "DESCRIPTION "}, {"text": "Top-5 Most long-running queries ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[16]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[16]/TD[2]", "header": "DESCRIPTION "}, {"text": "Table of db queries with time taken filtered by top 5 most long running as an avg over time ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[16]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[17]/TD", "header": "DESCRIPTION "}, {"text": "Top-5 Most called queries ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[17]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[17]/TD[2]", "header": "DESCRIPTION "}, {"text": "Table of db queries filtered by most called as an average over time ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[17]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[18]/TD", "header": "DESCRIPTION "}, {"text": "Mean query time avg 1m by instance ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[18]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[18]/TD[2]", "header": "DESCRIPTION "}, {"text": "Mean time spent executing a statement across the currently selected instance. ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[18]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[19]/TD", "header": "DESCRIPTION "}, {"text": "Mean query time by entire database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[19]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[19]/TD[2]", "header": "DESCRIPTION "}, {"text": "Mean time spent executing a statement across the currently selected database. ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[19]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[20]/TD", "header": "DESCRIPTION "}, {"text": "Total queries count (1m rate) by entire instance ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[20]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[20]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total queries for the currently selected instance ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[20]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[21]/TD", "header": "DESCRIPTION "}, {"text": "Total queries count (1m rate) by database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[21]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[21]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total queries for the currently selected database ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[21]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[22]/TD", "header": "DESCRIPTION "}, {"text": "Database Size ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[22]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 146, "type": "Table[29]/TR[22]/TD[2]", "header": "DESCRIPTION "}, {"text": "size of the db in MB ", "table_path": "", "page_number": 146, "type": "Table[29]/TR[22]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[23]/TD", "header": "DESCRIPTION "}, {"text": "Checkpoint stats ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[23]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[23]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total amount of time that has been spent in the portion of checkpoint processing where files are written to disk, in milliseconds and Total amount of time that has been spent in the portion of checkpoint processing where files are synchronized to disk, in milliseconds. ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[23]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[24]/TD", "header": "DESCRIPTION "}, {"text": "Operations with Blocks ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[24]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[24]/TD[2]", "header": "DESCRIPTION "}, {"text": "Time spent reading and writing data file blocks by backends in the selected database. ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[24]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[25]/TD", "header": "DESCRIPTION "}, {"text": "Buffers (bgwriter) ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[25]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[25]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[25]/TD[2]/L", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[26]/TD", "header": "DESCRIPTION "}, {"text": "Count general connections ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[26]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[26]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total count of current connections by database ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[26]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[27]/TD", "header": "DESCRIPTION "}, {"text": "Active sessions ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[27]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[27]/TD[2]", "header": "DESCRIPTION "}, {"text": "Current active sessions by database ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[27]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[28]/TD", "header": "DESCRIPTION "}, {"text": "Connections in detail ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[28]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[28]/TD[2]", "header": "DESCRIPTION "}, {"text": "Connections in idle, active by database ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[28]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[29]/TD", "header": "DESCRIPTION "}, {"text": "Transaction commits ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[29]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[29]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of transactions in the selected database that have been committed as a rate ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[29]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[30]/TD", "header": "DESCRIPTION "}, {"text": "Transaction rollbacks ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[30]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[30]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of rollbacks in the selected database as a rate ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[30]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[31]/TD", "header": "DESCRIPTION "}, {"text": "Longest Transaction ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[31]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[31]/TD[2]", "header": "DESCRIPTION "}, {"text": "Max duration in seconds any active transaction has been running (includes internal PostgreSQL processes like vacuum). ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[31]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[32]/TD", "header": "DESCRIPTION "}, {"text": "Read Stats ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[32]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[32]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of indexed and sequential scans per table ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[32]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[33]/TD", "header": "DESCRIPTION "}, {"text": "Changed Stats ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[33]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[33]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[33]/TD[2]/L", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[34]/TD", "header": "DESCRIPTION "}, {"text": "Replication Lag ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[34]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[34]/TD[2]", "header": "DESCRIPTION "}, {"text": "Replication lag behind master in seconds ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[34]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[35]/TD", "header": "DESCRIPTION "}, {"text": "Replication Clients Active ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[35]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[35]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of active clients connected and running replication ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[35]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[36]/TD", "header": "DESCRIPTION "}, {"text": "Replication Lag in Bytes ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[36]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 147, "type": "Table[29]/TR[36]/TD[2]", "header": "DESCRIPTION "}, {"text": "Size of lag per client ", "table_path": "", "page_number": 147, "type": "Table[29]/TR[36]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[37]/TD", "header": "DESCRIPTION "}, {"text": "Locked Tables ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[37]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[37]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of locks by table ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[37]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[38]/TD", "header": "DESCRIPTION "}, {"text": "Canceled Queries ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[38]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[38]/TD[2]", "header": "DESCRIPTION "}, {"text": "Based on conflicts the number: ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[38]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[38]/TD[2]/L", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[39]/TD", "header": "DESCRIPTION "}, {"text": "Conflicts ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[39]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[39]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of queries canceled due to conflicts with recovery in this database. (Conflicts occur only on standby servers) ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[39]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[40]/TD", "header": "DESCRIPTION "}, {"text": "Deadlocks ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[40]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[40]/TD[2]", "header": "DESCRIPTION "}, {"text": "Number of deadlocks detected in this database ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[40]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[41]/TD", "header": "DESCRIPTION "}, {"text": "Pg buffer cache hit rate ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[41]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[41]/TD[2]", "header": "DESCRIPTION "}, {"text": "Hits of the successful buffer cache and reads ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[41]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[42]/TD", "header": "DESCRIPTION "}, {"text": "Temp File ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[42]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[42]/TD[2]", "header": "DESCRIPTION "}, {"text": "Total amount of data written to temporary files by queries in this database. All temporary files are counted, regardless of why the temporary file was created, and regardless of the log_temp_files setting. ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[42]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[43]/TD", "header": "DESCRIPTION "}, {"text": "Cache Hit Rate ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[43]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[29]/TR[43]/TD[2]", "header": "DESCRIPTION "}, {"text": "Blocks hit / blocks read as a rate ", "table_path": "", "page_number": 148, "type": "Table[29]/TR[43]/TD[2]/P", "header": "DESCRIPTION "}]}, {"header": "HAProxy dashboard ", "content": [{"text": "", "table_path": "tables/fileoutpart250.xlsx", "page_number": 148, "type": "Table[30]", "header": "HAProxy dashboard "}]}, {"header": "", "content": []}, {"header": "NAME OF THE PANEL ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 148, "type": "Table[30]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "Front / Back ", "table_path": "", "page_number": 148, "type": "Table[30]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[30]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Many graphs have \"front\" (frontend) and \"back\" (backend) categories, where \"front\" is generally between both internal and external clients and haproxy, and \"back\" is between haproxy and backend apps. ", "table_path": "", "page_number": 148, "type": "Table[30]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[30]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Specific Frontends ", "table_path": "", "page_number": 148, "type": "Table[30]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 148, "type": "Table[30]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "Where specific frontends are distinguished in a \"front\" graph, \"https\" is for external clients (e.g. the UI) and \"http\" is for internal clients (app-to-app communications). ", "table_path": "", "page_number": 148, "type": "Table[30]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Specific Backends ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "Where specific backends are distinguished in a \"back\" graph, they are categorized by app interface (NBI) and read (GET/HEAD) vs. write (DELETE/PATCH/POST/PUT) request method type. The interface name and app names are often but not always correlated (for example, the \"tron\" app has a \"tron\" interface, whereas the \"bplice\" app has a \"licensing\" interface). ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Response Status ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Often response statuses are categorized by major category (1xx, 2xx, 3xx, 4xx, 5xx). Generally 1xx, 2xx, and 3xx can be considered successful. 4xx errors are the fault of the client (expired session, access to a deleted resource, etc.), and a large number of them may indicate a misconfigured client or a malicious attack. 5xx errors are the fault of the server, and a large number may indicate a misconfigured site, service downtime etc. that should be investigated ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Category \"Basic General Info\" ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Useful to monitor the overall health of the site. ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[7]/TD/L", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "Useful to distinguish problems and monitor use statistics by internal vs. external connection and by particular backend (app). ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "Category \"Times\" ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "Useful to monitor for performance issues due to resource exhaustion and bottlenecks, possibly causing denial-of-service and/or high latency. ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[9]/TD", "header": "DESCRIPTION "}, {"text": "Category \"Sessions\" ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[9]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[9]/TD[2]", "header": "DESCRIPTION "}, {"text": "Useful to monitor total number of users/sessions. ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[9]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[10]/TD", "header": "DESCRIPTION "}, {"text": "Categories \"Health and Weight\" and \"Status\" ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[10]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[10]/TD[2]", "header": "DESCRIPTION "}, {"text": "Useful to monitor HAproxy health checks for backends (apps) which implement them. ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[10]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[11]/TD", "header": "DESCRIPTION "}, {"text": "Category \"Process\" ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[11]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 149, "type": "Table[30]/TR[11]/TD[2]", "header": "DESCRIPTION "}, {"text": "Useful to monitor resources used by HAproxy itself. ", "table_path": "", "page_number": 149, "type": "Table[30]/TR[11]/TD[2]/P", "header": "DESCRIPTION "}]}, {"header": "Prometheus Alertmanager ", "content": [{"text": "Alertmanager for BP2 is part of the Prometheus monitoring system included in solution-bpmetrics. ", "table_path": "", "page_number": 150, "type": "P[369]", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "P[370]", "header": "Prometheus Alertmanager "}, {"text": "You can use the Alertmanager API method to raise alerts for BP2: ", "table_path": "", "page_number": 150, "type": "P[371]", "header": "Prometheus Alertmanager "}, {"text": "\u2022 ", "table_path": "", "page_number": 150, "type": "L[189]/LI/Lbl", "header": "Prometheus Alertmanager "}, {"text": "API", "table_path": "", "page_number": 150, "type": "L[189]/LI/LBody/Span", "header": "Prometheus Alertmanager "}, {"text": ": You can use the Alertmanager API to raise alerts for a given application/workflow. Alerts can be raised by using a POST to ", "table_path": "", "page_number": 150, "type": "L[189]/LI/LBody", "header": "Prometheus Alertmanager "}, {"text": "/alertmanager/api/v1/alerts", "table_path": "", "page_number": 150, "type": "L[189]/LI/LBody/Span[2]", "header": "Prometheus Alertmanager "}, {"text": ", including the following:", "table_path": "", "page_number": 150, "type": "L[189]/LI/LBody", "header": "Prometheus Alertmanager "}, {"text": "\u2028 ", "table_path": "", "page_number": 150, "type": "L[189]/LI/LBody/Span[3]", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "L[189]/LI/LBody", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "L[189]/LI", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "L[189]", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "figures/fileoutpart253.png", "page_number": 150, "type": "Figure[86]", "header": "Prometheus Alertmanager "}, {"text": "[  {    \"startsAt\": \"2022-06-27T15:05:54.820Z\",    \"endsAt\": \"2022-06-27T15:05:54.820Z\",    \"annotations\": {      \"additionalProp1\": \"string\",      \"additionalProp2\": \"string\",      \"additionalProp3\": \"string\"    },    \"labels\": {      \"additionalProp1\": \"string\",      \"additionalProp2\": \"string\",      \"additionalProp3\": \"string\"    },    \"generatorURL\": \"string\"  } ] ", "table_path": "", "page_number": 150, "type": "Figure[86]", "header": "Prometheus Alertmanager "}, {"text": "To access the Prometheus Alertmanager: ", "table_path": "", "page_number": 150, "type": "P[372]", "header": "Prometheus Alertmanager "}, {"text": "1. ", "table_path": "", "page_number": 150, "type": "L[190]/LI/Lbl", "header": "Prometheus Alertmanager "}, {"text": "Enter the following URL in the address bar of a browser: ", "table_path": "", "page_number": 150, "type": "L[190]/LI/LBody", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "L[190]/LI", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "L[190]", "header": "Prometheus Alertmanager "}, {"text": "https://<site-ip>/bpalerts/ ", "table_path": "", "page_number": 150, "type": "Aside[106]/P", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "figures/fileoutpart254.png", "page_number": 150, "type": "Figure[87]", "header": "Prometheus Alertmanager "}, {"text": "\uf05a ", "table_path": "", "page_number": 150, "type": "Figure[87]", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "P[373]", "header": "Prometheus Alertmanager "}, {"text": "2. ", "table_path": "", "page_number": 150, "type": "L[191]/LI/Lbl", "header": "Prometheus Alertmanager "}, {"text": "Alertmanager displays the notifications for set of rules: ", "table_path": "", "page_number": 150, "type": "L[191]/LI/LBody", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "L[191]/LI", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 150, "type": "L[191]", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "figures/fileoutpart255.png", "page_number": 151, "type": "Figure[88]", "header": "Prometheus Alertmanager "}, {"text": "", "table_path": "", "page_number": 151, "type": "Figure[88]", "header": "Prometheus Alertmanager "}]}, {"header": "Monitoring ", "content": []}, {"header": "Monitoring system performance ", "content": [{"text": "Use system monitoring to view the health status of your system using Nagios, an open source software tool used by Blue Planet software. ", "table_path": "", "page_number": 152, "type": "P[374]", "header": "Monitoring system performance "}, {"text": "This section includes: ", "table_path": "", "page_number": 152, "type": "P[375]", "header": "Monitoring system performance "}, {"text": "", "table_path": "", "page_number": 152, "type": "L[192]", "header": "Monitoring system performance "}]}, {"header": "Monitoring system faults ", "content": [{"text": "Nagios checks for system faults every five minutes; hence data lag may exist between what it reports and what the system is actually experiencing. ", "table_path": "", "page_number": 152, "type": "P[376]", "header": "Monitoring system faults "}, {"text": "", "table_path": "", "page_number": 152, "type": "L[193]", "header": "Monitoring system faults "}, {"text": "", "table_path": "figures/fileoutpart257.png", "page_number": 153, "type": "Figure[89]", "header": "Monitoring system faults "}]}, {"header": "Configuring monitoring options in Blue Planet ", "content": [{"text": "There are several configurable options available to the admin user in Blue Planet uaa software. These include tasks related to metrics and monitoring using the Nagios and Grafana tools. ", "table_path": "", "page_number": 154, "type": "P[377]", "header": "Configuring monitoring options in Blue Planet "}, {"text": "", "table_path": "", "page_number": 154, "type": "P[378]", "header": "Configuring monitoring options in Blue Planet "}, {"text": "This section includes information and procedures for the following topics: ", "table_path": "", "page_number": 154, "type": "P[379]", "header": "Configuring monitoring options in Blue Planet "}, {"text": "", "table_path": "", "page_number": 154, "type": "L[194]", "header": "Configuring monitoring options in Blue Planet "}]}, {"header": "About Nagios and Grafana tools ", "content": [{"text": "Nagios is an open source tool that Blue Planet uses to monitor system performance. Nagios monitors all Blue Planet microservices (called Hosts in the Nagios dashboard). It runs service checks on these installed microservices to provide status on containers, API, and other microservices. ", "table_path": "", "page_number": 154, "type": "P[380]", "header": "About Nagios and Grafana tools "}, {"text": "Blue Planet Nagios works out of the box and is used mainly by BP administrators, not users. No changes to the default settings are required when deployed in Blue Planet uaa. This ensures that Nagios is easy to use and avoids coding issues that can arise. Use caution when altering Nagios settings, because any changes not described in this guide are not supported. ", "table_path": "", "page_number": 154, "type": "P[381]", "header": "About Nagios and Grafana tools "}, {"text": "", "table_path": "", "page_number": 154, "type": "P[382]", "header": "About Nagios and Grafana tools "}]}, {"header": "Changing the default nagiosadmin and admin passwords ", "content": [{"text": "After Blue Planet is installed and Nagios is activated, Ciena recommends you change the default nagiosadmin and admin users password. ", "table_path": "", "page_number": 154, "type": "P[383]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "", "table_path": "figures/fileoutpart258.png", "page_number": 154, "type": "Figure[90]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "\uf05a ", "table_path": "", "page_number": 154, "type": "Figure[90]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "The password for the admin user defaults to adminpw. It is not tied to the admin user in the Blue Planet uaa UI. ", "table_path": "", "page_number": 154, "type": "P[384]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "To change the nagiosadmin and admin users password: ", "table_path": "", "page_number": 155, "type": "P[385]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[195]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "cd /etc/bp2/nagios ", "table_path": "", "page_number": 155, "type": "Aside[107]/P", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "htpasswd htpasswd.users nagiosadmin", "table_path": "", "page_number": 155, "type": "Aside[107]/P[2]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "   Enter the new password.", "table_path": "", "page_number": 155, "type": "Aside[107]/P[3]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "   Confirm the new password. ", "table_path": "", "page_number": 155, "type": "Aside[107]/P[4]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "htpasswd htpasswd.users admin", "table_path": "", "page_number": 155, "type": "Aside[107]/P[5]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "   Enter the new password.", "table_path": "", "page_number": 155, "type": "Aside[107]/P[6]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "   Confirm the new password. ", "table_path": "", "page_number": 155, "type": "Aside[107]/P[7]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "exit ", "table_path": "", "page_number": 155, "type": "Aside[107]/P[8]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "3. ", "table_path": "", "page_number": 155, "type": "L[196]/LI/Lbl", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "If this is a cluster environment, you must prograte the Blue Planet configs to the other servers by: ", "table_path": "", "page_number": 155, "type": "L[196]/LI/LBody", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[196]/LI", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[196]", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "sudo bp2-site sync-site-config ", "table_path": "", "page_number": 155, "type": "Aside[108]/P", "header": "Changing the default nagiosadmin and admin passwords "}, {"text": "The system updates the password for the nagiosadmin and admin users. You do not need to push any configuration changes. ", "table_path": "", "page_number": 155, "type": "P[386]", "header": "Changing the default nagiosadmin and admin passwords "}]}, {"header": "Configuring SNMP notifications in Nagios ", "content": [{"text": "Nagios can send SNMP traps to other management hosts. By default, this feature is disabled on Blue Planet Nagios. Use this procedure to enable and configure Nagios SNMP notifications to your external host. ", "table_path": "", "page_number": 155, "type": "P[387]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "1. ", "table_path": "", "page_number": 155, "type": "L[197]/LI/Lbl", "header": "Configuring SNMP notifications in Nagios "}, {"text": "Enable SNMP notifications in the ", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/ParagraphSpan", "header": "Configuring SNMP notifications in Nagios "}, {"text": "contacts.cfg", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/ParagraphSpan/Span", "header": "Configuring SNMP notifications in Nagios "}, {"text": " file. ", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/ParagraphSpan", "header": "Configuring SNMP notifications in Nagios "}, {"text": "When Nagios boots up for the first time, default Nagios configuration files are deployed to /etc/bp2/nagios. ", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "If you accidentally misconfigure these configuration files or need to restore the ", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "\uf0eb ", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/L/LI/LBody/Span", "header": "Configuring SNMP notifications in Nagios "}, {"text": "default files, you can delete the current file and restart Nagios. After Nagios restarts, if the file does not exist, Nagios restores the default file. ", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/L/LI", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody/L", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[197]/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[197]/LI", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[197]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "a. ", "table_path": "", "page_number": 155, "type": "L[198]/LI/Lbl", "header": "Configuring SNMP notifications in Nagios "}, {"text": "To enable SNMP to send service trap notifications in contacts.cfg, change to the /etc/bp2/nagios/objects directory and edit the file as follows: ", "table_path": "", "page_number": 155, "type": "L[198]/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[198]/LI", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 155, "type": "L[198]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "cd /etc/bp2/nagios/objects ", "table_path": "", "page_number": 156, "type": "Aside[109]/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "vi contacts.cfg ", "table_path": "", "page_number": 156, "type": "Aside[109]/P[2]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "P[388]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "Original file content (around line 38) ", "table_path": "", "page_number": 156, "type": "P[389]", "header": "Configuring SNMP notifications in Nagios "}, {"text": ";service_notification_commands  ", "table_path": "", "page_number": 156, "type": "Aside[110]/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "notify-service-by-email,send-service-trap ;host_notification_commands  ", "table_path": "", "page_number": 156, "type": "Aside[110]/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "notify-host-by-email,send-host-trap service_notification_commands  ", "table_path": "", "page_number": 156, "type": "Aside[110]/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "notify-service-by-email host_notification_commands  ", "table_path": "", "page_number": 156, "type": "Aside[110]/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "notify-host-by-email ", "table_path": "", "page_number": 156, "type": "Aside[110]/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "Aside[110]/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "Aside[110]/L/LI", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "Aside[110]/L", "header": "Configuring SNMP notifications in Nagios "}, {"text": "Updated file content after revisions are complete ", "table_path": "", "page_number": 156, "type": "P[390]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "tables/fileoutpart260.xlsx", "page_number": 156, "type": "Table[31]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "Table[31]/TR/TD", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "Table[31]/TR/TD/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "Table[31]/TR/TD[2]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "Table[31]/TR/TD[2]/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "2. ", "table_path": "", "page_number": 156, "type": "L[199]/LI/Lbl", "header": "Configuring SNMP notifications in Nagios "}, {"text": "Set the IP address of your trap receiver in the ", "table_path": "", "page_number": 156, "type": "L[199]/LI/LBody/ParagraphSpan", "header": "Configuring SNMP notifications in Nagios "}, {"text": "commands.cfg", "table_path": "", "page_number": 156, "type": "L[199]/LI/LBody/ParagraphSpan/Span", "header": "Configuring SNMP notifications in Nagios "}, {"text": " file. ", "table_path": "", "page_number": 156, "type": "L[199]/LI/LBody/ParagraphSpan", "header": "Configuring SNMP notifications in Nagios "}, {"text": "a. ", "table_path": "", "page_number": 156, "type": "L[199]/LI/LBody/L/LI/Lbl", "header": "Configuring SNMP notifications in Nagios "}, {"text": "Enter: ", "table_path": "", "page_number": 156, "type": "L[199]/LI/LBody/L/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[199]/LI/LBody/L/LI", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[199]/LI/LBody/L", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[199]/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[199]/LI", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[199]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "cd /usr/local/nagios/etc/objects/ ", "table_path": "", "page_number": 156, "type": "Aside[111]/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "vi commands.cfg ", "table_path": "", "page_number": 156, "type": "Aside[111]/P[2]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "b. ", "table_path": "", "page_number": 156, "type": "L[200]/LI/Lbl", "header": "Configuring SNMP notifications in Nagios "}, {"text": "Change the default IP address to your trap receiver IP as follows: ", "table_path": "", "page_number": 156, "type": "L[200]/LI/LBody/ParagraphSpan", "header": "Configuring SNMP notifications in Nagios "}, {"text": "Around line 39 ", "table_path": "", "page_number": 156, "type": "L[200]/LI/LBody/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "In the following example, the trap receiver address IP is ", "table_path": "", "page_number": 156, "type": "L[200]/LI/LBody/P[2]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "10.15.2.178", "table_path": "", "page_number": 156, "type": "L[200]/LI/LBody/P[2]/Span", "header": "Configuring SNMP notifications in Nagios "}, {"text": ": ", "table_path": "", "page_number": 156, "type": "L[200]/LI/LBody/P[2]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[200]/LI/LBody/P[2]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "figures/fileoutpart262.png", "page_number": 156, "type": "L[200]/LI/LBody/Figure", "header": "Configuring SNMP notifications in Nagios "}, {"text": "define command{ command_name send-service-trap command_line /usr/local/bin/send-service-trap 10.15.2.178 public \"$HOSTNAME$\" \"$SERVICEDESC$\" $SERVICESTATEID$ \"$SERVICEOUTPUT$\" } # 'send-host-trap' command definition define command{ command_name send-host-trap command_line /usr/local/bin/send-host-trap 10.15.2.178  public \"$HOSTNAME$\" $HOSTSTATEID$ \"$HOSTOUTPUT$\" } ", "table_path": "", "page_number": 156, "type": "L[200]/LI/LBody/Figure", "header": "Configuring SNMP notifications in Nagios "}, {"text": "root@<bp-server-ip>:~# bp2-site sync-site-config ", "table_path": "", "page_number": 157, "type": "L[200]/LI/LBody/P[3]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[200]/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[200]/LI", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 156, "type": "L[200]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "3. If you have a cluster environment, propagate the Blue Planet configuration files to the other servers. ", "table_path": "", "page_number": 156, "type": "Footnote", "header": "Configuring SNMP notifications in Nagios "}, {"text": "4. ", "table_path": "", "page_number": 157, "type": "L[201]/LI/Lbl", "header": "Configuring SNMP notifications in Nagios "}, {"text": "Restart the Nagios app. The following example restarts the nagios app in extended plaform solution using ", "table_path": "", "page_number": 157, "type": "L[201]/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "solman", "table_path": "", "page_number": 157, "type": "L[201]/LI/LBody/Span", "header": "Configuring SNMP notifications in Nagios "}, {"text": ". Replace this version with the version you are running. ", "table_path": "", "page_number": 157, "type": "L[201]/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 157, "type": "L[201]/LI/LBody", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 157, "type": "L[201]/LI", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 157, "type": "L[201]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "$ sudo solman ", "table_path": "", "page_number": 157, "type": "Aside[112]/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "(Cmd) solution_app_restart artifactory.ciena.com.blueplanet.xp:<version> nagios ", "table_path": "", "page_number": 157, "type": "Aside[112]/P[2]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 157, "type": "L[202]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "", "page_number": 157, "type": "Aside[113]/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "c. Synchronize site data and restart the Nagios app. ", "table_path": "", "page_number": 158, "type": "P[391]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "root@<bp-server-ip>:~# bp2-site sync-site-config ", "table_path": "", "page_number": 158, "type": "Aside[114]/P", "header": "Configuring SNMP notifications in Nagios "}, {"text": "", "table_path": "figures/fileoutpart264.png", "page_number": 158, "type": "Figure[91]", "header": "Configuring SNMP notifications in Nagios "}, {"text": "root@<bp-server-ip>:~# solman (Cmd) solution_app_restart artifactory.ciena.com.blueplanet.xp:<version> nagios ", "table_path": "", "page_number": 158, "type": "Figure[91]", "header": "Configuring SNMP notifications in Nagios "}]}, {"header": "Sending URL NBI checks to Nagios ", "content": [{"text": "This topic is for developer use only. ", "table_path": "", "page_number": 158, "type": "P[392]", "header": "Sending URL NBI checks to Nagios "}, {"text": "", "table_path": "", "page_number": 158, "type": "P[393]", "header": "Sending URL NBI checks to Nagios "}, {"text": "To allow Nagios to perform the check, you must provide specific data including the URL and a description. Nagios then performs an HTTP GET against the URL periodically. microservices return a status of 200 OK along with a string with additional details when the URL is reachable. If there is a problem, the microservice returns a status of 500 with a detailed error message in the body. ", "table_path": "", "page_number": 158, "type": "P[394]", "header": "Sending URL NBI checks to Nagios "}, {"text": "", "table_path": "", "page_number": 158, "type": "P[395]", "header": "Sending URL NBI checks to Nagios "}, {"text": "Table 6. NBI nagioscheck fields ", "table_path": "", "page_number": 158, "type": "P[396]", "header": "Sending URL NBI checks to Nagios "}, {"text": "", "table_path": "tables/fileoutpart265.xlsx", "page_number": 158, "type": "Table[32]", "header": "Sending URL NBI checks to Nagios "}]}, {"header": "", "content": []}, {"header": "REQUIRED FIELDS ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": []}, {"header": "", "content": []}, {"header": "REQUIRED ATTRIBUTES ", "content": []}, {"header": "", "content": []}, {"header": "NBI COMMAND OPTIONS ", "content": [{"text": "", "table_path": "", "page_number": 158, "type": "Table[32]/TR[2]/TD", "header": "NBI COMMAND OPTIONS "}, {"text": "ip ", "table_path": "", "page_number": 158, "type": "Table[32]/TR[2]/TD/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 158, "type": "Table[32]/TR[2]/TD[2]", "header": "NBI COMMAND OPTIONS "}, {"text": "Container IP address, use the environment variable ", "table_path": "", "page_number": 158, "type": "Table[32]/TR[2]/TD[2]/P", "header": "NBI COMMAND OPTIONS "}, {"text": "BP_HOOK_CONTAINER_ IP ", "table_path": "", "page_number": 158, "type": "Table[32]/TR[2]/TD[2]/P[2]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[32]/TR[2]/TD[3]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[32]/TR[2]/TD[4]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 158, "type": "Table[32]/TR[3]/TD", "header": "NBI COMMAND OPTIONS "}, {"text": "type ", "table_path": "", "page_number": 158, "type": "Table[32]/TR[3]/TD/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 158, "type": "Table[32]/TR[3]/TD[2]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 158, "type": "Table[32]/TR[3]/TD[2]/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[32]/TR[3]/TD[3]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[32]/TR[3]/TD[4]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD", "header": "NBI COMMAND OPTIONS "}, {"text": "checks ", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[2]", "header": "NBI COMMAND OPTIONS "}, {"text": "A list of checks ", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[2]/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[3]", "header": "NBI COMMAND OPTIONS "}, {"text": "command ", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[3]/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[4]", "header": "NBI COMMAND OPTIONS "}, {"text": "Choose one: ", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[4]/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[4]/P[2]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[4]/P[3]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[4]/TD[4]/P[4]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[32]/TR[5]/TD", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[5]/TD[2]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[5]/TD[2]/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[32]/TR[5]/TD[3]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[32]/TR[6]/TD", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[6]/TD[2]", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": 159, "type": "Table[32]/TR[6]/TD[2]/P", "header": "NBI COMMAND OPTIONS "}, {"text": "", "table_path": "", "page_number": -1, "type": "Table[32]/TR[6]/TD[3]", "header": "NBI COMMAND OPTIONS "}]}, {"header": "URL NBI Nagios checks example ", "content": [{"text": "import os ", "table_path": "", "page_number": 160, "type": "Aside[115]/P", "header": "URL NBI Nagios checks example "}, {"text": "from bp2hookutil import hookresponse ", "table_path": "", "page_number": 160, "type": "Aside[115]/P[2]", "header": "URL NBI Nagios checks example "}, {"text": "", "table_path": "figures/fileoutpart268.png", "page_number": 160, "type": "Figure[92]", "header": "URL NBI Nagios checks example "}, {"text": "def publish_nagios_checks(): Publish nagios checks data = { 'ip': os.environ.get('BP_HOOK_CONTAINER_IP', ''), 'type': 'nagioscheck', 'checks': [ {'command': 'check_https_haproxy', 'args': '/thirdpartycheck/', 'description': 'check login' }, {'command': 'check_https_haproxy', 'args': '/thirdpartycheck/api/v2/ping', 'description': 'check ping response' }, {'command': 'check_http', 'args': '-u /thirdpartycheck/api/v2/checksomething -p 5000', 'description': 'check response on port 5000' } ] } hookresponse.interface_join('nagiosalert', data) if __name__ == '__main__': publish_nagios_checks() ", "table_path": "", "page_number": 160, "type": "Figure[92]", "header": "URL NBI Nagios checks example "}]}, {"header": "Configuring NFV MANO retry settings ", "content": [{"text": "You can configure NFV MANO retry settings by patching the Mano_Profile resource. This topic provides information on where to get more information about this setting. ", "table_path": "", "page_number": 160, "type": "P[397]", "header": "Configuring NFV MANO retry settings "}, {"text": "If you want to modify this option, we recommend you work with Ciena Professional Services or Customer Support to help resolve any NFV issues. They will assist you to change the NFV MANO retries settings. ", "table_path": "", "page_number": 160, "type": "P[398]", "header": "Configuring NFV MANO retry settings "}, {"text": "Any configuration change to the retries option will impact REST queries between the NFV MANO application and <solution name> during LCM/custom operations such as Instantiate, Update, ScaleVnfToLevel, and Terminate. ", "table_path": "", "page_number": 160, "type": "P[399]", "header": "Configuring NFV MANO retry settings "}, {"text": "", "table_path": "", "page_number": 160, "type": "P[400]", "header": "Configuring NFV MANO retry settings "}]}, {"header": "Configuring email alerts on Nagios ", "content": [{"text": "This section covers: ", "table_path": "", "page_number": 161, "type": "P[401]", "header": "Configuring email alerts on Nagios "}, {"text": "", "table_path": "", "page_number": 161, "type": "L[203]", "header": "Configuring email alerts on Nagios "}]}, {"header": "Configuring the email reply ", "content": [{"text": "Postfix is a popular open-source Mail Transfer Agent (MTA) that can be used to route and deliver email on a Linux system. Nagios sends email alert notifications through Postfix. During the initial boot up of Nagios, default Postfix files are created on the host server at /etc/bp2/nagios/postfix. Users can then modify the Postfix configuration files to route Nagios email alerts through their own email exchange. ", "table_path": "", "page_number": 161, "type": "P[402]", "header": "Configuring the email reply "}, {"text": "Ensure that the following conditions are met: ", "table_path": "", "page_number": 161, "type": "P[403]", "header": "Configuring the email reply "}, {"text": "", "table_path": "", "page_number": 161, "type": "L[204]", "header": "Configuring the email reply "}, {"text": "", "table_path": "figures/fileoutpart270.png", "page_number": 161, "type": "Figure[93]", "header": "Configuring the email reply "}, {"text": "\uf05a ", "table_path": "", "page_number": 161, "type": "Figure[93]", "header": "Configuring the email reply "}, {"text": "Once Postfix is configured, Nagios sends out any emails in the Postfix queue buffer. This means that you may receive emails. ", "table_path": "", "page_number": 161, "type": "P[404]", "header": "Configuring the email reply "}, {"text": "To configure the Postfix: ", "table_path": "", "page_number": 161, "type": "P[405]", "header": "Configuring the email reply "}, {"text": "", "table_path": "", "page_number": 161, "type": "L[205]", "header": "Configuring the email reply "}, {"text": "", "table_path": "figures/fileoutpart272.png", "page_number": 162, "type": "Aside[116]/Figure", "header": "Configuring the email reply "}, {"text": "bpadmin@localhost:~# sudo cp /etc/bp2/nagios/postfix/sasl_passwd.template /etc/bp2/nagios/postfix/sasl_passwd ", "table_path": "", "page_number": 162, "type": "Aside[116]/Figure", "header": "Configuring the email reply "}, {"text": "# edit /etc/bp2/nagios/postfix/sasl_passwd ", "table_path": "", "page_number": 162, "type": "Aside[116]/P", "header": "Configuring the email reply "}, {"text": "", "table_path": "", "page_number": 162, "type": "L[206]", "header": "Configuring the email reply "}, {"text": "", "table_path": "figures/fileoutpart274.png", "page_number": 162, "type": "Figure[94]", "header": "Configuring the email reply "}, {"text": "bpadmin@localhost:~# sudo bp2-site sync-site-config bpadmin@localhost:$ sudo solman Connecting smcli to solutionmanager_1 (Cmd) solution_app_restart <xp solution> nagios ", "table_path": "", "page_number": 162, "type": "Figure[94]", "header": "Configuring the email reply "}, {"text": "", "table_path": "", "page_number": 162, "type": "P[406]", "header": "Configuring the email reply "}]}, {"header": "Testing ", "content": [{"text": "To verify that the Postfix configurations are correct: ", "table_path": "", "page_number": 162, "type": "P[407]", "header": "Testing "}, {"text": "If your configurations are correct, generate a test mail from Nagios to your mailbox. ", "table_path": "", "page_number": 162, "type": "P[408]", "header": "Testing "}, {"text": "", "table_path": "figures/fileoutpart275.png", "page_number": 163, "type": "Figure[95]", "header": "Testing "}, {"text": "bpadmin@localhost:~$ solman Connecting smcli to solutionmanager_1 (Cmd) enter_container bp-nagios_<version> root@905b85ffa9b6:/bp2/src# echo \"Test mail from postfix\" | mail.mailutils -s\"Test Postfix\" testuser@company.com ", "table_path": "", "page_number": 163, "type": "Figure[95]", "header": "Testing "}, {"text": "Sometimes previous Nagios configurations are outdated. If Nagios failed to start, check your configuration files: ", "table_path": "", "page_number": 163, "type": "P[409]", "header": "Testing "}, {"text": "", "table_path": "", "page_number": 163, "type": "L[207]", "header": "Testing "}, {"text": "bpadmin@localhost:~$ sudo rm -rf /etc/bp2/nagios bpadmin@localhost:$ sudo solman Connecting smcli to solutionmanager_1 ", "table_path": "", "page_number": 163, "type": "Aside[117]/P", "header": "Testing "}, {"text": "(Cmd) solution_app_restart <xp solution> nagios ", "table_path": "", "page_number": 163, "type": "Aside[117]/P[2]", "header": "Testing "}, {"text": "Nagios re-creates default configuration files up on restart. ", "table_path": "", "page_number": 163, "type": "P[410]", "header": "Testing "}]}, {"header": "Configuring the user email address ", "content": [{"text": "", "table_path": "", "page_number": 163, "type": "P[411]", "header": "Configuring the user email address "}, {"text": "", "table_path": "figures/fileoutpart276.png", "page_number": 163, "type": "Figure[96]", "header": "Configuring the user email address "}, {"text": "\uf05a ", "table_path": "", "page_number": 163, "type": "Figure[96]", "header": "Configuring the user email address "}, {"text": "When Nagios boots up for the first time, default Nagios configuration files will be deployed to /etc/bp2/nagios. If these files are misconfigured, or a user needs to restore the default files, delete the existing files and restart Nagios. If any of the files do not exist, Nagios will restore the defaults. ", "table_path": "", "page_number": 163, "type": "P[412]", "header": "Configuring the user email address "}, {"text": "To configure the user email address: ", "table_path": "", "page_number": 163, "type": "P[413]", "header": "Configuring the user email address "}]}, {"header": "", "content": [{"text": "cd /etc/bp2/nagios/objects ", "table_path": "", "page_number": 163, "type": "Aside[118]/P", "header": ""}, {"text": "2. ", "table_path": "", "page_number": 163, "type": "L[208]/LI/Lbl", "header": ""}, {"text": "Edit ", "table_path": "", "page_number": 163, "type": "L[208]/LI/LBody/ParagraphSpan", "header": ""}, {"text": "contacts.cfg", "table_path": "", "page_number": 163, "type": "L[208]/LI/LBody/ParagraphSpan/Span", "header": ""}, {"text": " and enable email notifications by uncommenting the appropriate lines and commenting the original lines. Use semicolons ", "table_path": "", "page_number": 163, "type": "L[208]/LI/LBody/ParagraphSpan", "header": ""}, {"text": ";", "table_path": "", "page_number": 163, "type": "L[208]/LI/LBody/ParagraphSpan/Span[2]", "header": ""}, {"text": " to make comments in Nagios. ", "table_path": "", "page_number": 163, "type": "L[208]/LI/LBody/ParagraphSpan", "header": ""}, {"text": "By default, uncomment email notifications. ", "table_path": "", "page_number": 163, "type": "L[208]/LI/LBody/P", "header": ""}, {"text": "", "table_path": "tables/fileoutpart277.xlsx", "page_number": 164, "type": "L[208]/LI/LBody/Table", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD", "header": ""}, {"text": ";service_notification_commands  ", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD/P", "header": ""}, {"text": ";host_notification_commands  ", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD/P", "header": ""}, {"text": "service_notification_commands  ", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD[2]", "header": ""}, {"text": "notify-service-by-email,send-service-trap ", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD[2]/P", "header": ""}, {"text": "notify-host-by-email,send-host-trap ", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD[2]/P", "header": ""}, {"text": "notify-service-by-email ", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD[2]/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR/TD[2]/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR[2]/TD", "header": ""}, {"text": "host_notification_commands  ", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR[2]/TD/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR[2]/TD[2]", "header": ""}, {"text": "notify-host-by-email ", "table_path": "", "page_number": 164, "type": "L[208]/LI/LBody/Table/TR[2]/TD[2]/P", "header": ""}, {"text": "", "table_path": "", "page_number": 163, "type": "L[208]/LI/LBody", "header": ""}, {"text": "", "table_path": "", "page_number": 163, "type": "L[208]/LI", "header": ""}, {"text": "", "table_path": "", "page_number": 163, "type": "L[208]", "header": ""}]}, {"header": "", "content": [{"text": "To setup multiple emails, add a comma between email addresses. ", "table_path": "", "page_number": 164, "type": "P[414]", "header": ""}, {"text": "", "table_path": "tables/fileoutpart279.xlsx", "page_number": 164, "type": "Table[33]", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR/TD", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR/TD/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR/TD[2]", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR/TD[2]/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR[2]/TD", "header": ""}, {"text": "service_notification_commands  ", "table_path": "", "page_number": 164, "type": "Table[33]/TR[2]/TD/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR[2]/TD[2]", "header": ""}, {"text": "notify-service-by-email ", "table_path": "", "page_number": 164, "type": "Table[33]/TR[2]/TD[2]/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR[3]/TD", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR[3]/TD/P", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR[3]/TD[2]", "header": ""}, {"text": "", "table_path": "", "page_number": 164, "type": "Table[33]/TR[3]/TD[2]/P", "header": ""}]}, {"header": "", "content": [{"text": "bpadmin@localhost:~# sudo bp2-site sync-site-config bpadmin@localhost:$ sudo solman ", "table_path": "", "page_number": 164, "type": "Aside[119]/P", "header": ""}, {"text": "Connecting smcli to solutionmanager_1 ", "table_path": "", "page_number": 164, "type": "Aside[119]/P[2]", "header": ""}, {"text": "(Cmd) solution_app_restart <xp solution> nagios ", "table_path": "", "page_number": 164, "type": "Aside[119]/P[3]", "header": ""}]}, {"header": "Disabling Nagios alerts ", "content": [{"text": "To disable Nagios notifications, use the following procedure. ", "table_path": "", "page_number": 164, "type": "P[415]", "header": "Disabling Nagios alerts "}, {"text": "You may want to perform these steps before setting up Nagios email notification alerts. ", "table_path": "", "page_number": 164, "type": "P[416]", "header": "Disabling Nagios alerts "}, {"text": "To disable Nagios alerts: ", "table_path": "", "page_number": 164, "type": "P[417]", "header": "Disabling Nagios alerts "}, {"text": "", "table_path": "", "page_number": 164, "type": "L[209]", "header": "Disabling Nagios alerts "}]}, {"header": "Swagger UI ", "content": []}, {"header": "Developer support ", "content": [{"text": "If you are a client-side developer interested in integrating additional functionality using the open REST APIs, you can use the Swagger UI to view the list of resources for the Market and other components. Your list of available components in the REST API depends on your installed solutions. ", "table_path": "", "page_number": 166, "type": "P[418]", "header": "Developer support "}, {"text": "", "table_path": "figures/fileoutpart283.png", "page_number": 166, "type": "Figure[97]", "header": "Developer support "}, {"text": "The following developer documentation is available from the Blue Planet dashboard: ", "table_path": "", "page_number": 166, "type": "P[419]", "header": "Developer support "}, {"text": "", "table_path": "", "page_number": 166, "type": "L[210]", "header": "Developer support "}]}, {"header": "Systems Backups ", "content": [{"text": "This section describes the various maintenance tasks you may need to perform on the Blue Planet site. ", "table_path": "", "page_number": 168, "type": "P[420]", "header": "Systems Backups "}, {"text": "", "table_path": "", "page_number": 168, "type": "L[211]", "header": "Systems Backups "}, {"text": "", "table_path": "", "page_number": 168, "type": "P[421]", "header": "Systems Backups "}, {"text": "", "table_path": "figures/fileoutpart284.png", "page_number": 168, "type": "Figure[98]", "header": "Systems Backups "}, {"text": "\uf05a ", "table_path": "", "page_number": 168, "type": "Figure[98]", "header": "Systems Backups "}, {"text": "The bpuser and bpadmin profiles have administrator privileges. ", "table_path": "", "page_number": 168, "type": "P[422]", "header": "Systems Backups "}]}, {"header": "Backing up and restoring software ", "content": [{"text": "This topic describes the various methods to backup and restore the sites having the software installed. ", "table_path": "", "page_number": 169, "type": "P[423]", "header": "Backing up and restoring software "}, {"text": "Blue Planet backup behavior follows specific guidelines and support varies at the solution/application level. ", "table_path": "", "page_number": 169, "type": "P[424]", "header": "Backing up and restoring software "}, {"text": "This section includes: ", "table_path": "", "page_number": 169, "type": "P[425]", "header": "Backing up and restoring software "}, {"text": "", "table_path": "", "page_number": 169, "type": "L[212]", "header": "Backing up and restoring software "}, {"text": "If you are restoring and upgrading to a later uaa release, see the upgrade documentation for details. ", "table_path": "", "page_number": 169, "type": "P[426]", "header": "Backing up and restoring software "}]}, {"header": "About backups ", "content": [{"text": "This topic provides guidelines and details about the backup solution. ", "table_path": "", "page_number": 169, "type": "P[427]", "header": "About backups "}, {"text": "", "table_path": "", "page_number": 169, "type": "L[213]", "header": "About backups "}]}, {"header": "Performing scheduled backup tasks in the UI ", "content": [{"text": "", "table_path": "figures/fileoutpart287.png", "page_number": 171, "type": "Figure[99]", "header": "Performing scheduled backup tasks in the UI "}, {"text": "\uf05a ", "table_path": "", "page_number": 171, "type": "Figure[99]", "header": "Performing scheduled backup tasks in the UI "}, {"text": "The following section is currently not supported in UAA. ", "table_path": "", "page_number": 171, "type": "P[428]", "header": "Performing scheduled backup tasks in the UI "}, {"text": "This topic describes the various backup tasks you can complete in the UI. This solution provides only site backup. ", "table_path": "", "page_number": 171, "type": "P[429]", "header": "Performing scheduled backup tasks in the UI "}, {"text": "", "table_path": "", "page_number": 171, "type": "P[430]", "header": "Performing scheduled backup tasks in the UI "}, {"text": "", "table_path": "figures/fileoutpart288.png", "page_number": 172, "type": "Figure[100]", "header": "Performing scheduled backup tasks in the UI "}, {"text": "", "table_path": "tables/fileoutpart289.xlsx", "page_number": 172, "type": "Table[34]", "header": "Performing scheduled backup tasks in the UI "}]}, {"header": "", "content": []}, {"header": "TASK ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": [{"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[2]/TD", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[2]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[2]/TD[2]", "header": "DESCRIPTION "}, {"text": "Before deploying the backup solution: ", "table_path": "", "page_number": 172, "type": "Table[34]/TR[2]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[2]/TD[2]/L", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[3]/TD", "header": "DESCRIPTION "}, {"text": "Scheduling backups ", "table_path": "", "page_number": 172, "type": "Table[34]/TR[3]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[3]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[3]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[4]/TD", "header": "DESCRIPTION "}, {"text": "Deleting backup schedules ", "table_path": "", "page_number": 172, "type": "Table[34]/TR[4]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[4]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[4]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[5]/TD", "header": "DESCRIPTION "}, {"text": "Editing backup schedules ", "table_path": "", "page_number": 172, "type": "Table[34]/TR[5]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[5]/TD[2]", "header": "DESCRIPTION "}, {"text": "Modify all options including name, site, frequency options, and start time. ", "table_path": "", "page_number": 172, "type": "Table[34]/TR[5]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[6]/TD", "header": "DESCRIPTION "}, {"text": "Viewing backup schedule status ", "table_path": "", "page_number": 172, "type": "Table[34]/TR[6]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[6]/TD[2]", "header": "DESCRIPTION "}, {"text": "Displays completed backup schedule creation and associated backups via links. ", "table_path": "", "page_number": 172, "type": "Table[34]/TR[6]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[7]/TD", "header": "DESCRIPTION "}, {"text": "Changing backup settings ", "table_path": "", "page_number": 172, "type": "Table[34]/TR[7]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[7]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 172, "type": "Table[34]/TR[7]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 173, "type": "Table[34]/TR[8]/TD", "header": "DESCRIPTION "}, {"text": "Viewing a list of previous backups ", "table_path": "", "page_number": 173, "type": "Table[34]/TR[8]/TD/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 173, "type": "Table[34]/TR[8]/TD[2]", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 173, "type": "Table[34]/TR[8]/TD[2]/P", "header": "DESCRIPTION "}, {"text": "", "table_path": "", "page_number": 173, "type": "P[431]", "header": "DESCRIPTION "}]}, {"header": "Creating scheduled backups ", "content": [{"text": "To create a scheduled backup: ", "table_path": "", "page_number": 173, "type": "P[432]", "header": "Creating scheduled backups "}, {"text": "", "table_path": "", "page_number": 173, "type": "L[214]", "header": "Creating scheduled backups "}, {"text": "", "table_path": "", "page_number": 174, "type": "P[433]", "header": "Creating scheduled backups "}, {"text": "", "table_path": "", "page_number": 174, "type": "P[434]", "header": "Creating scheduled backups "}]}, {"header": "Changing backup Settings ", "content": [{"text": "To modify backup settings: ", "table_path": "", "page_number": 174, "type": "P[435]", "header": "Changing backup Settings "}, {"text": "", "table_path": "", "page_number": 174, "type": "L[215]", "header": "Changing backup Settings "}, {"text": "", "table_path": "", "page_number": 174, "type": "P[436]", "header": "Changing backup Settings "}]}, {"header": "Setting up an archive directory for off-site storage ", "content": [{"text": "", "table_path": "figures/fileoutpart294.png", "page_number": 174, "type": "Figure[101]", "header": "Setting up an archive directory for off-site storage "}, {"text": "\uf05a ", "table_path": "", "page_number": 174, "type": "Figure[101]", "header": "Setting up an archive directory for off-site storage "}, {"text": "This part is currently not supported in UAA. ", "table_path": "", "page_number": 174, "type": "P[437]", "header": "Setting up an archive directory for off-site storage "}, {"text": "", "table_path": "", "page_number": 174, "type": "P[438]", "header": "Setting up an archive directory for off-site storage "}, {"text": "", "table_path": "figures/fileoutpart295.png", "page_number": 174, "type": "Figure[102]", "header": "Setting up an archive directory for off-site storage "}, {"text": "\uf06d ", "table_path": "", "page_number": 174, "type": "Figure[102]", "header": "Setting up an archive directory for off-site storage "}, {"text": "Before you deploy the backup solution, if you want to store your backup in an archive directory offsite, you must complete these steps. ", "table_path": "", "page_number": 174, "type": "P[439]", "header": "Setting up an archive directory for off-site storage "}, {"text": "", "table_path": "", "page_number": 174, "type": "L[216]", "header": "Setting up an archive directory for off-site storage "}, {"text": "", "table_path": "", "page_number": 175, "type": "P[440]", "header": "Setting up an archive directory for off-site storage "}]}, {"header": "Creating a site backup using the Solution Manager ", "content": [{"text": "To create the backup of your solution using the Solution Manager: ", "table_path": "", "page_number": 175, "type": "P[441]", "header": "Creating a site backup using the Solution Manager "}, {"text": "", "table_path": "", "page_number": 175, "type": "L[217]", "header": "Creating a site backup using the Solution Manager "}, {"text": " $ sudo solman", "table_path": "", "page_number": 175, "type": "Aside[120]/P", "header": "Creating a site backup using the Solution Manager "}, {"text": " Connecting smcli to solutionmanager_0 ", "table_path": "", "page_number": 175, "type": "Aside[120]/P[2]", "header": "Creating a site backup using the Solution Manager "}, {"text": "(Cmd) site_backup --label <snapshot_name> ", "table_path": "", "page_number": 175, "type": "Aside[120]/P[3]", "header": "Creating a site backup using the Solution Manager "}, {"text": "", "table_path": "", "page_number": 175, "type": "L[218]", "header": "Creating a site backup using the Solution Manager "}, {"text": "(Cmd)site_backup --label backupsitetest ", "table_path": "", "page_number": 175, "type": "Aside[121]/P", "header": "Creating a site backup using the Solution Manager "}, {"text": "Backing up site ", "table_path": "", "page_number": 175, "type": "Aside[121]/P[2]", "header": "Creating a site backup using the Solution Manager "}, {"text": "site_backupsitetest_2020-10-21T07:00:47Z ", "table_path": "", "page_number": 175, "type": "Aside[121]/P[3]", "header": "Creating a site backup using the Solution Manager "}, {"text": "3. ", "table_path": "", "page_number": 175, "type": "L[219]/LI/Lbl", "header": "Creating a site backup using the Solution Manager "}, {"text": "Record the snapshot name to use when restoring the site. The snapshot name includes the label assigned during the backup: ", "table_path": "", "page_number": 175, "type": "L[219]/LI/LBody", "header": "Creating a site backup using the Solution Manager "}, {"text": "", "table_path": "", "page_number": 175, "type": "L[219]/LI", "header": "Creating a site backup using the Solution Manager "}, {"text": "", "table_path": "", "page_number": 175, "type": "L[219]", "header": "Creating a site backup using the Solution Manager "}, {"text": "SNAPSHOT_NAME = <last line of output> ", "table_path": "", "page_number": 175, "type": "Aside[122]/P", "header": "Creating a site backup using the Solution Manager "}, {"text": "For the above example: ", "table_path": "", "page_number": 175, "type": "P[442]", "header": "Creating a site backup using the Solution Manager "}, {"text": "SNAPSHOT_NAME = site_backupsitetest_2020-10-21T07:00:47Z ", "table_path": "", "page_number": 175, "type": "Aside[123]/P", "header": "Creating a site backup using the Solution Manager "}]}, {"header": "Copy Snapshots ", "content": [{"text": "", "table_path": "", "page_number": 176, "type": "L[220]", "header": "Copy Snapshots "}, {"text": "curl -i -X POST -H \"Content-Type: multipart/form-data\" -F ", "table_path": "", "page_number": 176, "type": "Aside[124]/P", "header": "Copy Snapshots "}, {"text": "\"data=@&lt;fileName&gt;\" <a ", "table_path": "", "page_number": 176, "type": "Aside[124]/P[2]", "header": "Copy Snapshots "}, {"text": "href=\"http://localhost/solutionmanager/api/v1/snapshots/upload?snapshot=&lt;snap ", "table_path": "", "page_number": 176, "type": "Aside[124]/P[3]", "header": "Copy Snapshots "}, {"text": "FileName&gt ", "table_path": "", "page_number": 176, "type": "Aside[124]/P[4]", "header": "Copy Snapshots "}, {"text": "\" class=\"bare\">http://localhost/solutionmanager/api/v1/snapshots/upload? snapshot=&lt;snapFileName&gt</a>; ", "table_path": "", "page_number": 176, "type": "Aside[124]/P[5]", "header": "Copy Snapshots "}, {"text": "", "table_path": "", "page_number": 176, "type": "L[221]", "header": "Copy Snapshots "}, {"text": "curl -i -X POST -H \"Content-Type: multipart/form-data\" -F \"data=@site_backupsitetest_2023-1-21T07:00:47Z.snap\" http://localhost/solutionmanager/api/v1/snapshots/upload?snapshot=site_backup sitetest_2023-1-21T07:00:47Z ", "table_path": "", "page_number": 176, "type": "Aside[125]/P", "header": "Copy Snapshots "}]}, {"header": "Restoring a site backup using the bpi utility ", "content": [{"text": "This topic describes how to restore a backup of your site. ", "table_path": "", "page_number": 177, "type": "P[443]", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "figures/fileoutpart299.png", "page_number": 177, "type": "Figure[103]", "header": "Restoring a site backup using the bpi utility "}, {"text": "\uf05a ", "table_path": "", "page_number": 177, "type": "Figure[103]", "header": "Restoring a site backup using the bpi utility "}, {"text": "Make sure to copy the snapshot and credentials from the same system. ", "table_path": "", "page_number": 177, "type": "P[444]", "header": "Restoring a site backup using the bpi utility "}, {"text": "To restore a backup of your site: ", "table_path": "", "page_number": 177, "type": "P[445]", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[222]", "header": "Restoring a site backup using the bpi utility "}, {"text": "./bpi --utility playbooks/solution-stopall.yml --playbook-args='-e solution_remove_volume=true' ", "table_path": "", "page_number": 177, "type": "Aside[126]/P", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[223]", "header": "Restoring a site backup using the bpi utility "}, {"text": "(Cmd) solution_app_start <soln name> uaa-graph-db ", "table_path": "", "page_number": 177, "type": "Aside[127]/P", "header": "Restoring a site backup using the bpi utility "}, {"text": "Example : solution_app_start ", "table_path": "", "page_number": 177, "type": "Aside[127]/P[2]", "header": "Restoring a site backup using the bpi utility "}, {"text": "artifactory.ciena.com.blueplanet.uaa_storage:<version> uaa-graph-db ", "table_path": "", "page_number": 177, "type": "Aside[127]/P[3]", "header": "Restoring a site backup using the bpi utility "}, {"text": "5. ", "table_path": "", "page_number": 177, "type": "L[224]/LI/Lbl", "header": "Restoring a site backup using the bpi utility "}, {"text": "Restore the snapshot. ", "table_path": "", "page_number": 177, "type": "L[224]/LI/LBody", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[224]/LI", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[224]", "header": "Restoring a site backup using the bpi utility "}, {"text": "$ sudo solman \"site_restore <snapshot_name> --force\" ", "table_path": "", "page_number": 177, "type": "Aside[128]/L/LI/LBody", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "Aside[128]/L/LI", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "Aside[128]/L", "header": "Restoring a site backup using the bpi utility "}, {"text": "6. ", "table_path": "", "page_number": 177, "type": "L[225]/LI/Lbl", "header": "Restoring a site backup using the bpi utility "}, {"text": "If some solutions are in stopped state. Make sure you start these solutions ", "table_path": "", "page_number": 177, "type": "L[225]/LI/LBody", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[225]/LI", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[225]", "header": "Restoring a site backup using the bpi utility "}, {"text": "$ solutions=`sudo solman sps | grep ^artifactory.ciena.com.blueplanet` ; for s in $solutions ; do sudo solman \"solution_start $s\" ; done ; ", "table_path": "", "page_number": 177, "type": "Aside[129]/P", "header": "Restoring a site backup using the bpi utility "}, {"text": "7. ", "table_path": "", "page_number": 177, "type": "L[226]/LI/Lbl", "header": "Restoring a site backup using the bpi utility "}, {"text": "Verify that all solutions are started: ", "table_path": "", "page_number": 177, "type": "L[226]/LI/LBody", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[226]/LI", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[226]", "header": "Restoring a site backup using the bpi utility "}, {"text": "sudo solman sps ", "table_path": "", "page_number": 177, "type": "Aside[130]/P", "header": "Restoring a site backup using the bpi utility "}, {"text": "8. ", "table_path": "", "page_number": 177, "type": "L[227]/LI/Lbl", "header": "Restoring a site backup using the bpi utility "}, {"text": "Verify that the nagios in active site and make sure that the ", "table_path": "", "page_number": 177, "type": "L[227]/LI/LBody", "header": "Restoring a site backup using the bpi utility "}, {"text": "Status", "table_path": "", "page_number": 177, "type": "L[227]/LI/LBody/Span", "header": "Restoring a site backup using the bpi utility "}, {"text": " of all services is ", "table_path": "", "page_number": 177, "type": "L[227]/LI/LBody", "header": "Restoring a site backup using the bpi utility "}, {"text": "OK(green) ", "table_path": "", "page_number": 177, "type": "L[227]/LI/LBody/Span[2]", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[227]/LI/LBody", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[227]/LI", "header": "Restoring a site backup using the bpi utility "}, {"text": "", "table_path": "", "page_number": 177, "type": "L[227]", "header": "Restoring a site backup using the bpi utility "}]}, {"header": "Post restore ", "content": [{"text": "1. Login to solution manager client from host using below command: ", "table_path": "", "page_number": 178, "type": "P[446]", "header": "Post restore "}, {"text": "solman ", "table_path": "", "page_number": 178, "type": "Aside[131]/P", "header": "Post restore "}, {"text": "2. Login to leader instance of uaa-core-db to change the path/permissions of bpuaa database: ", "table_path": "", "page_number": 178, "type": "P[447]", "header": "Post restore "}, {"text": "(Cmd) enter_container uaa-core-db_<version>_<any_instance_id> [root@uaa-core-db_0app]# psql -U <username> -h <uaa-core-db-ip> -d bpuaa ", "table_path": "", "page_number": 178, "type": "Aside[132]/P", "header": "Post restore "}, {"text": "3. Execute below queries in database. ", "table_path": "", "page_number": 178, "type": "P[448]", "header": "Post restore "}, {"text": "ALTER DATABASE bpuaa OWNER TO bpadmin; ALTER DATABASE bpuaa set search_path to sa, fm, pm, spm, sla; ", "table_path": "", "page_number": 178, "type": "Aside[133]/P", "header": "Post restore "}, {"text": "4. Sync the data between uaa-core-db and uaa-pm-db. ", "table_path": "", "page_number": 178, "type": "P[449]", "header": "Post restore "}, {"text": "To sync sa data to PM DB ", "table_path": "", "page_number": 178, "type": "P[450]", "header": "Post restore "}, {"text": "solman ", "table_path": "", "page_number": 178, "type": "Aside[134]/P", "header": "Post restore "}, {"text": "(Cmd) enter_container uaa-pm-db-scheduler_<version>_<any_instance_id> [root@uaa-pm-db-scheduler0 bp2]# python3 /bp2/scripts/pg2ch.py ", "table_path": "", "page_number": 178, "type": "Aside[134]/P[2]", "header": "Post restore "}]}, {"header": "Restoring a site backup using the bpi utility on geo-redundancy setup ", "content": [{"text": "Before starting restore on geo-redundancy setup, ensure you meet following requirements: ", "table_path": "", "page_number": 179, "type": "P[451]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[228]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "To restore a backup of your solution manager on the geographical redundancy setup: ", "table_path": "", "page_number": 179, "type": "P[452]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[229]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "./bpi --utility playbooks/geo-clean.yml ", "table_path": "", "page_number": 179, "type": "Aside[135]/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[230]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "./bpi --utility playbooks/geo-clean.yml ", "table_path": "", "page_number": 179, "type": "Aside[136]/L/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "Aside[136]/L/LI", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "Aside[136]/L", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "5. ", "table_path": "", "page_number": 179, "type": "L[231]/LI/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Perform following steps to ensure that there is no solution data of the UAA solution on the active site: ", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody/ParagraphSpan", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "a. ", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody/L/LI/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Log in to Host 0 of Site A (active site) as bpadmin. Do not use the site IP; use the IP address of host 0. ", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody/L/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody/L/LI", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "b. ", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody/L/LI[2]/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Stop all the solutions and remove its data volume: ", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody/L/LI[2]/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody/L/LI[2]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody/L", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[231]/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[231]/LI", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 179, "type": "L[231]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "./bpi --utility playbooks/solution-stopall.yml --playbook-args='-e solution_remove_volume=true' ", "table_path": "", "page_number": 180, "type": "Aside[137]/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[232]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "$ sudo solman \"site_restore <snapshot_name> --force\" ", "table_path": "", "page_number": 180, "type": "Aside[138]/L/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "Aside[138]/L/LI", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "Aside[138]/L", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[233]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "sudo solman sps ", "table_path": "", "page_number": 180, "type": "Aside[139]/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "h. ", "table_path": "", "page_number": 180, "type": "L[234]/LI/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Verify that the nagios in active site and make sure that the ", "table_path": "", "page_number": 180, "type": "L[234]/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Status", "table_path": "", "page_number": 180, "type": "L[234]/LI/LBody/Span", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": " of all services is ", "table_path": "", "page_number": 180, "type": "L[234]/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "OK(green) ", "table_path": "", "page_number": 180, "type": "L[234]/LI/LBody/Span[2]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[234]/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[234]/LI", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[234]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "6. ", "table_path": "", "page_number": 180, "type": "L[235]/LI/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Perform following steps to ensure that there is no solution data of the UAA solution on the standby site. ", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/ParagraphSpan", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "a. ", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Log in to host 0 of Site B (standby site) as bpadmin. Do not use the site IP; use the IP address of host 0. ", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "b. ", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI[2]/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Make sure that you have set ", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI[2]/LBody/ParagraphSpan", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "SiteState", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI[2]/LBody/ParagraphSpan/Span", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": " as STANDBY in the file /etc/bp2/geored/config.json. ", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI[2]/LBody/ParagraphSpan", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "figures/fileoutpart302.png", "page_number": 180, "type": "L[235]/LI/LBody/L/LI[2]/LBody/Figure", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "[bpadmin@bp-prod-test-1 ~]$ bpssh cat /etc/bp2/geored/config.json host-0 ec: 0    {\"SiteId\": \"SiteB\", \"SiteState\": \"STANDBY\", \"Address\": \"10.186.35.15\"} host-1 ec: 0    {\"SiteId\": \"SiteB\", \"SiteState\": \"STANDBY\", \"Address\": \"10.186.35.15\"} host-2 ec: 0    {\"SiteId\": \"SiteB\", \"SiteState\": \"STANDBY\", \"Address\": \"10.186.35.15\"} ", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI[2]/LBody/Figure", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI[2]/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L/LI[2]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "c. ", "table_path": "", "page_number": 181, "type": "L[235]/LI/LBody/L/LI[3]/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Redeploy all the solutions with purge data volume: ", "table_path": "", "page_number": 181, "type": "L[235]/LI/LBody/L/LI[3]/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "L[235]/LI/LBody/L/LI[3]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody/L", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[235]/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[235]/LI", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 180, "type": "L[235]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "$ solutions=`sudo solman sps | grep ^artifactory.ciena.com.blueplanet | sort -r` ; for s in $solutions ; do sudo solman \"solution_redeploy $s --purge-host -vols -y\"; done ; ", "table_path": "", "page_number": 181, "type": "Aside[140]/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "d. ", "table_path": "", "page_number": 181, "type": "L[236]/LI/Lbl", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Verify the nagios in standby site there can be some services in critical and warning state as geored is not configured between active and standby. ", "table_path": "", "page_number": 181, "type": "L[236]/LI/LBody", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "L[236]/LI", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "L[236]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "L[237]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "./bpi --setup-geo < site IP of Standby site B > --playbook-args='--skip-tags geo:notify_standby -e geo_user=<user> -e geo_password=<password>' ", "table_path": "", "page_number": 181, "type": "Aside[141]/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "tables/fileoutpart303.xlsx", "page_number": 181, "type": "Table[35]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "Table[35]/TR/TD", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "where ", "table_path": "", "page_number": 181, "type": "Table[35]/TR/TD/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "Table[35]/TR[2]/TD", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "<user> ", "table_path": "", "page_number": 181, "type": "Table[35]/TR[2]/TD/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "Table[35]/TR[2]/TD[2]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "is the admin user for UAA. ", "table_path": "", "page_number": 181, "type": "Table[35]/TR[2]/TD[2]/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "Table[35]/TR[3]/TD", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "<password> ", "table_path": "", "page_number": 181, "type": "Table[35]/TR[3]/TD/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "Table[35]/TR[3]/TD[2]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "is the password for the admistrator of UAA. ", "table_path": "", "page_number": 181, "type": "Table[35]/TR[3]/TD[2]/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "figures/fileoutpart305.png", "page_number": 181, "type": "Figure[104]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "\uf05a ", "table_path": "", "page_number": 181, "type": "Figure[104]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "After starting the setup of GR, and before site A is added to the site B configuration, some services can be in a temporarily degraded which are warning or critical state in Nagios of site A. This will continue until you complete the GR setup. Particularly, the Postgres services will be in a degraded state. ", "table_path": "", "page_number": 181, "type": "P[453]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 181, "type": "L[238]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "https://<site IP of standby site B>/bp-platform-ui/#/geored-ui ", "table_path": "", "page_number": 182, "type": "Aside[142]/P", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "", "page_number": 182, "type": "L[239]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "", "table_path": "figures/fileoutpart309.png", "page_number": 182, "type": "Figure[105]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "\uf05a ", "table_path": "", "page_number": 182, "type": "Figure[105]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}, {"text": "Nagios can take 30 minutes or more to display the status of all services. The status of the services waiting for the health check to run displays in a gray color. ", "table_path": "", "page_number": 182, "type": "P[454]", "header": "Restoring a site backup using the bpi utility on geo-redundancy setup "}]}, {"header": "Deploying haproxy custom TLS cipher suites ", "content": [{"text": "By default, haproxy has its own tls cipher suite which is configured at a time of haproxy startup. ", "table_path": "", "page_number": 182, "type": "P[455]", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "You can change the configuration through the following steps: ", "table_path": "", "page_number": 182, "type": "P[456]", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "1. ", "table_path": "", "page_number": 182, "type": "L[240]/LI/Lbl", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "Create a file named ", "table_path": "", "page_number": 182, "type": "L[240]/LI/LBody", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "ssl_default_bind_ciphers", "table_path": "", "page_number": 182, "type": "L[240]/LI/LBody/Span", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": " containing the values of tls cipher under ", "table_path": "", "page_number": 182, "type": "L[240]/LI/LBody", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "/etc/bp2/haproxy/", "table_path": "", "page_number": 182, "type": "L[240]/LI/LBody/Span[2]", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": " directory. ", "table_path": "", "page_number": 182, "type": "L[240]/LI/LBody", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "", "table_path": "", "page_number": 182, "type": "L[240]/LI/LBody", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "", "table_path": "", "page_number": 182, "type": "L[240]/LI", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "", "table_path": "", "page_number": 182, "type": "L[240]", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "touch /etc/bp2/haproxy/ssl_default_bind_ciphers ", "table_path": "", "page_number": 182, "type": "Aside[143]/P", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "2. ", "table_path": "", "page_number": 182, "type": "L[241]/LI/Lbl", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "Put the cipher value according to the desired cipher values, the possible options are strong, medium, weak, and custom. ", "table_path": "", "page_number": 182, "type": "L[241]/LI/LBody/ParagraphSpan", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "For example: ", "table_path": "", "page_number": 182, "type": "L[241]/LI/LBody/P", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "", "table_path": "", "page_number": 182, "type": "L[241]/LI/LBody", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "", "table_path": "", "page_number": 182, "type": "L[241]/LI", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "", "table_path": "", "page_number": 182, "type": "L[241]", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256 > /etc/bp2/haproxy/ssl_default_bind_ciphers ", "table_path": "", "page_number": 182, "type": "Aside[144]/P", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "", "table_path": "", "page_number": 182, "type": "P[457]", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "", "table_path": "", "page_number": 182, "type": "L[242]", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "$ sudo solman ", "table_path": "", "page_number": 182, "type": "Aside[145]/P", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "Connecting smcli to solutionmanager_0 ", "table_path": "", "page_number": 182, "type": "Aside[145]/P[2]", "header": "Deploying haproxy custom TLS cipher suites "}, {"text": "(Cmd) solution_app_restart <xp solution> haproxy ", "table_path": "", "page_number": 182, "type": "Aside[145]/P[3]", "header": "Deploying haproxy custom TLS cipher suites "}]}, {"header": "Adding HAProxy with SSL certificates (recommended) ", "content": [{"text": "Blue Planet HAProxy (or high availability proxy) is an open source software solution that provides load balancing and recovery across multiple servers. Blue Planet HA manages multiple hardware instances (a cluster) as a single site. During installation Blue Planet bpi installs a self-signed SSL certificate, but recommends you replace the default certificate with one signed by a trusted authority. ", "table_path": "", "page_number": 183, "type": "P[458]", "header": "Adding HAProxy with SSL certificates (recommended) "}, {"text": "Review this section to update your SSL certificates post-installation. ", "table_path": "", "page_number": 183, "type": "P[459]", "header": "Adding HAProxy with SSL certificates (recommended) "}, {"text": "This section describes the following: ", "table_path": "", "page_number": 183, "type": "P[460]", "header": "Adding HAProxy with SSL certificates (recommended) "}, {"text": "", "table_path": "", "page_number": 183, "type": "L[243]", "header": "Adding HAProxy with SSL certificates (recommended) "}]}, {"header": "Deploying HAProxy SSL certificates (optional) ", "content": [{"text": "By default, HAProxy uses a self-signed SSL certificate that ships with the software. The SSL configuration directory is volume-mounted from the host machine into the Docker container. Once you store your keys in the proper location on the host, the HAProxy container uses them to direct user requests to the appropriate application instance in the cluster. ", "table_path": "", "page_number": 183, "type": "P[461]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "The deploy-ssl-certs utility ", "table_path": "", "page_number": 183, "type": "P[462]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 183, "type": "L[244]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "figures/fileoutpart310.png", "page_number": 183, "type": "Figure[106]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "\uf05a ", "table_path": "", "page_number": 183, "type": "Figure[106]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "The deploy-ssl-certs.yml playbook requires execution on target systems as a privileged execution user, either the root user or a user with full sudo, irrespective of the user running the bpi command. ", "table_path": "", "page_number": 183, "type": "P[463]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "To update the HAProxy SSL certificates and replace the default certificate with one signed by a trusted authority, perform these steps post-installation: ", "table_path": "", "page_number": 183, "type": "P[464]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "1. ", "table_path": "", "page_number": 184, "type": "L[245]/LI/Lbl", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "To optionally customize the global SSL default bind and cipher values: ", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/ParagraphSpan", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "\uf05a ", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/P/StyleSpan", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "Alternatively, to use the default method instead of customization, go to step 2. ", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/P/StyleSpan[2]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/P", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "a. ", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/Lbl", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "Create a file named ", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "ssl_default_bind_options", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/LBody/Span", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": " containing the values to use in the global HAProxy configuration section. This example disables ", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "SSL v3", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/LBody/Span[2]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": " and ", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "tls v1.0", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/LBody/Span[3]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": ". ", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L/LI", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody/L", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[245]/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[245]/LI", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[245]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "echo 'no-sslv3 no-tlsv10' > /etc/bp2/haproxy/ssl_default_bind_options ", "table_path": "", "page_number": 184, "type": "Aside[146]/P", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "b. ", "table_path": "", "page_number": 184, "type": "L[246]/LI/Lbl", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "Create a file named ", "table_path": "", "page_number": 184, "type": "L[246]/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "ssl_default_bind_cipher", "table_path": "", "page_number": 184, "type": "L[246]/LI/LBody/Span", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": " containing the values to use in the global HAProxy configuration section. This example sets the following ciphers: ECDH+AESGCM:DH+AESGCM:ECDH+AES256. ", "table_path": "", "page_number": 184, "type": "L[246]/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[246]/LI/LBody", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[246]/LI", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[246]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "echo 'ECDH+AESGCM:DH+AESGCM:ECDH+AES256' > /etc/bp2/haproxy/ ssl_default_bind_ciphers ", "table_path": "", "page_number": 184, "type": "Aside[147]/P", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "If you customized the global SSL default bind and cipher values ensure you run the sync_site_config_ssl_certs option so it synchronizes the HAProxy config across all hosts. ", "table_path": "", "page_number": 184, "type": "P[465]", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "2. ", "table_path": "", "page_number": 184, "type": "L[247]/LI/Lbl", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "On target systems as a privileged user (either root user or a user with full sudo), run the ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/ParagraphSpan", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "deploy-ssl-certs", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/ParagraphSpan/Span", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": " utility. ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/ParagraphSpan", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "You can customize this utility using the following options: ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/P", "header": "Deploying HAProxy SSL certificates (optional) "}, {"text": "", "table_path": "tables/fileoutpart311.xlsx", "page_number": 184, "type": "L[247]/LI/LBody/Table", "header": "Deploying HAProxy SSL certificates (optional) "}]}, {"header": "", "content": []}, {"header": "OPTIONAL ", "content": []}, {"header": "", "content": []}, {"header": "DESCRIPTION ", "content": []}, {"header": "", "content": []}, {"header": "EXAMPLE ", "content": [{"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[2]/TD", "header": "EXAMPLE "}, {"text": "ssl_certs_new_loc ation ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[2]/TD/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[2]/TD[2]", "header": "EXAMPLE "}, {"text": "The location to look for the crt and key files that will be combined together ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[2]/TD[2]/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[2]/TD[3]", "header": "EXAMPLE "}, {"text": "-e ssl_certs_new_location=tmp/new_cert s ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[2]/TD[3]/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[3]/TD", "header": "EXAMPLE "}, {"text": "ssl_certs_new_pe m_name ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[3]/TD/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[3]/TD[2]", "header": "EXAMPLE "}, {"text": "Reset default from server.pem to some other name ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[3]/TD[2]/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[3]/TD[3]", "header": "EXAMPLE "}, {"text": "-e ssl_certs_new_pem_name=primary.pe m ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[3]/TD[3]/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[4]/TD", "header": "EXAMPLE "}, {"text": "ssl_certs_backup_ location ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[4]/TD/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[4]/TD[2]", "header": "EXAMPLE "}, {"text": "Default is /root/haproxy_ssl_certs_backup on each target node to backup existing SSL files ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[4]/TD[2]/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[4]/TD[3]", "header": "EXAMPLE "}, {"text": "-e ssl_certs_backup_location=/tmp/back up ", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody/Table/TR[4]/TD[3]/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI/LBody", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]/LI", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 184, "type": "L[247]", "header": "EXAMPLE "}, {"text": "For example: ", "table_path": "", "page_number": 184, "type": "P[466]", "header": "EXAMPLE "}, {"text": "./bpi --utility (optional leading directory playbooks/) deploy-ssl-certs.yml --playbook-args='-e ssl_certs_domain=<domain>' ", "table_path": "", "page_number": 185, "type": "Aside[148]/P", "header": "EXAMPLE "}, {"text": "or ", "table_path": "", "page_number": 185, "type": "P[467]", "header": "EXAMPLE "}, {"text": "./bpi --utility (optional leading directory playbooks/) deploy-ssl-certs.yml --playbook-args='-e ssl_certs_domain=<domain> -e ssl_certs_new_location=<tmp/new_certs> -e ssl_certs_new_location=<tmp/new_certs> -e ssl_certs_backup_location=</tmp/backup>'' ", "table_path": "", "page_number": 185, "type": "Aside[149]/P", "header": "EXAMPLE "}, {"text": "3. ", "table_path": "", "page_number": 185, "type": "L[248]/LI/Lbl", "header": "EXAMPLE "}, {"text": "By default, the SSL certificates from host0 are synced to other hosts in the cluster. If you have a single cluster or do not want to sync to other hosts in the cluster, disable this behavior by doing one of these options: ", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/ParagraphSpan", "header": "EXAMPLE "}, {"text": "\u25e6 ", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/L/LI/Lbl", "header": "EXAMPLE "}, {"text": "set the ", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/L/LI/LBody/ParagraphSpan", "header": "EXAMPLE "}, {"text": "sync_site_config_ssl_certs", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/L/LI/LBody/ParagraphSpan/Span", "header": "EXAMPLE "}, {"text": " option to false. By default, files that begin with the string server in the /etc/bp2/haproxy/ssl directory are synced. This typically includes four files: server.crt, server.pem, server.csr, and server.key. ", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/L/LI/LBody/ParagraphSpan", "header": "EXAMPLE "}, {"text": "Default example ", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/L/LI/LBody/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/L/LI/LBody", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/L/LI", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody/L", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[248]/LI/LBody", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[248]/LI", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[248]", "header": "EXAMPLE "}, {"text": "sync_site_config_ssl_certs: true ssl_certs_prefix: server ", "table_path": "", "page_number": 185, "type": "Aside[150]/P", "header": "EXAMPLE "}, {"text": "Disabled example ", "table_path": "", "page_number": 185, "type": "P[468]", "header": "EXAMPLE "}, {"text": "sync_site_config_ssl_certs: false ", "table_path": "", "page_number": 185, "type": "Aside[151]/P", "header": "EXAMPLE "}, {"text": "ssl_certs_prefix: server ", "table_path": "", "page_number": 185, "type": "Aside[151]/P[2]", "header": "EXAMPLE "}, {"text": "\u25e6 ", "table_path": "", "page_number": 185, "type": "L[249]/LI/Lbl", "header": "EXAMPLE "}, {"text": "skip the SSL certificate sync using the --playbook-args='--skip-tags sync_site_config_ssl_certs' flag. ", "table_path": "", "page_number": 185, "type": "L[249]/LI/LBody/ParagraphSpan", "header": "EXAMPLE "}, {"text": "For example using no customized options: ", "table_path": "", "page_number": 185, "type": "L[249]/LI/LBody/P", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[249]/LI/LBody", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[249]/LI", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "L[249]", "header": "EXAMPLE "}, {"text": "./bpi --utility (optional leading directory playbooks/) deploy-ssl-certs.yml --playbook-args='-e ssl_certs_domain=<domain> --skip-tags ", "table_path": "", "page_number": 185, "type": "Aside[152]/P", "header": "EXAMPLE "}, {"text": "sync_site_config_ssl_certs' ", "table_path": "", "page_number": 185, "type": "Aside[152]/L/LI/LBody", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "Aside[152]/L/LI", "header": "EXAMPLE "}, {"text": "", "table_path": "", "page_number": 185, "type": "Aside[152]/L", "header": "EXAMPLE "}]}, {"header": "HAProxy behavior ", "content": [{"text": "When you connect to Blue Planet using the site IP, HAProxy directs your requests to application instances. Application instances register with HA proxy to request HTTP forwarding. ", "table_path": "", "page_number": 185, "type": "P[469]", "header": "HAProxy behavior "}, {"text": "HAProxy may forward traffic to a single application or perform round-robin load balancing to multiple ", "table_path": "", "page_number": 185, "type": "P[470]", "header": "HAProxy behavior "}, {"text": "application instances depending on an application\u2019s clustering architecture. ", "table_path": "", "page_number": 186, "type": "P[471]", "header": "HAProxy behavior "}, {"text": "You may experience a temporary disruption in HTTP connectivity if the floating site IP address gets moved between hosts in response to a failure scenario or maintenance activity. ", "table_path": "", "page_number": 186, "type": "P[472]", "header": "HAProxy behavior "}]}, {"header": "Updating DNS nameservers for Docker containers (optional) ", "content": [{"text": "This section describes how to update your DNS nameserver for Docker containers. Use the procedure for your operating system. ", "table_path": "", "page_number": 187, "type": "P[473]", "header": "Updating DNS nameservers for Docker containers (optional) "}, {"text": "", "table_path": "", "page_number": 187, "type": "L[250]", "header": "Updating DNS nameservers for Docker containers (optional) "}]}, {"header": "On Red Hat servers ", "content": [{"text": "", "table_path": "", "page_number": 187, "type": "P[474]", "header": "On Red Hat servers "}, {"text": "$ sudo vi /etc/sysconfig/docker ", "table_path": "", "page_number": 187, "type": "Aside[153]/P", "header": "On Red Hat servers "}, {"text": "", "table_path": "", "page_number": 187, "type": "P[475]", "header": "On Red Hat servers "}, {"text": "", "table_path": "", "page_number": 187, "type": "P[476]", "header": "On Red Hat servers "}]}, {"header": "On Ubuntu servers ", "content": [{"text": "", "table_path": "", "page_number": 187, "type": "P[477]", "header": "On Ubuntu servers "}, {"text": "sudo vi /etc/systemd/system/docker.service.d/override.conf ", "table_path": "", "page_number": 187, "type": "Aside[154]/P", "header": "On Ubuntu servers "}, {"text": "The default setting does not specify any nameservers. In this case, the containers automatically update ", "table_path": "", "page_number": 187, "type": "P[478]", "header": "On Ubuntu servers "}, {"text": "using the host network interface setting for the DNS nameservers. ", "table_path": "", "page_number": 188, "type": "P[479]", "header": "On Ubuntu servers "}, {"text": "If the Blue Planet host is not connected to the network, containers might experience network timeout trying to resolve DNS nameservers. ", "table_path": "", "page_number": 188, "type": "P[480]", "header": "On Ubuntu servers "}, {"text": "", "table_path": "", "page_number": 188, "type": "P[481]", "header": "On Ubuntu servers "}, {"text": "", "table_path": "", "page_number": 188, "type": "P[482]", "header": "On Ubuntu servers "}]}, {"header": "Ubuntu caveats ", "content": [{"text": "Complete the following list of caveats actions. ", "table_path": "", "page_number": 188, "type": "P[483]", "header": "Ubuntu caveats "}, {"text": "", "table_path": "", "page_number": 188, "type": "L[251]", "header": "Ubuntu caveats "}]}, {"header": "Configuring encryption support for domain and resource property storage ", "content": [{"text": "You can now configure encryption in <solution name> to store domain and resource properties in encrypted form within the database. This helps to protect against credential disclosure in backup snapshots stored off-site. This feature is also known as encryption-at-rest. Only the system administrator can configure this capability. ", "table_path": "", "page_number": 189, "type": "P[484]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "The following caveats exist: ", "table_path": "", "page_number": 189, "type": "P[485]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "", "table_path": "", "page_number": 189, "type": "L[252]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "To configure encryption support before you deploy the uaa solution: ", "table_path": "", "page_number": 189, "type": "P[486]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "1. ", "table_path": "", "page_number": 189, "type": "L[253]/LI/Lbl", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "Create a key ", "table_path": "", "page_number": 189, "type": "L[253]/LI/LBody", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "/etc/bp2/<solution name>/private/keys", "table_path": "", "page_number": 189, "type": "L[253]/LI/LBody/Span", "header": "Configuring encryption support for domain and resource property storage "}, {"text": " file that is owned and readable only by root: ", "table_path": "", "page_number": 189, "type": "L[253]/LI/LBody", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "", "table_path": "", "page_number": 189, "type": "L[253]/LI/LBody", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "", "table_path": "", "page_number": 189, "type": "L[253]/LI", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "", "table_path": "", "page_number": 189, "type": "L[253]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": " # mkdir /etc/bp2/<solution name>/private", "table_path": "", "page_number": 189, "type": "Aside[155]/P", "header": "Configuring encryption support for domain and resource property storage "}, {"text": " # chmod urwx /etc/bp2/<solution name>/private", "table_path": "", "page_number": 189, "type": "Aside[155]/P[2]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": " # python2.7", "table_path": "", "page_number": 189, "type": "Aside[155]/P[3]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": " >>> import os, base64 >>> key = base64.urlsafe_b64encode(open('/dev/urandom', 'rb').read(32)) >>> os.umask(0o077)", "table_path": "", "page_number": 189, "type": "Aside[155]/P[4]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": " >>> open('/etc/bp2/<solution name>/private/keys', 'w').write(key)", "table_path": "", "page_number": 189, "type": "Aside[155]/P[5]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": " >>> exit() ", "table_path": "", "page_number": 189, "type": "Aside[155]/P[6]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "2. ", "table_path": "", "page_number": 189, "type": "L[254]/LI/Lbl", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "If this is a multi-host Blue Planet site, synchronize this key to the other hosts: ", "table_path": "", "page_number": 189, "type": "L[254]/LI/LBody", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "", "table_path": "", "page_number": 189, "type": "L[254]/LI", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "", "table_path": "", "page_number": 189, "type": "L[254]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "# bp2-site sync-site-config ", "table_path": "", "page_number": 189, "type": "Aside[156]/P", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "3. ", "table_path": "", "page_number": 190, "type": "L[255]/LI/Lbl", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "Back up this key file in a secure location. It is not included in backup snapshots generated by the Blue Planet platform. Data is lost if the key is not available when restoring a backup snapshot. ", "table_path": "", "page_number": 190, "type": "L[255]/LI/LBody", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "", "table_path": "", "page_number": 190, "type": "L[255]/LI", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "", "table_path": "", "page_number": 190, "type": "L[255]", "header": "Configuring encryption support for domain and resource property storage "}, {"text": "You can now start or restart the uaa solution. ", "table_path": "", "page_number": 190, "type": "P[487]", "header": "Configuring encryption support for domain and resource property storage "}]}, {"header": "Configuring user restrictions to display sensitive information in domain properties ", "content": [{"text": "This topic describes Blue Planet domain password properties. It explains what the obfuscate attribute does and describes how to protect it. It also explains the roles which are allowed to change the default display domain password properties. ", "table_path": "", "page_number": 191, "type": "P[488]", "header": "Configuring user restrictions to display sensitive information in domain properties "}, {"text": "The obfuscate attribute makes credential or sensitive information unintelligible when viewing in REST API output or logs. The default setting in Blue Planet replaces sensitive data in backup files or responses to REST API requests. While it is possible to change the default to unprotect your system output and allow it to display sensitive data in backed up files stored off-site or in API responses, most administrators only want specific users to change the obfuscate property settings. ", "table_path": "", "page_number": 191, "type": "P[489]", "header": "Configuring user restrictions to display sensitive information in domain properties "}, {"text": "", "table_path": "", "page_number": 191, "type": "P[490]", "header": "Configuring user restrictions to display sensitive information in domain properties "}, {"text": "For more details, see these topics: ", "table_path": "", "page_number": 191, "type": "P[491]", "header": "Configuring user restrictions to display sensitive information in domain properties "}, {"text": "", "table_path": "", "page_number": 191, "type": "L[256]", "header": "Configuring user restrictions to display sensitive information in domain properties "}]}, {"header": "Requirements ", "content": [{"text": "You must be a system administrator to perform these tasks. ", "table_path": "", "page_number": 191, "type": "P[492]", "header": "Requirements "}, {"text": "If you are a user and see credential data replaced with a long string of asterisks, this is by design. Contact your administrator if you require access to this information. ", "table_path": "", "page_number": 191, "type": "P[493]", "header": "Requirements "}]}, {"header": "About obfuscate API changes ", "content": [{"text": "", "table_path": "", "page_number": 191, "type": "P[494]", "header": "About obfuscate API changes "}, {"text": "", "table_path": "", "page_number": 191, "type": "L[257]", "header": "About obfuscate API changes "}, {"text": "", "table_path": "", "page_number": 192, "type": "P[495]", "header": "About obfuscate API changes "}, {"text": "", "table_path": "figures/fileoutpart313.png", "page_number": 192, "type": "Figure[107]", "header": "About obfuscate API changes "}, {"text": "{ \"properties\":{    \"password\":{      \"title\":\"Password field\",      \"description\":\"A password string\",      \"type\":\"string\",      \"obfuscate\":true    } } } ", "table_path": "", "page_number": 192, "type": "Figure[107]", "header": "About obfuscate API changes "}, {"text": "", "table_path": "", "page_number": 192, "type": "P[496]", "header": "About obfuscate API changes "}]}, {"header": "Setting user restrictive policies and conditions for obfuscation ", "content": [{"text": "", "table_path": "", "page_number": 192, "type": "P[497]", "header": "Setting user restrictive policies and conditions for obfuscation "}, {"text": "Administrators can have control over which users can hide or unhide sensitive data such as device credentials by defining a policy and setting conditions. To avoid unknown users from switching the protective obfuscate default to allow them to see credentials, admins create a policy that restricts which users can change this attribute default. ", "table_path": "", "page_number": 192, "type": "P[498]", "header": "Setting user restrictive policies and conditions for obfuscation "}, {"text": "There are two ways to define both conditions (the criteria that must be met to enact a policy) and the policy (what to do when the condition is met). ", "table_path": "", "page_number": 192, "type": "P[499]", "header": "Setting user restrictive policies and conditions for obfuscation "}, {"text": "", "table_path": "", "page_number": 192, "type": "L[258]", "header": "Setting user restrictive policies and conditions for obfuscation "}, {"text": "To define a policy to restrict what roles are allowed to display credential data using an API request, do any of the following: ", "table_path": "", "page_number": 192, "type": "P[500]", "header": "Setting user restrictive policies and conditions for obfuscation "}, {"text": "", "table_path": "", "page_number": 192, "type": "L[259]", "header": "Setting user restrictive policies and conditions for obfuscation "}, {"text": "", "table_path": "figures/fileoutpart316.png", "page_number": 193, "type": "Figure[108]", "header": "Setting user restrictive policies and conditions for obfuscation "}, {"text": " {  \"id\" : \"57fb54a5-4036-4c59-9c3e-37780daadbf4\",  \"policyType\": \"authorization\",  \"name\": \"GetDomain\",  \"authRealm\": \"Market\",  \"tenantId\": \"956345eb-0949-3aa2-8575-72ad9d5f9a61\",  \"description\": \"Deny all but admin role from accessing clear text GET Domain Id\",  \"conditionId\": \"63912345-bdb8-4249-bd47-818455278571\",  \"action\": \"Deny\" }, {  \"id\" : \"57fb54a5-4036-4c59-9c3e-37780daadb35\",  \"policyType\": \"authorization\",  \"name\": \"ListDomain\",  \"authRealm\": \"Market\",  \"tenantId\": \"956345eb-0949-3aa2-8575-72ad9d5f9a61\",  \"description\": \"Deny all but admin role from accessing clear text on GET Domains\",  \"conditionId\": \"63912345-bdb8-4249-bd47-818455278571\",  \"action\": \"Deny\" } ", "table_path": "", "page_number": 193, "type": "Figure[108]", "header": "Setting user restrictive policies and conditions for obfuscation "}, {"text": "Append this to the end of the policies-0000.json file. Substitute the properties to work with your device and tenant IDs. ", "table_path": "", "page_number": 193, "type": "P[501]", "header": "Setting user restrictive policies and conditions for obfuscation "}]}, {"header": "Preventing PUT/PATCH changes to credentials ", "content": [{"text": "Blue Planet prevents users from attempting to use any obfuscated values in a PUT or a PATCH call by handling PUT and PATCH calls the following way: ", "table_path": "", "page_number": 193, "type": "P[502]", "header": "Preventing PUT/PATCH changes to credentials "}, {"text": "", "table_path": "", "page_number": 193, "type": "L[260]", "header": "Preventing PUT/PATCH changes to credentials "}]}, {"header": "Obfuscating sensitive data in log entries ", "content": [{"text": "Blue Planet allows administrators to obfuscate log data that may contain HTTP request and response bodies in clear text. The log file, <solution name>.restserver.log, is set by default to replace password strings with an asterisk replacement pattern using an obfuscation formatter. ", "table_path": "", "page_number": 194, "type": "P[503]", "header": "Obfuscating sensitive data in log entries "}, {"text": "Blue Planet uses a combination of the obfuscation formatter and a default set of rules results in hidden passwords in the request/response bodies logs. ", "table_path": "", "page_number": 194, "type": "P[504]", "header": "Obfuscating sensitive data in log entries "}, {"text": "", "table_path": "", "page_number": 194, "type": "P[505]", "header": "Obfuscating sensitive data in log entries "}, {"text": "The obfuscation formatter scans a default set of rules prior to publishing any application/json request or response body to the logs. The rules are defined in the same section using obfuscation-rules. ", "table_path": "", "page_number": 194, "type": "P[506]", "header": "Obfuscating sensitive data in log entries "}, {"text": "The default rules are: ", "table_path": "", "page_number": 194, "type": "P[507]", "header": "Obfuscating sensitive data in log entries "}, {"text": "", "table_path": "figures/fileoutpart317.png", "page_number": 194, "type": "Figure[109]", "header": "Obfuscating sensitive data in log entries "}, {"text": " obfuscation-rules {  {    field = password    fieldType = string  } } ", "table_path": "", "page_number": 194, "type": "Figure[109]", "header": "Obfuscating sensitive data in log entries "}, {"text": "These rules search for any string field named password and replaces the contents with the replacement pattern. ", "table_path": "", "page_number": 194, "type": "P[508]", "header": "Obfuscating sensitive data in log entries "}, {"text": "You can substitute any field in the obfuscation rules section, but the legal values for fieldType must be \"string\" or \"array\". Other values get logged as an error and are ignored. ", "table_path": "", "page_number": 194, "type": "P[509]", "header": "Obfuscating sensitive data in log entries "}, {"text": "The following example shows how to obfuscate both password/string and mySecretArray/array: ", "table_path": "", "page_number": 194, "type": "P[510]", "header": "Obfuscating sensitive data in log entries "}, {"text": "", "table_path": "figures/fileoutpart318.png", "page_number": 195, "type": "Figure[110]", "header": "Obfuscating sensitive data in log entries "}, {"text": " obfuscation-rules {  {    field = password,    fieldType = string  },  {    field = mySecretArray,    fieldType = array  } } ", "table_path": "", "page_number": 195, "type": "Figure[110]", "header": "Obfuscating sensitive data in log entries "}, {"text": "", "table_path": "", "page_number": 195, "type": "P[511]", "header": "Obfuscating sensitive data in log entries "}, {"text": "", "table_path": "", "page_number": 195, "type": "P[512]", "header": "Obfuscating sensitive data in log entries "}, {"text": "", "table_path": "figures/fileoutpart319.png", "page_number": 195, "type": "Figure[111]", "header": "Obfuscating sensitive data in log entries "}, {"text": "Entity: {  \"id\" : \"594af36f-1b96-4bc1-9348-cf46ea752ec9\",  \"title\" : \"New Domain\",  \"domainType\" : \"urn:ciena:bp:domain:rasimulator\",  \"accessUrl\" : \"http://192.168.50.4:8080/rasimexample/api/v1\",  \"properties\" : {    \"levels\" : 1,    \"resources_at_level\" : [ 3 ],    \"password\" : \"********************\"  },  \"address\" : { ", "table_path": "", "page_number": 195, "type": "Figure[111]", "header": "Obfuscating sensitive data in log entries "}, {"text": "The following code is an example of domain data displayed when a user retrieves it using the GET <domainID> API call with uri parameter, obfuscate = true, and a resourceProvider that defines password as obfuscate=true. ", "table_path": "", "page_number": 195, "type": "P[513]", "header": "Obfuscating sensitive data in log entries "}, {"text": "", "table_path": "figures/fileoutpart320.png", "page_number": 195, "type": "Figure[112]", "header": "Obfuscating sensitive data in log entries "}, {"text": "\"accessUrl\": \"http://192.168.50.4:8080/rasimexample/api/v1\",      \"properties\": {        \"levels\": 1,        \"resources_at_level\": [          3        ],        \"password\": \"********************\"      },      \"address\": {        \"city\": \"\",        \"zip\": \"\",        \"street\": \"\", ", "table_path": "", "page_number": 195, "type": "Figure[112]", "header": "Obfuscating sensitive data in log entries "}]}, {"header": "Performing high-level maintenance ", "content": [{"text": "This section describes: ", "table_path": "", "page_number": 196, "type": "P[514]", "header": "Performing high-level maintenance "}, {"text": "", "table_path": "", "page_number": 196, "type": "L[261]", "header": "Performing high-level maintenance "}]}, {"header": "Updating registry information for software downloads ", "content": [{"text": "Blue Planet requires use of a software registry to download their Ciena software. There are many requirements to ensure your registry can download successfully, such as ensuring firewall ports are open. Blue Planet uses code in the /etc/bp2/solutionmanager/registry file to specify the URL, username, and password required to download this software. ", "table_path": "", "page_number": 196, "type": "P[515]", "header": "Updating registry information for software downloads "}, {"text": "There may be instances when your registry information may need to be changed. This may be as a result of a Ciena change or a change to your local repositories to control software distribution. Follow the steps below to change the docker registry file and ensure your single or multi-server deployment is aware of that change. ", "table_path": "", "page_number": 196, "type": "P[516]", "header": "Updating registry information for software downloads "}, {"text": "1. ", "table_path": "", "page_number": 196, "type": "L[262]/LI/Lbl", "header": "Updating registry information for software downloads "}, {"text": "Use the Vim editor to access the Blue Planet Docker registry file and update the URL and username and password provided by Ciena Customer Support or your local registry administrator. ", "table_path": "", "page_number": 196, "type": "L[262]/LI/LBody", "header": "Updating registry information for software downloads "}, {"text": "", "table_path": "", "page_number": 196, "type": "L[262]/LI", "header": "Updating registry information for software downloads "}, {"text": "", "table_path": "", "page_number": 196, "type": "L[262]", "header": "Updating registry information for software downloads "}, {"text": "vim /etc/bp2/solutionmanager/registry ", "table_path": "", "page_number": 196, "type": "Aside[157]/P", "header": "Updating registry information for software downloads "}, {"text": "url: bphub.blueplanet.com ", "table_path": "", "page_number": 196, "type": "Aside[157]/P[2]", "header": "Updating registry information for software downloads "}, {"text": "username: customer_deploy ", "table_path": "", "page_number": 196, "type": "Aside[157]/P[3]", "header": "Updating registry information for software downloads "}, {"text": "password: 7988jQTfUquDdJykxrAG8eZLU6GDjei2Ar4wNSi7wEsYcUn15 ", "table_path": "", "page_number": 196, "type": "Aside[157]/P[4]", "header": "Updating registry information for software downloads "}, {"text": "Repeat this step on each host or sync: ", "table_path": "", "page_number": 196, "type": "P[517]", "header": "Updating registry information for software downloads "}, {"text": "sudo bp2-site sync-site-config ", "table_path": "", "page_number": 196, "type": "Aside[158]/P", "header": "Updating registry information for software downloads "}, {"text": "Restart solutionmanager: ", "table_path": "", "page_number": 196, "type": "P[518]", "header": "Updating registry information for software downloads "}, {"text": "sudo bp2-site sm-restart ", "table_path": "", "page_number": 196, "type": "Aside[159]/P", "header": "Updating registry information for software downloads "}, {"text": "", "table_path": "", "page_number": 196, "type": "L[263]", "header": "Updating registry information for software downloads "}, {"text": "", "table_path": "figures/fileoutpart321.png", "page_number": 197, "type": "Figure[113]", "header": "Updating registry information for software downloads "}, {"text": "docker login -u <username> -p <password> -e \"<email> <repository name> ", "table_path": "", "page_number": 197, "type": "Figure[113]", "header": "Updating registry information for software downloads "}, {"text": "", "table_path": "", "page_number": 197, "type": "P[519]", "header": "Updating registry information for software downloads "}]}, {"header": "Downloading Blue Planet software updates ", "content": [{"text": "", "table_path": "", "page_number": 197, "type": "P[520]", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "P[521]", "header": "Downloading Blue Planet software updates "}, {"text": "1. ", "table_path": "", "page_number": 197, "type": "L[264]/LI/Lbl", "header": "Downloading Blue Planet software updates "}, {"text": "Back up the backup solution before you continue. ", "table_path": "", "page_number": 197, "type": "L[264]/LI/LBody/ParagraphSpan", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "figures/fileoutpart322.png", "page_number": 197, "type": "L[264]/LI/LBody/Figure", "header": "Downloading Blue Planet software updates "}, {"text": "(Cmd) solution_backup <repo:solution_name> --label <snapshot_name> ", "table_path": "", "page_number": 197, "type": "L[264]/LI/LBody/Figure", "header": "Downloading Blue Planet software updates "}, {"text": "a. ", "table_path": "", "page_number": 197, "type": "L[264]/LI/LBody/L/LI/Lbl", "header": "Downloading Blue Planet software updates "}, {"text": "For example: ", "table_path": "", "page_number": 197, "type": "L[264]/LI/LBody/L/LI/LBody", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "L[264]/LI/LBody/L/LI", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "L[264]/LI/LBody/L", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "L[264]/LI/LBody", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "L[264]/LI", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "L[264]", "header": "Downloading Blue Planet software updates "}, {"text": "(Cmd) solution_backup artifactory.ciena.com.blueplanet.uaa:ha-19.02.1-63 --label backup-orch-solution-name ", "table_path": "", "page_number": 197, "type": "Aside[160]/P", "header": "Downloading Blue Planet software updates "}, {"text": "b. ", "table_path": "", "page_number": 197, "type": "L[265]/LI/Lbl", "header": "Downloading Blue Planet software updates "}, {"text": "Backup the Camunda BPMN solution (if applicable) ", "table_path": "", "page_number": 197, "type": "L[265]/LI/LBody", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "L[265]/LI", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "L[265]", "header": "Downloading Blue Planet software updates "}, {"text": "", "table_path": "", "page_number": 197, "type": "Aside[161]/P", "header": "Downloading Blue Planet software updates "}]}, {"header": "Verifying Blue Planet applications and resource adapter software ", "content": [{"text": "You can verify the Blue Planet application software versions you installed on your server using the user interface or the command line. ", "table_path": "", "page_number": 198, "type": "P[522]", "header": "Verifying Blue Planet applications and resource adapter software "}]}, {"header": "UI verification ", "content": [{"text": "To verify the installed versions of the platform, uaa solutions, and RAs: ", "table_path": "", "page_number": 198, "type": "P[523]", "header": "UI verification "}, {"text": "", "table_path": "", "page_number": 198, "type": "L[266]", "header": "UI verification "}]}, {"header": "Command line verification ", "content": [{"text": "", "table_path": "", "page_number": 198, "type": "P[524]", "header": "Command line verification "}, {"text": "Table 7. File verification commands ", "table_path": "", "page_number": 198, "type": "P[525]", "header": "Command line verification "}, {"text": "", "table_path": "tables/fileoutpart323.xlsx", "page_number": 198, "type": "Table[36]", "header": "Command line verification "}]}, {"header": "", "content": []}, {"header": "COMMANDS ", "content": []}, {"header": "", "content": []}, {"header": "VERIFY ", "content": [{"text": "", "table_path": "", "page_number": 198, "type": "Table[36]/TR[2]/TD", "header": "VERIFY "}, {"text": "docker ps | grep solutionmanager | awk '{print $2}' ", "table_path": "", "page_number": 198, "type": "Table[36]/TR[2]/TD/P", "header": "VERIFY "}, {"text": "", "table_path": "", "page_number": 198, "type": "Table[36]/TR[2]/TD[2]", "header": "VERIFY "}, {"text": "solutionmanager:0.22.2-1363.64b7aab.22.12 ", "table_path": "", "page_number": 198, "type": "Table[36]/TR[2]/TD[2]/P", "header": "VERIFY "}, {"text": "", "table_path": "", "page_number": 198, "type": "Table[36]/TR[3]/TD", "header": "VERIFY "}, {"text": "solman sps ", "table_path": "", "page_number": 198, "type": "Table[36]/TR[3]/TD/P", "header": "VERIFY "}, {"text": "", "table_path": "", "page_number": 198, "type": "Table[36]/TR[3]/TD[2]", "header": "VERIFY "}, {"text": "Lists all the deployed docker containers including the platform solution: 22.12.x ", "table_path": "", "page_number": 198, "type": "Table[36]/TR[3]/TD[2]/P", "header": "VERIFY "}]}, {"header": "Process to upgrade RAM or Disk ", "content": [{"text": "While upgrading your RAM or Disk, following two options are possible: ", "table_path": "", "page_number": 198, "type": "P[526]", "header": "Process to upgrade RAM or Disk "}, {"text": "", "table_path": "", "page_number": 198, "type": "L[267]", "header": "Process to upgrade RAM or Disk "}]}, {"header": "Process for OS patching ", "content": [{"text": "This could be done on both Ephemeral or Non-Ephemeral systems since you do not need to shutdown the servers, but you may need to reboot them. ", "table_path": "", "page_number": 199, "type": "P[527]", "header": "Process for OS patching "}, {"text": "", "table_path": "", "page_number": 199, "type": "P[528]", "header": "Process for OS patching "}, {"text": "", "table_path": "figures/fileoutpart325.png", "page_number": 199, "type": "Figure[114]", "header": "Process for OS patching "}, {"text": "\uf05a ", "table_path": "", "page_number": 199, "type": "Figure[114]", "header": "Process for OS patching "}, {"text": "Do not shut down the system and only perform a reboot. ", "table_path": "", "page_number": 199, "type": "P[529]", "header": "Process for OS patching "}]}]